<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>阿里云Nas加密和非加密区别以及实机评测 | Arkylin's Blog</title><meta name="description" content="什么是文件存储NAS 阿里云文件存储（Network Attached Storage，简称 NAS）是面向阿里云 ECS 实例、E-HPC 和容器服务等计算节点的文件存储服务。 定义 阿里云文件存储 NAS 是一个可共享访问、弹性扩展、高可靠以及高性能的分布式文件系统。它基于 POSIX 文件接口，天然适配原生操作系统，提供共享访问，同时保证数据一致性和锁互斥。 NAS 提供了简单的可扩展文件存"><meta name="keywords" content="阿里云,Nas,加密"><meta name="author" content="凌"><meta name="copyright" content="凌"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/arv/img/favicon.ico"><link rel="canonical" href="https://www.xyz.blue/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation.html"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="3x3J5LytTFfKwMFjrRMLAG5xqLq8YjdCxyagEPju8cU"/><meta name="360-site-verification" content="08cacc22aaf560c600c4b3092582456a"/><meta property="og:type" content="article"><meta property="og:title" content="阿里云Nas加密和非加密区别以及实机评测"><meta property="og:url" content="https://www.xyz.blue/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation.html"><meta property="og:site_name" content="Arkylin's Blog"><meta property="og:description" content="什么是文件存储NAS 阿里云文件存储（Network Attached Storage，简称 NAS）是面向阿里云 ECS 实例、E-HPC 和容器服务等计算节点的文件存储服务。 定义 阿里云文件存储 NAS 是一个可共享访问、弹性扩展、高可靠以及高性能的分布式文件系统。它基于 POSIX 文件接口，天然适配原生操作系统，提供共享访问，同时保证数据一致性和锁互斥。 NAS 提供了简单的可扩展文件存"><meta property="og:image" content="https://www.xyz.blue/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation/Aliyun_Nas.png"><meta property="article:published_time" content="2020-01-28T09:27:00.000Z"><meta property="article:modified_time" content="2020-04-05T11:55:50.000Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="prev" title="非交互式修改SSH密码" href="https://www.xyz.blue/2020/01/28/non-interactive-ssh-password-modification.html"><link rel="next" title="关于Mariadb和Mysql高版本的本地登录无需密码问题及说明" href="https://www.xyz.blue/2020/01/08/no-password-problem-and-instructions-for-local-login-of-mariadb-and-mysql.html"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?f9a10d3a303ae326f03eab0201f37d96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>(function(){var bp = document.createElement('script');var curProtocol = window.location.protocol.split(':')[0];if (curProtocol === 'https'){bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';}else{bp.src = 'http://push.zhanzhang.baidu.com/push.js';}var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp, s);})();</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: 
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/RSS.xml" title="Arkylin's Blog" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/arv/img/avatar.png" onerror="onerror=null;src='/arv/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">67</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">76</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">16</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/projects/"><i class="fa-fw fas fa-object-ungroup"></i><span> 我的项目</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><header class="post-bg" id="page-header" style="background-image: url(/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation/Aliyun_Nas.png)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Arkylin's Blog</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/projects/"><i class="fa-fw fas fa-object-ungroup"></i><span> 我的项目</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">阿里云Nas加密和非加密区别以及实机评测</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-01-28 17:27:00"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2020-01-28</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-04-05 19:55:50"><i class="fas fa-history fa-fw"></i> 更新于 2020-04-05</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/Skill/">技巧</a><i class="fas fa-angle-right post-meta__separator"></i><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/Evaluation/">测评</a><i class="fas fa-angle-right post-meta__separator"></i><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/Evaluation/Aliyun/">阿里云</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta__icon"></i><span>字数总计:</span><span class="word-count">4.8k</span><span class="post-meta__separator">|</span><i class="far fa-clock fa-fw post-meta__icon"></i><span>阅读时长: 27 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="far fa-eye fa-fw post-meta__icon"></i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="far fa-comments fa-fw post-meta__icon"></i><span>评论数:</span><a href="/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation.html#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation.html" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p><em>什么是文件存储NAS</em></p>
<p>阿里云文件存储（Network Attached Storage，简称 NAS）是面向阿里云 ECS 实例、E-HPC 和容器服务等计算节点的文件存储服务。</p>
<p>定义</p>
<p>阿里云文件存储 NAS 是一个可共享访问、弹性扩展、高可靠以及高性能的分布式文件系统。它基于 POSIX 文件接口，天然适配原生操作系统，提供共享访问，同时保证数据一致性和锁互斥。</p>
<p>NAS 提供了简单的可扩展文件存储以供与 ECS 配合使用，多个ECS实例可以同时访问 NAS 文件系统，并且存储容量会随着您添加和删除文件而自动弹性增长和收缩，为在多个实例或服务器上运行的工作负载和应用程序提供通用数据源。</p>
<p>NAS 支持丰富的应用场景，详情请参见应用场景。</p>
<p>NAS 提供了容量型、性能型以及极速型存储类型，更多详情请参见存储类型。</p>
<p>产品优势</p>
<p>NAS 在成本、安全、简单、可靠性以及性能上都具有自身的优势。</p>
<p>成本</p>
<p>一个 NAS 文件系统可以同时挂载到多个计算节点上，由这些节点共享访问，从而节约大量拷贝与同步成本。</p>
<p>单个 NAS 文件系统的性能能够随存储容量线性扩展，使用户无需购买高端的文件存储设备，大幅降低硬件成本。</p>
<p>使用 NAS文件存储，您只需为文件系统使用的存储空间付费，不需要提前配置存储，并且不存在最低费用或设置费用。更多详情，请参见计量项和计费说明。</p>
<p>NAS 的高可靠性能够降低数据安全风险，从而大幅节约维护成本。</p>
<p>简单</p>
<p>一键创建文件系统，无需部署维护文件系统。</p>
<p>安全</p>
<p>基于 RAM 实现的资源访问控制，基于VPC实现的网络访问隔离，结合文件存储 NAS 的传输加密与存储加密特性，保障数据不被窃取或篡改。</p>
<p>高可靠性</p>
<p>NAS 提供 99.999999999% 的数据可靠性，能够有效降低数据安全风险。</p>
<p>高性能</p>
<p>基于分布式架构文件系统，随着容量的增长性能线性扩展，提供远高于传统存储的性能。</p>
<p>兼容性</p>
<p>NAS 文件存储提供良好的协议兼容性，支持 NFS 和 SMB 协议方案，兼容POSIX 文件系统访问语义，提供强大的数据一致性和文件锁定。</p>
<p>在 NAS 中，任何文件修改成功后，用户都能够立刻看到修改结果，便于用户实时修改存储内容。</p>
<img src= "/img/loading.gif" data-src="/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation/Aliyun_Nas.png" width="100%" alt="Aliyun_Nas">



<p><strong>test1为加密，test2为非加密</strong></p>
<p>test1 随机读IOPS设置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randread -bs&#x3D;4K -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test1</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randread, bs&#x3D;(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Fio: Laying out IO file (1 file &#x2F; 1024MiB)</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [r(1)][100.0%][r&#x3D;97.8MiB&#x2F;s][r&#x3D;25.0k IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1482: Mon Jan 27 23:33:22 2020</span><br><span class="line"></span><br><span class="line">  read: IOPS&#x3D;24.1k, BW&#x3D;94.3MiB&#x2F;s (98.9MB&#x2F;s)(5659MiB&#x2F;60006msec)</span><br><span class="line"></span><br><span class="line">    slat (nsec): min&#x3D;1871, max&#x3D;4225.7k, avg&#x3D;8454.96, stdev&#x3D;17814.51</span><br><span class="line"></span><br><span class="line">    clat (usec): min&#x3D;1150, max&#x3D;66695, avg&#x3D;5291.30, stdev&#x3D;1830.86</span><br><span class="line"></span><br><span class="line">     lat (usec): min&#x3D;1157, max&#x3D;66711, avg&#x3D;5299.96, stdev&#x3D;1830.83</span><br><span class="line"></span><br><span class="line">    clat percentiles (usec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[ 2409],  5.00th&#x3D;[ 2933], 10.00th&#x3D;[ 3294], 20.00th&#x3D;[ 3785],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 4228], 40.00th&#x3D;[ 4621], 50.00th&#x3D;[ 5080], 60.00th&#x3D;[ 5473],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 5997], 80.00th&#x3D;[ 6587], 90.00th&#x3D;[ 7504], 95.00th&#x3D;[ 8455],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[10683], 99.50th&#x3D;[11994], 99.90th&#x3D;[17171], 99.95th&#x3D;[19268],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[35914]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D;87160, max&#x3D;104926, per&#x3D;99.98%, avg&#x3D;96554.23, stdev&#x3D;3373.87, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;21790, max&#x3D;26231, avg&#x3D;24138.51, stdev&#x3D;843.44, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 2&#x3D;0.13%, 4&#x3D;24.57%, 10&#x3D;73.71%, 20&#x3D;1.56%, 50&#x3D;0.03%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 100&#x3D;0.01%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;5.74%, sys&#x3D;15.74%, ctx&#x3D;800135, majf&#x3D;0, minf&#x3D;137</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.1%, 32&#x3D;0.1%, &gt;&#x3D;64&#x3D;100.0%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;1448757,0,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">   READ: bw&#x3D;94.3MiB&#x2F;s (98.9MB&#x2F;s), 94.3MiB&#x2F;s-94.3MiB&#x2F;s (98.9MB&#x2F;s-98.9MB&#x2F;s), io&#x3D;5659MiB (5934MB), run&#x3D;60006-60006msec</span><br></pre></td></tr></table></figure>



<p>test2不 随机读IOPS设置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randread -bs&#x3D;4K -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test2</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randread, bs&#x3D;(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Fio: Laying out IO file (1 file &#x2F; 1024MiB)</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [r(1)][100.0%][r&#x3D;104MiB&#x2F;s][r&#x3D;26.5k IOPS][eta 00m:00s] </span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1494: Mon Jan 27 23:35:30 2020</span><br><span class="line"></span><br><span class="line">  read: IOPS&#x3D;25.7k, BW&#x3D;100MiB&#x2F;s (105MB&#x2F;s)(6023MiB&#x2F;60005msec)</span><br><span class="line"></span><br><span class="line">    slat (nsec): min&#x3D;1848, max&#x3D;1328.1k, avg&#x3D;8603.01, stdev&#x3D;21240.04</span><br><span class="line"></span><br><span class="line">    clat (usec): min&#x3D;1126, max&#x3D;152365, avg&#x3D;4971.28, stdev&#x3D;2067.07</span><br><span class="line"></span><br><span class="line">     lat (usec): min&#x3D;1132, max&#x3D;152368, avg&#x3D;4980.10, stdev&#x3D;2067.06</span><br><span class="line"></span><br><span class="line">    clat percentiles (usec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[ 2245],  5.00th&#x3D;[ 2671], 10.00th&#x3D;[ 2999], 20.00th&#x3D;[ 3458],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 3884], 40.00th&#x3D;[ 4293], 50.00th&#x3D;[ 4752], 60.00th&#x3D;[ 5145],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 5669], 80.00th&#x3D;[ 6259], 90.00th&#x3D;[ 7111], 95.00th&#x3D;[ 7963],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[10290], 99.50th&#x3D;[11731], 99.90th&#x3D;[17957], 99.95th&#x3D;[22676],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[40633]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D;86856, max&#x3D;111976, per&#x3D;99.98%, avg&#x3D;102751.36, stdev&#x3D;3685.76, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;21714, max&#x3D;27994, avg&#x3D;25687.74, stdev&#x3D;921.31, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 2&#x3D;0.28%, 4&#x3D;32.38%, 10&#x3D;66.15%, 20&#x3D;1.11%, 50&#x3D;0.06%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 100&#x3D;0.01%, 250&#x3D;0.01%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;5.96%, sys&#x3D;15.47%, ctx&#x3D;789134, majf&#x3D;0, minf&#x3D;138</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.1%, 32&#x3D;0.1%, &gt;&#x3D;64&#x3D;100.0%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;1541761,0,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">   READ: bw&#x3D;100MiB&#x2F;s (105MB&#x2F;s), 100MiB&#x2F;s-100MiB&#x2F;s (105MB&#x2F;s-105MB&#x2F;s), io&#x3D;6023MiB (6315MB), run&#x3D;60005-60005msec</span><br></pre></td></tr></table></figure>



<p>test1随机写IOPS设置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randwrite -bs&#x3D;4K -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test1</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randwrite, bs&#x3D;(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [w(1)][100.0%][w&#x3D;75.7MiB&#x2F;s][w&#x3D;19.4k IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1498: Mon Jan 27 23:37:40 2020</span><br><span class="line"></span><br><span class="line">  write: IOPS&#x3D;18.2k, BW&#x3D;71.2MiB&#x2F;s (74.7MB&#x2F;s)(4282MiB&#x2F;60113msec); 0 zone resets</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;2, max&#x3D;616, avg&#x3D; 7.55, stdev&#x3D; 6.92</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;2, max&#x3D;232, avg&#x3D; 7.01, stdev&#x3D; 7.15</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;2, max&#x3D;232, avg&#x3D; 7.02, stdev&#x3D; 7.15</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[    4],  5.00th&#x3D;[    4], 10.00th&#x3D;[    5], 20.00th&#x3D;[    5],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[    5], 40.00th&#x3D;[    6], 50.00th&#x3D;[    6], 60.00th&#x3D;[    7],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[    7], 80.00th&#x3D;[    8], 90.00th&#x3D;[   10], 95.00th&#x3D;[   12],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[   36], 99.50th&#x3D;[   47], 99.90th&#x3D;[  116], 99.95th&#x3D;[  140],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[  197]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D;48336, max&#x3D;85600, per&#x3D;100.00%, avg&#x3D;73062.90, stdev&#x3D;7091.42, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;12084, max&#x3D;21400, avg&#x3D;18265.67, stdev&#x3D;1772.83, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 4&#x3D;9.40%, 10&#x3D;82.41%, 20&#x3D;6.18%, 50&#x3D;1.56%, 100&#x3D;0.30%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 250&#x3D;0.14%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;5.55%, sys&#x3D;14.95%, ctx&#x3D;735321, majf&#x3D;0, minf&#x3D;10</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.1%, 32&#x3D;0.1%, &gt;&#x3D;64&#x3D;100.0%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;0,1096310,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">  WRITE: bw&#x3D;71.2MiB&#x2F;s (74.7MB&#x2F;s), 71.2MiB&#x2F;s-71.2MiB&#x2F;s (74.7MB&#x2F;s-74.7MB&#x2F;s), io&#x3D;4282MiB (4490MB), run&#x3D;60113-60113msec</span><br></pre></td></tr></table></figure>



<p>test2随机写IOPS设置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randwrite -bs&#x3D;4K -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test2</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randwrite, bs&#x3D;(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [w(1)][100.0%][w&#x3D;79.6MiB&#x2F;s][w&#x3D;20.4k IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1503: Mon Jan 27 23:39:14 2020</span><br><span class="line"></span><br><span class="line">  write: IOPS&#x3D;19.1k, BW&#x3D;74.5MiB&#x2F;s (78.1MB&#x2F;s)(4468MiB&#x2F;60007msec); 0 zone resets</span><br><span class="line"></span><br><span class="line">    slat (nsec): min&#x3D;1997, max&#x3D;791752, avg&#x3D;7377.43, stdev&#x3D;6986.23</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;2, max&#x3D;281, avg&#x3D; 6.71, stdev&#x3D; 7.43</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;2, max&#x3D;281, avg&#x3D; 6.71, stdev&#x3D; 7.43</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[    4],  5.00th&#x3D;[    4], 10.00th&#x3D;[    4], 20.00th&#x3D;[    5],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[    5], 40.00th&#x3D;[    6], 50.00th&#x3D;[    6], 60.00th&#x3D;[    6],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[    7], 80.00th&#x3D;[    8], 90.00th&#x3D;[    9], 95.00th&#x3D;[   11],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[   36], 99.50th&#x3D;[   47], 99.90th&#x3D;[  121], 99.95th&#x3D;[  157],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[  220]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D;46232, max&#x3D;89360, per&#x3D;99.99%, avg&#x3D;76228.64, stdev&#x3D;7455.48, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;11558, max&#x3D;22340, avg&#x3D;19057.13, stdev&#x3D;1863.88, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 4&#x3D;11.69%, 10&#x3D;81.90%, 20&#x3D;4.37%, 50&#x3D;1.60%, 100&#x3D;0.31%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 250&#x3D;0.13%, 500&#x3D;0.01%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;6.16%, sys&#x3D;14.79%, ctx&#x3D;714669, majf&#x3D;0, minf&#x3D;10</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.1%, 32&#x3D;0.1%, &gt;&#x3D;64&#x3D;100.0%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;0,1143725,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">  WRITE: bw&#x3D;74.5MiB&#x2F;s (78.1MB&#x2F;s), 74.5MiB&#x2F;s-74.5MiB&#x2F;s (78.1MB&#x2F;s-78.1MB&#x2F;s), io&#x3D;4468MiB (4685MB), run&#x3D;60007-60007msec</span><br></pre></td></tr></table></figure>



<p>test1随机读吞吐</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randread -bs&#x3D;1M -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test1</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randread, bs&#x3D;(R) 1024KiB-1024KiB, (W) 1024KiB-1024KiB, (T) 1024KiB-1024KiB, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [r(1)][100.0%][r&#x3D;1024KiB&#x2F;s][r&#x3D;1 IOPS][eta 00m:00s] </span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1511: Mon Jan 27 23:41:49 2020</span><br><span class="line"></span><br><span class="line">  read: IOPS&#x3D;119, BW&#x3D;119MiB&#x2F;s (125MB&#x2F;s)(7292MiB&#x2F;61170msec)</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;54, max&#x3D;3004, avg&#x3D;163.83, stdev&#x3D;196.42</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;10, max&#x3D;2494, avg&#x3D;1072.78, stdev&#x3D;189.89</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;10, max&#x3D;2495, avg&#x3D;1072.94, stdev&#x3D;189.86</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[  241],  5.00th&#x3D;[  902], 10.00th&#x3D;[  961], 20.00th&#x3D;[ 1028],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 1053], 40.00th&#x3D;[ 1070], 50.00th&#x3D;[ 1083], 60.00th&#x3D;[ 1099],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 1116], 80.00th&#x3D;[ 1133], 90.00th&#x3D;[ 1200], 95.00th&#x3D;[ 1250],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[ 1754], 99.50th&#x3D;[ 2005], 99.90th&#x3D;[ 2198], 99.95th&#x3D;[ 2265],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[ 2500]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D; 2048, max&#x3D;247808, per&#x3D;99.33%, avg&#x3D;121252.40, stdev&#x3D;27860.84, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;    2, max&#x3D;  242, avg&#x3D;118.36, stdev&#x3D;27.22, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 20&#x3D;0.16%, 50&#x3D;0.08%, 100&#x3D;0.29%, 250&#x3D;0.48%, 500&#x3D;1.54%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 750&#x3D;0.37%, 1000&#x3D;12.53%, 2000&#x3D;84.01%, &gt;&#x3D;2000&#x3D;0.53%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;0.08%, sys&#x3D;1.19%, ctx&#x3D;16345, majf&#x3D;0, minf&#x3D;32778</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.2%, 32&#x3D;0.4%, &gt;&#x3D;64&#x3D;99.1%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;7292,0,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">   READ: bw&#x3D;119MiB&#x2F;s (125MB&#x2F;s), 119MiB&#x2F;s-119MiB&#x2F;s (125MB&#x2F;s-125MB&#x2F;s), io&#x3D;7292MiB (7646MB), run&#x3D;61170-61170msec</span><br></pre></td></tr></table></figure>



<p>test2随机读吞吐</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randread -bs&#x3D;1M -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test2</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randread, bs&#x3D;(R) 1024KiB-1024KiB, (W) 1024KiB-1024KiB, (T) 1024KiB-1024KiB, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [r(1)][100.0%][r&#x3D;11.0MiB&#x2F;s][r&#x3D;11 IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1514: Mon Jan 27 23:43:58 2020</span><br><span class="line"></span><br><span class="line">  read: IOPS&#x3D;119, BW&#x3D;119MiB&#x2F;s (125MB&#x2F;s)(7304MiB&#x2F;61174msec)</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;52, max&#x3D;5598, avg&#x3D;183.95, stdev&#x3D;270.59</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;146, max&#x3D;2256, avg&#x3D;1071.05, stdev&#x3D;171.09</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;146, max&#x3D;2257, avg&#x3D;1071.23, stdev&#x3D;171.04</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[  317],  5.00th&#x3D;[  902], 10.00th&#x3D;[  961], 20.00th&#x3D;[ 1020],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 1053], 40.00th&#x3D;[ 1070], 50.00th&#x3D;[ 1083], 60.00th&#x3D;[ 1099],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 1116], 80.00th&#x3D;[ 1133], 90.00th&#x3D;[ 1200], 95.00th&#x3D;[ 1234],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[ 1636], 99.50th&#x3D;[ 1989], 99.90th&#x3D;[ 2140], 99.95th&#x3D;[ 2265],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[ 2265]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D; 2048, max&#x3D;288768, per&#x3D;99.35%, avg&#x3D;121466.95, stdev&#x3D;25110.94, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;    2, max&#x3D;  282, avg&#x3D;118.60, stdev&#x3D;24.52, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 250&#x3D;0.21%, 500&#x3D;2.01%, 750&#x3D;0.77%, 1000&#x3D;13.81%, 2000&#x3D;82.79%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : &gt;&#x3D;2000&#x3D;0.41%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;0.09%, sys&#x3D;1.19%, ctx&#x3D;16454, majf&#x3D;0, minf&#x3D;32778</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.2%, 32&#x3D;0.4%, &gt;&#x3D;64&#x3D;99.1%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;7304,0,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">   READ: bw&#x3D;119MiB&#x2F;s (125MB&#x2F;s), 119MiB&#x2F;s-119MiB&#x2F;s (125MB&#x2F;s-125MB&#x2F;s), io&#x3D;7304MiB (7659MB), run&#x3D;61174-61174msec</span><br></pre></td></tr></table></figure>



<p>test1随机写吞吐</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randwrite -bs&#x3D;1M -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test1</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randwrite, bs&#x3D;(R) 1024KiB-1024KiB, (W) 1024KiB-1024KiB, (T) 1024KiB-1024KiB, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [w(1)][100.0%][w&#x3D;28.0MiB&#x2F;s][w&#x3D;28 IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1522: Mon Jan 27 23:48:33 2020</span><br><span class="line"></span><br><span class="line">  write: IOPS&#x3D;127, BW&#x3D;127MiB&#x2F;s (134MB&#x2F;s)(7771MiB&#x2F;61014msec); 0 zone resets</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;104, max&#x3D;941, avg&#x3D;172.70, stdev&#x3D;37.40</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;55, max&#x3D;2021, avg&#x3D;1004.46, stdev&#x3D;156.46</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;55, max&#x3D;2021, avg&#x3D;1004.64, stdev&#x3D;156.46</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[  150],  5.00th&#x3D;[  986], 10.00th&#x3D;[ 1011], 20.00th&#x3D;[ 1020],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 1020], 40.00th&#x3D;[ 1020], 50.00th&#x3D;[ 1020], 60.00th&#x3D;[ 1020],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 1020], 80.00th&#x3D;[ 1028], 90.00th&#x3D;[ 1028], 95.00th&#x3D;[ 1045],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[ 1401], 99.50th&#x3D;[ 1720], 99.90th&#x3D;[ 1972], 99.95th&#x3D;[ 2005],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[ 2022]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D; 2048, max&#x3D;370688, per&#x3D;99.19%, avg&#x3D;129364.72, stdev&#x3D;25090.44, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;    2, max&#x3D;  362, avg&#x3D;126.29, stdev&#x3D;24.51, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 100&#x3D;0.23%, 250&#x3D;1.90%, 500&#x3D;0.48%, 750&#x3D;0.50%, 1000&#x3D;3.53%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 2000&#x3D;93.31%, &gt;&#x3D;2000&#x3D;0.05%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;1.07%, sys&#x3D;1.22%, ctx&#x3D;8135, majf&#x3D;0, minf&#x3D;9</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.2%, 32&#x3D;0.4%, &gt;&#x3D;64&#x3D;99.2%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;0,7771,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">  WRITE: bw&#x3D;127MiB&#x2F;s (134MB&#x2F;s), 127MiB&#x2F;s-127MiB&#x2F;s (134MB&#x2F;s-134MB&#x2F;s), io&#x3D;7771MiB (8148MB), run&#x3D;61014-61014msec</span><br></pre></td></tr></table></figure>



<p>test2随机写吞吐</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randwrite -bs&#x3D;1M -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test2</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randwrite, bs&#x3D;(R) 1024KiB-1024KiB, (W) 1024KiB-1024KiB, (T) 1024KiB-1024KiB, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [w(1)][100.0%][w&#x3D;28.0MiB&#x2F;s][w&#x3D;28 IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1533: Mon Jan 27 23:51:47 2020</span><br><span class="line"></span><br><span class="line">  write: IOPS&#x3D;127, BW&#x3D;127MiB&#x2F;s (134MB&#x2F;s)(7772MiB&#x2F;61020msec); 0 zone resets</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;101, max&#x3D;1754, avg&#x3D;173.58, stdev&#x3D;42.61</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;52, max&#x3D;2019, avg&#x3D;1004.43, stdev&#x3D;161.16</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;52, max&#x3D;2019, avg&#x3D;1004.60, stdev&#x3D;161.16</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[  133],  5.00th&#x3D;[  894], 10.00th&#x3D;[ 1003], 20.00th&#x3D;[ 1011],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 1020], 40.00th&#x3D;[ 1020], 50.00th&#x3D;[ 1020], 60.00th&#x3D;[ 1020],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 1020], 80.00th&#x3D;[ 1028], 90.00th&#x3D;[ 1028], 95.00th&#x3D;[ 1070],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[ 1401], 99.50th&#x3D;[ 1720], 99.90th&#x3D;[ 1972], 99.95th&#x3D;[ 2005],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[ 2022]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D; 2048, max&#x3D;371992, per&#x3D;99.20%, avg&#x3D;129375.29, stdev&#x3D;26928.24, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;    2, max&#x3D;  363, avg&#x3D;126.30, stdev&#x3D;26.28, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 100&#x3D;0.39%, 250&#x3D;1.71%, 500&#x3D;0.49%, 750&#x3D;0.46%, 1000&#x3D;5.96%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 2000&#x3D;90.97%, &gt;&#x3D;2000&#x3D;0.03%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;1.31%, sys&#x3D;0.98%, ctx&#x3D;8027, majf&#x3D;0, minf&#x3D;10</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.2%, 32&#x3D;0.4%, &gt;&#x3D;64&#x3D;99.2%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;0,7772,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">  WRITE: bw&#x3D;127MiB&#x2F;s (134MB&#x2F;s), 127MiB&#x2F;s-127MiB&#x2F;s (134MB&#x2F;s-134MB&#x2F;s), io&#x3D;7772MiB (8150MB), run&#x3D;61020-61020msec</span><br></pre></td></tr></table></figure>





<hr>
<p>可以看出还是非加密好一点😁😁😁</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">凌</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.xyz.blue/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation.html">https://www.xyz.blue/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.xyz.blue" target="_blank">Arkylin's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Aliyun/">阿里云</a><a class="post-meta__tags" href="/tags/Nas/">Nas</a><a class="post-meta__tags" href="/tags/Encryption/">加密</a></div><div class="post_share"><div class="social-share" data-image="/2020/07/06/Alibaba-Cloud-Cloud-function-configuration-Baidu-automatic-push/baidu_push.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/01/28/non-interactive-ssh-password-modification.html"><img class="prev-cover" data-src="/arv/img/post_37.jpg" onerror="onerror=null;src='/arv/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">非交互式修改SSH密码</div></div></a></div><div class="next-post pull-right"><a href="/2020/01/08/no-password-problem-and-instructions-for-local-login-of-mariadb-and-mysql.html"><img class="next-cover" data-src="/arv/img/post_4.jpg" onerror="onerror=null;src='/arv/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">关于Mariadb和Mysql高版本的本地登录无需密码问题及说明</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/07/06/Alibaba-Cloud-Cloud-function-configuration-Baidu-automatic-push.html" title="阿里云云函数配置百度自动推送"><img class="relatedPosts_cover" data-src="/2020/07/06/Alibaba-Cloud-Cloud-function-configuration-Baidu-automatic-push/baidu_push.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-06</div><div class="relatedPosts_title">阿里云云函数配置百度自动推送</div></div></a></div><div class="relatedPosts_item"><a href="/2020/07/05/alibaba-cloud-function-calculation-combined-with-table-storage-to-make-webpage-statistics-tool.html" title="阿里云函数计算配合表格储存制作网页统计工具"><img class="relatedPosts_cover" data-src="/arv/img/post_29.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-05</div><div class="relatedPosts_title">阿里云函数计算配合表格储存制作网页统计工具</div></div></a></div><div class="relatedPosts_item"><a href="/2020/05/15/hexo-alibaba-cloud-oss-upload-plugin-supports-check-md5.html" title="Hexo阿里云OSS上传插件（支持校验MD5）"><img class="relatedPosts_cover" data-src="/2020/05/15/hexo-alibaba-cloud-oss-upload-plugin-supports-check-md5/deployer.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-15</div><div class="relatedPosts_title">Hexo阿里云OSS上传插件（支持校验MD5）</div></div></a></div><div class="relatedPosts_item"><a href="/2020/01/28/alibaba-cloud-operation-and-maintenance-choreography-practical-configuration.html" title="阿里云运维编排实用配置"><img class="relatedPosts_cover" data-src="/2020/01/28/alibaba-cloud-operation-and-maintenance-choreography-practical-configuration/Aliyun-OOS-view.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-01-28</div><div class="relatedPosts_title">阿里云运维编排实用配置</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var requestSetting = function (from,set) {
  var from = from
  var setting = set.split(',').filter(function(item){
  return from.indexOf(item) > -1
  });
  setting = setting.length == 0 ? from :setting;
  return setting
}

var guestInfo = requestSetting(['nick','mail','link'],'nick,mail,link')
var requiredFields = requestSetting(['nick','mail'],'nick,mail')

window.valine = new Valine({
  el:'#vcomment',
  appId: 'va3F4N3qz4tHNlHuW5wwGY7j-MdYXbMMI',
  appKey: '7uByaK8RDwKnPcnSCvJG5uQA',
  placeholder: '留下你的想法吧！ PS:网址可以不填',
  avatar: 'monsterid',
  meta: guestInfo,
  pageSize: '10',
  lang: 'zh-CN',
  recordIP: true,
  serverURLs: '',
  emojiCDN: '',
  emojiMaps: "",
  enableQQ: false,
  requiredFields: requiredFields
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By 凌</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" title="缩小字体"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="简繁转换">繁</button><button id="darkmode" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fas fa-comments"></i></a><button id="go-up" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/search/local-search.js"></script></body></html>