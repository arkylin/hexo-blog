<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>é˜¿é‡Œäº‘äº‘å‡½æ•°é…ç½®ç™¾åº¦è‡ªåŠ¨æ¨é€</title>
      <link href="/2020/07/06/Alibaba-Cloud-Cloud-function-configuration-Baidu-automatic-push.html"/>
      <url>/2020/07/06/Alibaba-Cloud-Cloud-function-configuration-Baidu-automatic-push.html</url>
      
        <content type="html"><![CDATA[<p>å®ç°æµè§ˆæ–‡ç« æ—¶è‡ªåŠ¨æ¨é€é“¾æ¥åˆ°ç™¾åº¦</p><p>å¦‚å›¾<br><img src= "/img/loading.gif" data-src="/2020/07/06/Alibaba-Cloud-Cloud-function-configuration-Baidu-automatic-push/baidu_push.png" width="100%" alt="baidu_push"></p><figure class="highlight python"><figcaption><span>index.py</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/baidu-push', methods=['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">baidu_push</span><span class="params">()</span>:</span></span><br><span class="line">    data = str(request.referrer)</span><br><span class="line">    <span class="comment">#data = 'https://www.xyz.blue/'</span></span><br><span class="line">    <span class="keyword">if</span> data != <span class="string">""</span>:</span><br><span class="line">      <span class="keyword">if</span> re.match(<span class="string">r'https://.*domain.name.*'</span>, data): <span class="comment">#é˜²æ»¥ç”¨åŸŸåæ¨é€é™åˆ¶</span></span><br><span class="line">        url = <span class="string">"http://data.zz.baidu.com/urls?site=https://domain.name&amp;token=your_token"</span></span><br><span class="line">        headers = &#123;</span><br><span class="line">          <span class="string">'User-Agent'</span>: <span class="string">'curl/7.12.1'</span>,</span><br><span class="line">          <span class="string">'Host'</span>: <span class="string">'data.zz.baidu.com'</span>,</span><br><span class="line">          <span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span>,</span><br><span class="line">          <span class="string">'Content-Length'</span>: <span class="string">'83'</span></span><br><span class="line">        &#125;</span><br><span class="line">        res = requests.post(url, headers=headers, data=data).text</span><br><span class="line">        text = json.loads(res)</span><br><span class="line">        <span class="keyword">if</span> text[<span class="string">'success'</span>] == <span class="number">1</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"&#123;'Res': 'Success'"</span> + <span class="string">","</span> + <span class="string">"'Remain':"</span> + <span class="string">" "</span> + str(text[<span class="string">'remain'</span>]) + <span class="string">"&#125;"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"&#123;'Res': 'Fail'&#125;"</span></span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&#123;'Res': 'Not_Same_Site'&#125;"</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"&#123;'Res': 'None'&#125;"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure><p>å‡½æ•°é…ç½®</p><figure class="highlight yaml"><figcaption><span>template.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">ROSTemplateFormatVersion:</span> <span class="string">'2015-09-01'</span></span><br><span class="line"><span class="attr">Transform:</span> <span class="string">'Aliyun::Serverless-2018-04-03'</span></span><br><span class="line"><span class="attr">Resources:</span></span><br><span class="line">  <span class="attr">Blog:</span></span><br><span class="line">    <span class="attr">Type:</span> <span class="string">'Aliyun::Serverless::Service'</span></span><br><span class="line">    <span class="attr">Properties:</span></span><br><span class="line">      <span class="attr">Role:</span> <span class="string">'acs:ram::ID:role/AliyunFCLogExecutionRole'</span></span><br><span class="line">      <span class="attr">LogConfig:</span></span><br><span class="line">        <span class="attr">Project:</span> <span class="string">aliyun-fc-ap-southeast-1-ID</span></span><br><span class="line">        <span class="attr">Logstore:</span> <span class="string">function-log</span></span><br><span class="line">      <span class="attr">InternetAccess:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">baidu-push:</span></span><br><span class="line">      <span class="attr">Type:</span> <span class="string">'Aliyun::Serverless::Function'</span></span><br><span class="line">      <span class="attr">Properties:</span></span><br><span class="line">        <span class="attr">Handler:</span> <span class="string">index.app</span></span><br><span class="line">        <span class="attr">Runtime:</span> <span class="string">python3</span></span><br><span class="line">        <span class="attr">Timeout:</span> <span class="number">5</span></span><br><span class="line">        <span class="attr">MemorySize:</span> <span class="number">128</span></span><br><span class="line">        <span class="attr">CodeUri:</span> <span class="string">Blog\baidu-push</span></span><br><span class="line">      <span class="attr">Events:</span></span><br><span class="line">        <span class="attr">baidu-push:</span></span><br><span class="line">          <span class="attr">Type:</span> <span class="string">HTTP</span></span><br><span class="line">          <span class="attr">Properties:</span></span><br><span class="line">            <span class="attr">AuthType:</span> <span class="string">ANONYMOUS</span></span><br><span class="line">            <span class="attr">Methods:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="string">GET</span></span><br></pre></td></tr></table></figure><p>Hexo-Butterflyé…ç½®<br>åœ¨<code>layout-include-head.pug</code>çš„é€‚å½“åœ°æ–¹æ’å…¥ä»¥å®ç°è‡ªåŠ¨åŠ è½½</p><figure class="highlight js"><figcaption><span>Example</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span> defer=<span class="string">""</span> src=<span class="string">"https://api.domain.name/baidu-push"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>æœ€åå‘ç°å…¶å®å¯ä»¥ç›´æ¥ç”¨ç™¾åº¦æä¾›çš„é¢ğŸ¤£ğŸ¤£ğŸ¤£ ğŸ‘€</p><figure class="highlight js"><figcaption><span>Example</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> bp = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">    <span class="keyword">var</span> curProtocol = <span class="built_in">window</span>.location.protocol.split(<span class="string">':'</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">if</span> (curProtocol === <span class="string">'https'</span>)&#123;</span><br><span class="line">   bp.src = <span class="string">'https://zz.bdstatic.com/linksubmit/push.js'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">  bp.src = <span class="string">'http://push.zhanzhang.baidu.com/push.js'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">    <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>];</span><br><span class="line">    s.parentNode.insertBefore(bp, s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é˜¿é‡Œäº‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜¿é‡Œäº‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—é…åˆè¡¨æ ¼å‚¨å­˜åˆ¶ä½œç½‘é¡µç»Ÿè®¡å·¥å…·</title>
      <link href="/2020/07/05/alibaba-cloud-function-calculation-combined-with-table-storage-to-make-webpage-statistics-tool.html"/>
      <url>/2020/07/05/alibaba-cloud-function-calculation-combined-with-table-storage-to-make-webpage-statistics-tool.html</url>
      
        <content type="html"><![CDATA[<p>è¡¨æ ¼å‚¨å­˜</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> tablestore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">OTS_ID = <span class="string">"ID"</span></span><br><span class="line">OTS_SECRET = <span class="string">"SEC"</span></span><br><span class="line">OTS_ENDPOINT = <span class="string">"ENDPOINT"</span></span><br><span class="line">OTS_INSTANCE = <span class="string">"NAME"</span></span><br><span class="line"><span class="comment">#OTS_STS_TOKEN = os.getenv('OTS_TEST_STS_TOKEN')</span></span><br><span class="line"></span><br><span class="line">table_name = <span class="string">'visitor_count'</span></span><br><span class="line">primary_key = [(<span class="string">'urls'</span>, <span class="string">'/1/1/1'</span>)]</span><br><span class="line">columns_to_get = [<span class="string">'numbers'</span>]</span><br><span class="line"></span><br><span class="line">client = OTSClient(OTS_ENDPOINT, OTS_ID, OTS_SECRET, OTS_INSTANCE)</span><br><span class="line"></span><br><span class="line">consumed, return_row, next_token = client.get_row(table_name, primary_key, columns_to_get)</span><br><span class="line"><span class="keyword">if</span> return_row != <span class="literal">None</span>:</span><br><span class="line">    print(return_row.attribute_columns[<span class="number">0</span>][<span class="number">1</span>])</span><br></pre></td></tr></table></figure><p>å‡½æ•°è®¡ç®—</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from flask import Flask, request</span><br><span class="line"></span><br><span class="line">app &#x3D; Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&#39;&#x2F;&#39;, methods&#x3D;[&#39;GET&#39;])</span><br><span class="line">def register():</span><br><span class="line">    #a &#x3D; request.args.get(&quot;1&quot;)</span><br><span class="line">    b &#x3D; str(request.referrer)</span><br><span class="line">    return b</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è„šæœ¬ </category>
          
          <category> é˜¿é‡Œäº‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜¿é‡Œäº‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonåšå®¢å°åŠ©æ‰‹</title>
      <link href="/2020/06/26/Python-Blog-Assistant.html"/>
      <url>/2020/06/26/Python-Blog-Assistant.html</url>
      
        <content type="html"><![CDATA[<p>åšäº†ä¸€ä¸ªpythonçš„åšå®¢åŠ©æ‰‹å¯ä»¥æ–¹ä¾¿å†™æ–‡ç« </p><p>1.æ¯”å¦‚å¯ä»¥çœç•¥<code>hexo new</code><br>2.å¯ä»¥ç›´æ¥åœ¨æ–‡ä»¶é€‰æ‹©æ¡†ä¸­é€‰æ‹©æ–‡ä»¶å¹¶ä¸€é”®æ·»åŠ åˆ°é™„ä»¶ç›®å½•<br>3.ç¨‹åºé‡‡ç”¨Python Tkinterå†™æˆ</p><img src= "/img/loading.gif" data-src="/2020/06/26/Python-Blog-Assistant/Blog-helper.png" width="100%" alt="Blog-helper"><figure class="highlight python"><figcaption><span>main.py</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">import</span> tkinter.filedialog <span class="keyword">as</span> tkf</span><br><span class="line"><span class="keyword">import</span> tkinter.messagebox <span class="keyword">as</span> msg</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> win32con</span><br><span class="line"><span class="keyword">import</span> win32clipboard</span><br><span class="line"><span class="comment">#from googletrans import Translator</span></span><br><span class="line"><span class="keyword">from</span> subprocess <span class="keyword">import</span> Popen, PIPE</span><br><span class="line"></span><br><span class="line"><span class="comment">#é…ç½®</span></span><br><span class="line"><span class="comment">#box.geometry("500x300")</span></span><br><span class="line"></span><br><span class="line">static_path=<span class="string">'C:/Users/Kylin/Desktop/Blog/source/_posts/'</span></span><br><span class="line">os.chdir(static_path)</span><br><span class="line"></span><br><span class="line">run_path=<span class="string">'C:/Users/Kylin/Desktop/å¿«é€Ÿåšå®¢/'</span></span><br><span class="line"></span><br><span class="line">win = tk.Tk()</span><br><span class="line">win.title(<span class="string">"åšå®¢å°åŠ©æ‰‹"</span>)</span><br><span class="line">win.iconbitmap(run_path + <span class="string">"box.ico"</span>)</span><br><span class="line"><span class="comment">#translator = Translator()</span></span><br><span class="line">main_title = <span class="string">""</span></span><br><span class="line"><span class="comment">#title_tran = ""</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Function</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hexo_new</span><span class="params">(get_title)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> main_title</span><br><span class="line">    <span class="comment">#global title_tran</span></span><br><span class="line">    <span class="keyword">if</span> get_title.replace(<span class="string">" "</span>, <span class="string">""</span>) != <span class="string">""</span>:</span><br><span class="line">        <span class="comment">#os_command_origin="powershell -command "</span></span><br><span class="line">        <span class="comment">#poweshelléƒ¨åˆ†æ–‡å­—è¾“å…¥ä¸è¿›å»å¥½åƒæœ‰â€œâ€ç­‰</span></span><br><span class="line">        os_command_origin = <span class="string">"cmd /c "</span></span><br><span class="line">        hexo_new_posts = <span class="string">'hexo new '</span>+get_title</span><br><span class="line">        <span class="comment">#os.system(os_command_origin+hexo_new_posts)</span></span><br><span class="line">        <span class="comment">#print(os_command_origin+hexo_new_posts)</span></span><br><span class="line">        <span class="comment">#changed_title=os.popen(os_command_origin+hexo_new_posts).read().decode('utf-8')</span></span><br><span class="line">        changed_title = Popen(os_command_origin+hexo_new_posts, shell=<span class="literal">True</span>,stdout=PIPE, stderr=PIPE).stdout.read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line">        get_true_title_re = re.compile(<span class="string">r'INFO  Created: ~\\Desktop\\Blog\\source\\_posts\\(.*?)\.md'</span>)</span><br><span class="line">        true_title = get_true_title_re.findall(changed_title)[<span class="number">0</span>]</span><br><span class="line">        <span class="comment">#èµ‹å€¼</span></span><br><span class="line">        main_title = true_title <span class="comment">#å®é™…æ–‡ä»¶å</span></span><br><span class="line">        <span class="comment">#title_tran = translator.translate(get_title).text #ç¿»è¯‘å</span></span><br><span class="line">        <span class="comment">#å†™å…¥ç¿»è¯‘ï¼Œå¼ƒç”¨tranæ’ä»¶</span></span><br><span class="line">        <span class="comment">#f_t = open(true_title+".md")</span></span><br><span class="line">        <span class="comment">#f_data = f_t.read().replace("translate_title:", "translate_title: " + title_tran)</span></span><br><span class="line">        <span class="comment">#f_t.close()</span></span><br><span class="line">        <span class="comment">#with open(true_title+".md", "w") as f_tt:</span></span><br><span class="line">        <span class="comment">#    f_tt.write(f_data)</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        msg.showinfo(<span class="string">"æç¤º"</span>, <span class="string">"è¯·è¾“å…¥æ ‡é¢˜ï¼"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">s_files</span><span class="params">(def_filenames, def_string_filename)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> static_path</span><br><span class="line">    <span class="keyword">global</span> main_title</span><br><span class="line">    cho_msg = <span class="string">""</span></span><br><span class="line">    get_the_last = <span class="string">""</span></span><br><span class="line">    <span class="comment">#åº”è¯¥ä¸ä¼šæŠŠmdæ–‡æ¡£å½“ä½œé™„ä»¶ç”¨çš„ã€‚ã€‚ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> len(def_filenames) != <span class="number">0</span>:</span><br><span class="line">        g_main_t = def_filenames[<span class="number">0</span>].replace(static_path, <span class="string">""</span>)</span><br><span class="line">        get_main_title_re = re.compile(<span class="string">r'(.*?)\.md'</span>)</span><br><span class="line">        gmtre = get_main_title_re.findall(g_main_t)</span><br><span class="line">        <span class="keyword">if</span> len(gmtre) != <span class="number">0</span>:</span><br><span class="line">            main_title = gmtre[<span class="number">0</span>].replace(<span class="string">" "</span>, <span class="string">""</span>)</span><br><span class="line">            msg.showinfo(<span class="string">"æç¤º"</span>, main_title)</span><br><span class="line">            get_the_last = g_main_t.replace(main_title, <span class="string">""</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> get_the_last != <span class="string">".md"</span>:</span><br><span class="line">            <span class="keyword">if</span> main_title != <span class="string">""</span>:</span><br><span class="line">                cho_msg = msg.askokcancel(<span class="string">'æç¤º'</span>, <span class="string">'éœ€è¦ç§»åŠ¨æ–‡ä»¶åˆ°æ–‡ç« é™„ä»¶ç›®å½•å—ï¼Ÿ'</span>)</span><br><span class="line">                <span class="keyword">if</span> cho_msg:</span><br><span class="line">                    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,len(def_filenames)):</span><br><span class="line">                        def_string_filename.append(def_filenames[i])</span><br><span class="line">                        <span class="comment">#get_data["text"]=str(def_string_filename)</span></span><br><span class="line">                        shutil.move(def_filenames[i], static_path + main_title)</span><br><span class="line">                        get_fujian_re = re.compile(<span class="string">r'[^\\\?\/\*\|&lt;&gt;:"]+?\..*'</span>)</span><br><span class="line">                        get_fj = get_fujian_re.findall(def_filenames[i])[<span class="number">0</span>]</span><br><span class="line">                        get_clip_re = re.compile(<span class="string">r'\..*'</span>)</span><br><span class="line">                        get_clip = get_clip_re.findall(get_fj)[<span class="number">0</span>]</span><br><span class="line">                        final_clip = <span class="string">"&lt;img src=\""</span>+get_fj+<span class="string">"\" width=\"100%\" alt=\""</span>+get_fj.replace(get_clip,<span class="string">""</span>)+<span class="string">"\"&gt;"</span></span><br><span class="line">                        win32clipboard.OpenClipboard()</span><br><span class="line">                        win32clipboard.EmptyClipboard()</span><br><span class="line">                        win32clipboard.SetClipboardData(win32con.CF_UNICODETEXT, final_clip)</span><br><span class="line">                        win32clipboard.CloseClipboard()</span><br><span class="line">                    <span class="comment">#if main_title == "" and msg.askokcancel('æç¤º', 'æ˜¯å¦éœ€è¦é€‰æ‹©ç›®å½•ï¼Ÿ'):</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment">#if main_title == "" and len(def_filenames) != 0:</span></span><br><span class="line">                <span class="comment">#    msg.showinfo("æç¤º", "è¯·æ–°å»ºæ–‡ç« ï¼")</span></span><br><span class="line">                <span class="comment">#elif main_title != "" and len(def_filenames) == 0 or main_title == "" and len(def_filenames) == 0:</span></span><br><span class="line">                    <span class="comment">#msg.showinfo("æç¤º", "è¯·é€‰æ‹©æ–‡ä»¶ï¼")</span></span><br><span class="line">                <span class="comment">#elif main_title != "" and cho_msg != True:</span></span><br><span class="line">                <span class="comment">#    msg.showinfo("æç¤º", "è¯·åŒæ„ï¼")</span></span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> get_the_last == <span class="string">".md"</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shell_files</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#global main_title</span></span><br><span class="line">    filenames = tkf.askopenfilenames()</span><br><span class="line">    string_filename = []</span><br><span class="line">    s_files(filenames, string_filename)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_o</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#win.destroy()</span></span><br><span class="line"></span><br><span class="line">    box = tk.Tk()</span><br><span class="line">    box.title(<span class="string">"æ–°å»ºæ–‡ç« "</span>)</span><br><span class="line">    box.iconbitmap(run_path + <span class="string">"box.ico"</span>)</span><br><span class="line"></span><br><span class="line">    title = tk.Entry(box, text=<span class="string">'æ–‡ç« æ ‡é¢˜'</span>, width=<span class="number">20</span>)</span><br><span class="line">    title.grid(row=<span class="number">1</span>, column=<span class="number">2</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    post_title = tk.Button(box, text=<span class="string">'ç”Ÿæˆæ–‡ç« '</span>, width=<span class="number">7</span>, height=<span class="number">1</span>, command=<span class="keyword">lambda</span>:hexo_new(title.get()))</span><br><span class="line">    post_title.grid(row=<span class="number">1</span>, column=<span class="number">6</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    select_files = tk.Button(box, text=<span class="string">'é€‰æ‹©...'</span>, width=<span class="number">7</span>, height=<span class="number">1</span>, command=shell_files)</span><br><span class="line">    select_files.grid(row=<span class="number">2</span>, column=<span class="number">6</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    get_data = tk.Label(box)</span><br><span class="line">    get_data.grid(row=<span class="number">2</span>, column=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    box.mainloop()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_t</span><span class="params">()</span>:</span></span><br><span class="line">    box = tk.Tk()</span><br><span class="line">    box.title(<span class="string">"ä¿®æ”¹å›¾ç‰‡"</span>)</span><br><span class="line">    box.iconbitmap(run_path + <span class="string">"box.ico"</span>)</span><br><span class="line"></span><br><span class="line">    select_filemd = tk.Button(box, text=<span class="string">"é€‰æ‹©Markdownæ–‡ä»¶"</span>, command=shell_files)</span><br><span class="line">    select_filemd.grid(row=<span class="number">1</span>, column=<span class="number">1</span>, padx=<span class="number">15</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    select_filemd_fujian = tk.Button(box, text=<span class="string">"é€‰æ‹©é™„ä»¶"</span>, command=shell_files)</span><br><span class="line">    select_filemd_fujian.grid(row=<span class="number">2</span>, column=<span class="number">1</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    box.mainloop()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_main_d</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> main_title</span><br><span class="line">    msg.showinfo(<span class="string">"æç¤º"</span>, main_title)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Main</span></span><br><span class="line"></span><br><span class="line">select_one = tk.Button(win, text=<span class="string">"æ–°å»ºæ–‡ç« "</span>, width=<span class="number">7</span>, height=<span class="number">1</span>, command=select_o)</span><br><span class="line">select_one.grid(row=<span class="number">1</span>, column=<span class="number">1</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">select_l = tk.Label(win, text=<span class="string">"OR"</span>, width=<span class="number">2</span>, height=<span class="number">1</span>)</span><br><span class="line">select_l.grid(row=<span class="number">1</span>, column=<span class="number">2</span>, padx=<span class="number">5</span>, pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">select_two = tk.Button(win, text=<span class="string">"ä¿®æ”¹å›¾ç‰‡"</span>, width=<span class="number">7</span>, height=<span class="number">1</span>, command=select_t)</span><br><span class="line">select_two.grid(row=<span class="number">1</span>, column=<span class="number">3</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">get_main_t = tk.Button(win, text=<span class="string">"Main Title"</span>, width=<span class="number">10</span>, height=<span class="number">1</span>, command=get_main_d)</span><br><span class="line">get_main_t.grid(row=<span class="number">2</span>, column=<span class="number">2</span>, padx=<span class="number">0</span>, pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#v = tk.IntVar()</span></span><br><span class="line"><span class="comment">#r1 = tk.Radiobutton(win, text="one", value=1, variable=v)</span></span><br><span class="line"><span class="comment">#r1.grid(row=3, column=2, padx=0, pady=10)</span></span><br><span class="line"><span class="comment">#if v.get() == 1:</span></span><br><span class="line"><span class="comment">#    clip()</span></span><br><span class="line"></span><br><span class="line">win.mainloop()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
          <category> Python </category>
          
          <category> ç¨‹åº </category>
          
          <category> ä»£ç  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> Python </tag>
            
            <tag> Blog </tag>
            
            <tag> åŠ©æ‰‹ </tag>
            
            <tag> ç¨‹åº </tag>
            
            <tag> ä»£ç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoé˜¿é‡Œäº‘OSSä¸Šä¼ æ’ä»¶ï¼ˆæ”¯æŒæ ¡éªŒMD5ï¼‰</title>
      <link href="/2020/05/15/hexo-alibaba-cloud-oss-upload-plugin-supports-check-md5.html"/>
      <url>/2020/05/15/hexo-alibaba-cloud-oss-upload-plugin-supports-check-md5.html</url>
      
        <content type="html"><![CDATA[<p>è¿™ä¸ª Github é‡Œé¢æœ‰ NPM é‡Œé¢ä¹Ÿæœ‰ï¼Œè§‰å¾—åŸç‰ˆhexo-deployer-ali-ossæ¯æ¬¡éƒ½è¦ä¸Šä¼ å…¨éƒ¨æ–‡ä»¶å°±è‡ªå·±åšäº†ä¸€ä¸ªï¼Œæœ‰æ—¶é—´æ›´æ–°</p><p>åšè¿™ä¸ªä¹‹å‰å±äºå®Œå…¨æ²¡å­¦ä¹ è¿‡nodejsï¼Œå®Œå…¨é¢å‘æµè§ˆå™¨ç¼–ç¨‹ã€‚è¯¥é¡¹ç›®åˆ¶ä½œä¿®æ”¹æ—¶é—´2020-05-15 19:45~2020-05-15 22:53</p><p>åç§°å«è¿™ä¸ª</p><p>hexo-deployer-aliyun-oss</p><p>é¢„è§ˆ</p><img src= "/img/loading.gif" data-src="/2020/05/15/hexo-alibaba-cloud-oss-upload-plugin-supports-check-md5/deployer1.png" width="100%" alt="Hexoé˜¿é‡Œäº‘OSSä¸Šä¼ æ’ä»¶"><img src= "/img/loading.gif" data-src="/2020/05/15/hexo-alibaba-cloud-oss-upload-plugin-supports-check-md5/deployer.png" width="100%" alt="Hexoé˜¿é‡Œäº‘OSSä¸Šä¼ æ’ä»¶"><h1 id="hexo-deployer-aliyun-osséƒ¨ç½²å™¨ä½¿ç”¨è¯´æ˜"><a href="#hexo-deployer-aliyun-osséƒ¨ç½²å™¨ä½¿ç”¨è¯´æ˜" class="headerlink" title="hexo-deployer-aliyun-osséƒ¨ç½²å™¨ä½¿ç”¨è¯´æ˜"></a>hexo-deployer-aliyun-osséƒ¨ç½²å™¨ä½¿ç”¨è¯´æ˜</h1><p>æºé¡¹ç›®ï¼š<a href="https://github.com/wertycn/hexo-deployer-ali-oss" target="_blank" rel="noopener">https://github.com/wertycn/hexo-deployer-ali-oss</a><br>è¯¥é¡¹ç›®ï¼š<a href="https://github.com/arkylin/hexo-deployer-aliyun-oss" target="_blank" rel="noopener">https://github.com/arkylin/hexo-deployer-aliyun-oss</a></p><p>æœ¬é¡¹ç›®åœ¨æºé¡¹ç›®çš„åŸºç¡€ä¸Šå¢åŠ äº†MD5æ ¡éªŒå·¥å…·ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ä¸Šä¼ é‡å¤æ–‡ä»¶è€—æ—¶äº†ï¼Œæœ¬åœ°è®¡ç®—MD5çš„æ—¶é—´å¦‚æœä¸æ˜¯ä»€ä¹ˆå¤§æ–‡ä»¶ï¼ŒåŸºæœ¬å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œåç»­ä¹Ÿå¯èƒ½ä¼šåŠ å…¥å…¶ä»–åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼šæ–‡ä»¶æ’é™¤é¡¹ã€æ—¶é—´æˆ–æ–‡ä»¶å¤§å°æ¯”å¯¹ç­‰</p><p>åœ¨hexoé¡¹ç›®ä¸‹æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-aliyun-oss --save</span><br></pre></td></tr></table></figure><p>åœ¨hexoé¡¹ç›®é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: ali-oss</span><br><span class="line">  region: &lt;æ‚¨çš„oss åŒºåŸŸä»£ç &gt;</span><br><span class="line">  accessKeyId: &lt;æ‚¨çš„oss  accessKeyId&gt;</span><br><span class="line">  accessKeySecret: &lt;æ‚¨çš„oss accessKeySecret&gt;</span><br><span class="line">  bucket: &lt;æ‚¨çš„bucket name&gt;</span><br></pre></td></tr></table></figure><p>å°±è¿™ä¹ˆç®€å• ç„¶åæ‰§è¡Œéƒ¨ç½²å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>å³å¯å°†é¡¹ç›®éƒ¨ç½²åˆ°ossä¸­ ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå°†æ–‡ä»¶ä¸Šä¼ åˆ°bucketçš„æ ¹ç›®å½•ä¸‹ï¼Œå¦‚æœéœ€è¦éƒ¨ç½²åˆ°å…¶ä»–ç›®å½•ï¼Œè¯·åœ¨deployä¸‹æ·»åŠ remotePathé€‰é¡¹è¿›è¡ŒæŒ‡å®š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">remotePath:&lt;æ‚¨è¦éƒ¨ç½²çš„ç›®å½•&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
          <category> Hexo </category>
          
          <category> è„šæœ¬ </category>
          
          <category> Aliyun </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> Hexo </tag>
            
            <tag> Aliyun </tag>
            
            <tag> é˜¿é‡Œäº‘ </tag>
            
            <tag> è„šæœ¬ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…Arch-Linuxè®°å½•</title>
      <link href="/2020/04/19/install-archlinux-record.html"/>
      <url>/2020/04/19/install-archlinux-record.html</url>
      
        <content type="html"><![CDATA[<h2 id="åˆ¤å®šä¸ºUEFIè®¾å¤‡"><a href="#åˆ¤å®šä¸ºUEFIè®¾å¤‡" class="headerlink" title="åˆ¤å®šä¸ºUEFIè®¾å¤‡"></a>åˆ¤å®šä¸ºUEFIè®¾å¤‡</h2><p><code>Surface Pro 2017</code></p><h2 id="è¿æ¥WIFI"><a href="#è¿æ¥WIFI" class="headerlink" title="è¿æ¥WIFI"></a>è¿æ¥WIFI</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wifi-menu</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®æ—¶é—´åŒæ­¥"><a href="#è®¾ç½®æ—¶é—´åŒæ­¥" class="headerlink" title="è®¾ç½®æ—¶é—´åŒæ­¥"></a>è®¾ç½®æ—¶é—´åŒæ­¥</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">timedatectl set-ntp true</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®åˆ†åŒº"><a href="#è®¾ç½®åˆ†åŒº" class="headerlink" title="è®¾ç½®åˆ†åŒº"></a>è®¾ç½®åˆ†åŒº</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">fdisk /dev/nvme0n1</span><br></pre></td></tr></table></figure><p>ï¼ˆä»¥å®é™…æƒ…å†µä¸ºä¸»<code>fdisk -l</code>æŸ¥çœ‹ï¼‰</p><p>è®¾ç½®ä¸ºgptç£ç›˜æ ¼å¼</p><p>EFIåˆ†åŒº64M å»ºè®®ï¼š260â€“512 MiBï¼ˆå¤§æ¦‚åªèƒ½ç”¨åˆ°6Må¤šä¸€ç‚¹ä¸åˆ°7Mï¼‰</p><p><code>/</code>ä¸»åˆ†åŒºå‰©ä¸‹å…¨éƒ¨</p><p><strong>æ ¼å¼åŒ–åˆ†åŒº</strong><br>æ ¼å¼åŒ–EFIåˆ†åŒº</p><p>fdisk: Create a partition with partition type EFI System.<br>è§WIKIï¼š<a href="https://wiki.archlinux.org/index.php/EFI_system_partition" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/EFI_system_partition</a></p><p>æ ¼å¼åŒ–ä¸»åˆ†åŒºï¼Œè¿™é‡Œä½¿ç”¨ext4æ ¼å¼</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkfs.ext4 /dev/nvme0n1p2</span><br></pre></td></tr></table></figure><p>SWAPæœ€åå†ç”¨æ–‡ä»¶è®¾ç½®ï¼Œå¯è§æˆ‘çš„å¦ä¸€ç¯‡åšå®¢</p><p>å…¶å®åˆ†åŒºè¿˜æ˜¯æ–‡ä»¶æ•ˆæœå…¶å®å·®ä¸å¤šçš„</p><p>è€Œä¸”æ–‡ä»¶è¿˜å¯ä»¥éšæ—¶æ›´æ”¹å¤§å°ä¸åƒåˆ†åŒºé‚£æ ·éº»çƒ¦è¿˜å¾—æ‰©å¤§ç¼©å°ï¼Œæä¸å¥½æ•°æ®éƒ½æ²¡äº†è¿˜å¾—é‡è£…</p><p><strong>æŒ‚è½½åˆ†åŒº</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mount /dev/nvme0n1p2 /mnt</span><br></pre></td></tr></table></figure><p>ï¼ˆæŒ‚è½½ç›®å½•éšæ„ï¼‰</p><p>ä½ è¯´ä¸ºå•¥p2å…ˆæŒ‚è½½ï¼Œå› ä¸ºä½ çš„ç›®å½•å¾—è¦åœ¨<code>/</code>é‡Œé¢</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mount /dev/nvme0n1p1 /mnt/efi</span><br></pre></td></tr></table></figure><p>(ç›®å½•éšæ„å¤§å°å†™éšæ„ï¼Œæœ€ååªéœ€åœ¨Grubé‡Œé¢è®¾ç½®å³å¯)</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><strong>æ›´æ”¹é•œåƒæºåœ°å€</strong></p><p>é»˜è®¤çš„æºåœ°å€ä¸ºæºåœ°å€åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªï¼Œè€Œè¿æ¥è¶…æ—¶åˆ™å†è¯•ç¬¬äºŒä¸ªï¼Œæ‰€ä»¥ä¼šå¾ˆæ…¢ï¼Œè€Œä¸”å†…ç½®çš„ä¸­æ–‡æºåœ¨å¥½åé¢â€¦</p><p>æ‰€ä»¥å¾—æ¢æº<br>é¦–å…ˆ<del>å®‰è£…</del><code>nano</code>ï¼Œä¸è¿‡å¥½åƒæœ‰å†…ç½®ä½ æƒ³ç”¨<code>vi</code>æˆ–è€…<code>vim</code>ä¹Ÿå¯ä»¥ä¸è¿‡æˆ‘ä¸ªäººæ„Ÿè§‰<code>nano</code>å¥½ç”¨</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nano /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure><p>åœ¨ç¬¬å‡ è¡Œï¼ˆ[ ]æ ‡å¿—çš„åé¢ï¼‰é‚£é‡ŒåŠ å…¥</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">Server = http://mirrors.aliyun.com/archlinuxcn/$arch</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Server = http://mirrors.zju.edu.cn/archlinux/$repo/os/$arch</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">Server = http://mirrors.zju.edu.cn/archlinuxcn/$arch</span><br></pre></td></tr></table></figure><p><code>Ctrl+O</code>ä¿å­˜</p><p><code>Ctrl+X</code>é€€å‡º</p><p><strong>å®‰è£…åŸºæœ¬åŒ…</strong></p><p>æ³¨ï¼šå®‰è£…æ—¶å‡ºç°æŠ¥é”™</p><p><strong><em>1</em></strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">perl: warning: Setting locale failed.</span><br><span class="line"></span><br><span class="line">perl: warning: Please check that your locale settings:</span><br><span class="line">LANGUAGE &#x3D; (unset),</span><br><span class="line">LC_ALL &#x3D; (unset),</span><br><span class="line">LANG &#x3D; &quot;en_US.UTF-8&quot;</span><br><span class="line">    are supported and installed on your system.</span><br><span class="line">perl: warning: Falling back to the standard locale (&quot;C&quot;).</span><br><span class="line">locale: Cannot set LC_CTYPE to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_MESSAGES to default locale: No such file or directory</span><br><span class="line">locale: Cannot set LC_ALL to default locale: No such file or directory</span><br></pre></td></tr></table></figure><p><strong><em>è§£å†³æ–¹æ¡ˆ1ï¼š</em></strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nano /root/.bashrc</span><br></pre></td></tr></table></figure><p>åœ¨æœ€åº•éƒ¨æ·»åŠ ä¸Šä¸€å¥</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export LC_ALL=C</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥è¿è¡Œ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo "export LC_ALL=C" &gt;&gt; /root/.bashrc</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œä¸€ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">source /root/.bashrc</span><br></pre></td></tr></table></figure><p><strong><em>2</em></strong><br>When you install/update linux kernel you can see these missing firmware warnings. These drivers are not necessary to run your system, at some point they where excluded from kernel. If these errors disturb you then you can get them from user repositories. The wd719x is a driver for â€œWestern Digital WD7193, WD7197 and WD7296 SCSI cardsâ€ and aic94xx is the driver for â€œAdaptec SAS 44300, 48300, 58300 Sequencerâ€.</p><p><strong><em>è§£å†³æ–¹æ¡ˆ2ï¼š</em></strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Download the missing firmware using your favourite AUR package manager.</span><br><span class="line">yay -S aic94xx-firmware wd719x-firmware</span><br><span class="line"> </span><br><span class="line"># When you run kernel install again, you should not see the error any more.</span><br><span class="line">yay -</span><br><span class="line">S linux</span><br></pre></td></tr></table></figure><p>å®‰è£…ä¸Šé¢è¿™äº›ä½ æ·»åŠ Arch Linuxä¸­æ–‡æºä¹Ÿå¯ä»¥ç›´æ¥ç”¨<code>pacman</code>å®‰è£…<br><strong><em>3</em></strong></p><p><em>è§£å†³æ–¹æ¡ˆ<strong>2</strong>ä¸­çš„yayå®‰è£…é—®é¢˜</em></p><p>ç”±äº<code>yay</code>ä¸ºç¬¬ä¸‰æ–¹åŒ…ç®¡ç†å™¨ï¼Œæ‰€ä»¥åœ¨å®‰è£…ç¯å¢ƒä¸­å¹¶æ²¡æœ‰å†…ç½®æ‰€ä»¥å¾—è‡ªè¡Œå®‰è£…</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;aur.archlinux.org&#x2F;yay.git</span><br><span class="line">cd yay</span><br><span class="line">makepkg -si</span><br></pre></td></tr></table></figure><p>ç”±äº<code>yay</code>ä¸æ”¯æŒåœ¨<code>root</code>ç¯å¢ƒåœ¨è¿è¡Œï¼Œä½ è¿˜å¾—æ–°å»ºä¸€ä¸ªè´¦æˆ·ä¸è¿‡è¿™ä¸ªå¥½åƒå¾—åœ¨<code>arch-chroot</code>ä¹‹åè¿›è¡Œï¼ˆæ‚è„¸å“­/(ã„’oã„’)/~~ï¼‰</p><p>è¯´æ˜æ–‡ä»¶ï¼ˆè§ä¸‹ï¼‰ä¸¤ç§éƒ½å¯ä»¥ï¼Œä½†æ˜¯yayå°±æ˜¯ä¸æ”¯æŒåœ¨<code>root</code>ç¯å¢ƒåœ¨è¿è¡Œï¼Œè€Œä¸”ä½ ç”¨<code>pacstrap</code>ä¹Ÿä¸è¡Œå•Šï¼Œæˆ‘çªç„¶æƒ³åˆ°</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">To install other packages or package groups, append the names to the pacstrap command above (space separated) or use pacman while chrooted into the new system. For comparison, packages available in the live system can be found in packages.x86_64.</span><br></pre></td></tr></table></figure><p><strong>å®‰è£…</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pacstrap -i /mnt base base-devel linux linux-firmware</span><br></pre></td></tr></table></figure><p>ï¼ˆ<code>-i</code>ç»™ä½ æœ‰é€‰æ‹©çš„æƒåˆ©ï¼Œä¸è¿‡è¿˜æ˜¯é»˜è®¤çš„å¥½ï¼Œå¦‚æœ‰ç‰¹ä¿—éœ€æ±‚å¯ä»¥æ”¹ï¼‰</p><h2 id="é…ç½®ç³»ç»Ÿ"><a href="#é…ç½®ç³»ç»Ÿ" class="headerlink" title="é…ç½®ç³»ç»Ÿ"></a>é…ç½®ç³»ç»Ÿ</h2><p><strong><code>Fstab</code>å¯åŠ¨é…ç½®æ–‡ä»¶</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure><p><strong><code>Chroot</code></strong></p><p><strong>åˆ‡æ¢<code>root</code>ç¯å¢ƒç›®å½•</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure><p><strong>è®¾ç½®æ—¶åŒº</strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime</span><br></pre></td></tr></table></figure><p><strong>åŒæ­¥ç³»ç»Ÿæ—¶é’Ÿåˆ°ç¡¬ä»¶</strong></p><p>è¿™å¯¹æŸäº›ç¨‹åºæ¥è¯´å¾ˆå¥½</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure><p><strong>æ›´æ”¹é•œåƒæºåœ°å€</strong></p><p><em>è§ä¸Š</em></p><p><strong>é…ç½®è¯­è¨€</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nano /etc/locale.gen</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°zh_CN.UTF-8 UTF-8 zh_HK.UTF-8 UTF-8 zh_TW.UTF-8 UTF-8 en_US.UTF-8 UTF-8è¿™å››è¡Œï¼Œå»æ‰è¡Œé¦–çš„#å·ï¼Œä¿å­˜å¹¶é€€å‡ºã€‚</p><p>æ‰§è¡Œ</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nano /etc/locale.conf</span><br></pre></td></tr></table></figure><p>åŠ å…¥</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure><p>å¦‚æœç”¨ä¸­æ–‡åœ¨æŸäº›ttyç•Œé¢ä¼šä¹±ç ï¼ˆå¯ä»¥ä»deepinä¸­å­¦ä¹ ä¸€ä¸‹è¿™ç§é…ç½®ï¼‰</p><p><strong>è®¾ç½®ä¸»æœºå</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nano /etc/hostname</span><br></pre></td></tr></table></figure><p><strong>è®¾ç½®<code>hosts</code></strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nano /etc/hosts</span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">127.0.0.1   localhost.localdomainlocalhost</span><br><span class="line">::1         localhost.localdomainlocalhost</span><br><span class="line">127.0.1.1   myhostname.localdomain myhostname</span><br></pre></td></tr></table></figure><p>If the system has a permanent IP address, it should be used instead of 127.0.1.1.</p><p><strong>Initramfs</strong></p><p>Creating a new initramfs is usually not required, because mkinitcpio was run on installation of the kernel package with pacstrap.</p><p>For LVM, system encryption or RAID, modify mkinitcpio.conf(5) and recreate the initramfs image:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkinitcpio -P</span><br></pre></td></tr></table></figure><p>å¥½åƒåœ¨å®‰è£…æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œç„¶åè¿™é‡Œå°±åº”è¯¥ä¼šå¤ç°<code>pacstrap</code>çš„é—®é¢˜<em>3</em>,è¯·è§£å†³</p><p><strong>è®¾ç½®<code>root</code>å¯†ç </strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><p><strong>å®‰è£…ä½ ç†Ÿæ‚‰çš„å¸¸ç”¨è½¯ä»¶</strong></p><p>KDE:<a href="https://wiki.archlinux.org/index.php/KDE" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/KDE</a></p><p>DDE:<a href="https://wiki.archlinux.org/index.php/Deepin_Desktop_Environment" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Deepin_Desktop_Environment</a></p><p>UEFI systems<br>Note:<br>It is recommended to read and understand the Unified Extensible Firmware Interface, Partitioning#GUID Partition Table and Arch boot process#Under UEFI pages.<br>When installing to use UEFI it is important to boot the installation media in UEFI mode, otherwise efibootmgr will not be able to add the GRUB UEFI boot entry. Installing to the fallback boot path will still work even in BIOS mode since it does not touch the NVRAM.<br>To boot from a disk using UEFI, an EFI system partition is required. Follow EFI system partition#Check for an existing partition to find out if you have one already, otherwise you need to create it.<br>Installation<br>Note:<br>UEFI firmwares are not implemented consistently across manufacturers. The procedure described below is intended to work on a wide range of UEFI systems but those experiencing problems despite applying this method are encouraged to share detailed information, and if possible the workarounds found, for their hardware-specific case. A GRUB/EFI examples article has been provided for such cases.<br>The section assumes you are installing GRUB for x86_64 systems. For IA32 (32-bit) UEFI systems (not to be confused with 32-bit CPUs), replace x86_64-efi with i386-efi where appropriate.<br>First, install the packages grub and efibootmgr: GRUB is the bootloader while efibootmgr is used by the GRUB installation script to write boot entries to NVRAM.</p><p>Then follow the below steps to install GRUB:</p><p>Mount the EFI system partition and in the remainder of this section, substitute esp with its mount point.<br>Choose a bootloader identifier, here named GRUB. A directory of that name will be created in esp/EFI/ to store the EFI binary and this is the name that will appear in the UEFI boot menu to identify the GRUB boot entry.<br>Execute the following command to install the GRUB EFI application grubx64.efi to esp/EFI/GRUB/ and install its modules to /boot/grub/x86_64-efi/.</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB</span><br></pre></td></tr></table></figure><p>After the above install completed the main GRUB directory is located at /boot/grub/. Note that grub-install also tries to create an entry in the firmware boot manager, named GRUB in the above example.</p><p>Remember to #Generate the main configuration file after finalizing the configuration.</p><p>Tip: If you use the option â€“removable then GRUB will be installed to esp/EFI/BOOT/BOOTX64.EFI (or esp/EFI/BOOT/BOOTIA32.EFI for the i386-efi target) and you will have the additional ability of being able to boot from the drive in case EFI variables are reset or you move the drive to another computer. Usually you can do this by selecting the drive itself similar to how you would using BIOS. If dual booting with Windows, be aware Windows usually places an EFI executable there, but its only purpose is to recreate the UEFI boot entry for Windows.<br>Note:<br>â€“efi-directory and â€“bootloader-id are specific to GRUB UEFI, â€“efi-directory replaces â€“root-directory which is deprecated.<br>You might note the absence of a device_path option (e.g.: /dev/sda) in the grub-install command. In fact any device_path provided will be ignored by the GRUB UEFI install script. Indeed, UEFI bootloaders do not use a MBR bootcode or partition boot sector at all.<br>Make sure to run the grub-install command from the system in which GRUB will be installed as the boot looader. That means if you are booting from the live installation environment, you need to be inside the chroot when running grub-install. If for some reason it is necessary to run grub-install from outside of the installed system, append the â€“boot-directory= option with the path to the mounted /boot directory, e.g â€“boot-directory=/mnt/boot.<br>See UEFI troubleshooting in case of problems. Additionally see GRUB/Tips and tricks#UEFI further reading.</p>]]></content>
      
      
      
        <tags>
            
            <tag> Arch-Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººäººé€šAPPçš„æƒ¨ç—›ç»å†</title>
      <link href="/2020/04/09/the-painful-experience-of-renrentong-app.html"/>
      <url>/2020/04/09/the-painful-experience-of-renrentong-app.html</url>
      
        <content type="html"><![CDATA[<p>å½“ä½ çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æˆ‘åº”è¯¥å·²ç»å¥½å¤šäº†<br>çœŸçš„ï¼Œæˆ‘ä»Šå¤©å†™å®Œå·å­åå‡ åˆ†é’Ÿäº¤å·ç„¶åå°±æç¤ºä¸è®©äº¤äº†<br>å¥½å§ï¼Œè™½ç„¶è¯•å·åº”è¯¥æŒ‰æ—¶äº¤ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¾ˆçƒ¦<br>ç”šè‡³ä½œæ–‡éƒ½æ˜¯æ‰‹æ‰“çš„ï¼Œç„¶åæäº¤äº†åæç¤ºæ—¶é—´è¿‡æ¥ï¼Œä¸è®©è¡¥äº¤ï¼Œæˆ‘çœŸçš„å‹ºäº†å“<br>é‚£ä¸ªæƒ¨çŠ¶æ˜¯æ²¡å½•è§†é¢‘ï¼Œä¸ç„¶ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚<br>è¿˜ä¸çŸ¥é“æ€ä¹ˆåŠï¼Œå¥½å§å¹¸äºåªæ˜¯æ¨¡æ‹Ÿè€ƒè¯•ï¼Œä¸è¿‡æˆ‘çš„ä½œæ–‡è¿˜æ˜¯æ²¡äº†<br>å½“æ—¶çœ‹ç€è¿™ä¸ªä¸€é—ªè€Œè¿‡çš„çº¢è‰²æƒŠå¹å·æˆ‘éƒ½ã€‚ã€‚ã€‚<br><img src= "/img/loading.gif" data-src="/2020/04/09/the-painful-experience-of-renrentong-app/renrentong.png" width="100%" alt="äººäººé€š"><br>åˆ«è¯´äº†åˆ«è¯´äº†ï¼Œç—›è‹¦<br>è¿™å¥½åƒæ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ²¡äº¤å·å­ğŸ‘€ğŸ˜¢<br>å¥½å§ï¼Œå¸Œæœ›æˆ‘ä»¥åè¿˜æ˜¯æŒ‰ç…§æ—¶é—´æ—©ç‚¹äº¤å·ï¼Œåˆ«äº¤è¿Ÿäº†<br>æ¬¸ï¼Œè€å¸ˆçœ‹åœ¨åªæœ‰26ä¸ªåŒå­¦äº¤äº†çš„ä»½ä¸Šåˆæ–°å»ºäº†ä¸€å¼ ç­”é¢˜å¡<br>å“ˆï¼Œå¸Œæœ›æ˜¯ç¬¬ä¸€æ¬¡ä¹Ÿæ˜¯æœ€åä¸€æ¬¡ï¼Œæœ‰äº›äº‹è¿˜æ˜¯æ—©åšå®Œå¥½ï¼Œåˆ«æ‹–ï¼<br>ä¸€å®šè¦éµå®ˆæ—¶é—´</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
          <category> APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äººäººé€š </tag>
            
            <tag> APP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typechoè¿ç§»Hexoçš„Pythonè„šæœ¬</title>
      <link href="/2020/04/09/typecho-migrates-hexo-python-script.html"/>
      <url>/2020/04/09/typecho-migrates-hexo-python-script.html</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘æ¢åšå®¢Typechoæ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹è‡ƒè‚¿ã€‚ã€‚å¥½å§ è™½ç„¶ç›¸æ¯”WordPresså¥½å¤šäº†<br>æ‰€ä»¥å°±æ¢äº†Hexoï¼Œè€Œä¸”åœ¨æœ¬åœ°ä¹Ÿæ”¯æŒæ–¹ä¾¿è¿ç§»ï¼Œå“ˆ<br>è„šæœ¬å¦‚ä¸‹ï¼ŒæŒ‰ç…§è‡ªå·±çš„ä¿®æ”¹</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> subprocess <span class="keyword">import</span> Popen, PIPE </span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">123</span>):</span><br><span class="line">    url=<span class="string">'https://your.domain/admin/write-post.php?cid='</span></span><br><span class="line">    url=url+str(i)</span><br><span class="line"></span><br><span class="line">    cookies_text=<span class="string">r'ä½ çš„cookies'</span></span><br><span class="line"></span><br><span class="line">    cookies = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> cookies_text.split(<span class="string">';'</span>):</span><br><span class="line">        key, value = line.split(<span class="string">'='</span>, <span class="number">1</span>)</span><br><span class="line">        cookies[key] = value</span><br><span class="line"></span><br><span class="line">    resp = requests.get(url,cookies=cookies)</span><br><span class="line">    <span class="comment">#&lt;Response [404]&gt;</span></span><br><span class="line">    <span class="comment">#&lt;Response [200]&gt;</span></span><br><span class="line">    <span class="keyword">if</span> str(resp) == <span class="string">'&lt;Response [200]&gt;'</span>:</span><br><span class="line">        get_text=resp.text</span><br><span class="line">        html=BeautifulSoup(get_text,<span class="string">'html.parser'</span>)</span><br><span class="line">        get_title=html.find(<span class="string">'input'</span>,id=<span class="string">'title'</span>)[<span class="string">"value"</span>]</span><br><span class="line">        get_title_translate=html.find(<span class="string">'input'</span>,id=<span class="string">'slug'</span>)[<span class="string">"value"</span>]</span><br><span class="line">        get_data=html.find(<span class="string">'textarea'</span>,id=<span class="string">'text'</span>).text</span><br><span class="line">        get_time=html.find(<span class="string">'input'</span>,id=<span class="string">'date'</span>)[<span class="string">"value"</span>]+<span class="string">":00"</span>        </span><br><span class="line"></span><br><span class="line">        check_1=html.find(<span class="string">'input'</span>,id=<span class="string">'category-1'</span>).attrs<span class="comment">#å¸¸ç”¨é…ç½®</span></span><br><span class="line">        check_2=html.find(<span class="string">'input'</span>,id=<span class="string">'category-2'</span>).attrs<span class="comment">#æŠ€å·§</span></span><br><span class="line">        check_3=html.find(<span class="string">'input'</span>,id=<span class="string">'category-3'</span>).attrs<span class="comment">#ç”Ÿæ´»éšç¬”</span></span><br><span class="line">        check_4=html.find(<span class="string">'input'</span>,id=<span class="string">'category-4'</span>).attrs<span class="comment">#å­¦ä¹ </span></span><br><span class="line">        check_10=html.find(<span class="string">'input'</span>,id=<span class="string">'category-10'</span>).attrs<span class="comment">#Android Develop</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#æ›¿æ¢æ ‡é¢˜ä¸­æ–‡ä»¶å¤¹ç¦ç”¨å­—ç¬¦</span></span><br><span class="line">        get_title_replace=get_title</span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">"\\"</span>,<span class="string">""</span>)</span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">"/"</span>,<span class="string">""</span>)</span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">":"</span>,<span class="string">"ï¼š"</span>)</span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">"*"</span>,<span class="string">""</span>)</span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">"?"</span>,<span class="string">"ï¼Ÿ"</span>)</span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">"\""</span>,<span class="string">""</span>)</span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">"&lt;"</span>,<span class="string">"ã€Š"</span>)</span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">"&gt;"</span>,<span class="string">"ã€‹"</span>)</span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">"|"</span>,<span class="string">""</span>)</span><br><span class="line">        <span class="comment">#Hexoè§„åˆ™</span></span><br><span class="line">        get_title_replace=get_title_replace.replace(<span class="string">" "</span>,<span class="string">"-"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="string">"checked"</span> <span class="keyword">in</span> check_1:</span><br><span class="line">            check_1_status=check_1[<span class="string">"checked"</span>]</span><br><span class="line">            check_1_name=<span class="string">"å¸¸ç”¨é…ç½®"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            check_1_status=<span class="string">"false"</span></span><br><span class="line">            check_1_name=<span class="string">""</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="string">"checked"</span> <span class="keyword">in</span> check_2:</span><br><span class="line">            check_2_status=check_2[<span class="string">"checked"</span>]</span><br><span class="line">            check_2_name=<span class="string">"æŠ€å·§"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            check_2_status=<span class="string">"false"</span></span><br><span class="line">            check_2_name=<span class="string">""</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="string">"checked"</span> <span class="keyword">in</span> check_3:</span><br><span class="line">            check_3_status=check_3[<span class="string">"checked"</span>]</span><br><span class="line">            check_3_name=<span class="string">"ç”Ÿæ´»éšç¬”"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            check_3_status=<span class="string">"false"</span></span><br><span class="line">            check_3_name=<span class="string">""</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="string">"checked"</span> <span class="keyword">in</span> check_4:</span><br><span class="line">            check_4_status=check_4[<span class="string">"checked"</span>]</span><br><span class="line">            check_4_name=<span class="string">"å­¦ä¹ "</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            check_4_status=<span class="string">"false"</span></span><br><span class="line">            check_4_name=<span class="string">""</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="string">"checked"</span> <span class="keyword">in</span> check_10:</span><br><span class="line">            check_10_status=check_10[<span class="string">"checked"</span>]</span><br><span class="line">            check_10_name=<span class="string">"Android Develop"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            check_10_status=<span class="string">"false"</span></span><br><span class="line">            check_10_name=<span class="string">""</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#å†™å…¥hexo</span></span><br><span class="line">        os.chdir(<span class="string">'C:\/Users\/Kylin\/Desktop\/Blog\/source\/_posts'</span>)</span><br><span class="line">        <span class="comment">#os_command_origin="powershell -command "</span></span><br><span class="line">        <span class="comment">#poweshelléƒ¨åˆ†æ–‡å­—è¾“å…¥ä¸è¿›å»å¥½åƒæœ‰â€œâ€ç­‰</span></span><br><span class="line">        os_command_origin=<span class="string">"cmd /c "</span></span><br><span class="line">        hexo_new_posts=<span class="string">'hexo new '</span>+get_title_replace</span><br><span class="line">        <span class="comment">#os.system(os_command_origin+hexo_new_posts)</span></span><br><span class="line">        <span class="comment">#print(os_command_origin+hexo_new_posts)</span></span><br><span class="line">        <span class="comment">#changed_title=os.popen(os_command_origin+hexo_new_posts).read().decode('utf-8')</span></span><br><span class="line">        changed_title=Popen(os_command_origin+hexo_new_posts, shell=<span class="literal">True</span>,stdout=PIPE, stderr=PIPE).stdout.read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line">        get_true_title_re=re.compile(<span class="string">r'INFO  Created: ~\\Desktop\\Blog\\source\\_posts\\(.*?)\.md'</span>)</span><br><span class="line">        true_title=get_true_title_re.findall(changed_title)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment">#å›¾ç‰‡æ ‡ç­¾</span></span><br><span class="line">        <span class="comment">#re_img=u'!\[(.*?)\]\[([1-9]*)\]'</span></span><br><span class="line">        <span class="comment">#re_img_get_name=re.search(re_img,get_data)[1]</span></span><br><span class="line">        <span class="comment">#re_img_get_num=re.search(re_img,get_data)[2]</span></span><br><span class="line">        <span class="comment">#img_src_stick='&lt;img src=\"'+'\" width="100%" alt=\"'+'\"&gt;'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#æŸ¥æ‰¾å†™å…¥é…ç½®</span></span><br><span class="line">        <span class="comment">#æœå¯»å›¾ç‰‡</span></span><br><span class="line">        get_img_name_re=re.compile(<span class="string">r'!\[(.*?)\]\[[0-9]*\]'</span>)</span><br><span class="line">        get_img_url_name_re=re.compile(<span class="string">r'\[[0-9]*\]: https://www\.xyz\.blue/usr/uploads/[0-9]*/[0-9]*/([0-9]*?\.png)'</span>)</span><br><span class="line">        get_img_name_lists=get_img_name_re.findall(get_data)</span><br><span class="line">        get_img_url_lists=get_img_url_name_re.findall(get_data)</span><br><span class="line">        <span class="comment">#æ›¿æ¢å›¾ç‰‡æ–‡æœ¬</span></span><br><span class="line">        get_data=re.sub(get_img_url_name_re,<span class="string">""</span>,get_data)</span><br><span class="line">        <span class="keyword">if</span> len(get_img_name_lists) == len(get_img_url_lists) <span class="keyword">and</span> get_img_name_lists != []:</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,len(get_img_name_lists)):</span><br><span class="line">                img_src=<span class="string">"&lt;img src=\""</span>+get_img_name_lists[j]+<span class="string">"\" width=\"100%\" alt=\""</span>+get_img_name_lists[j].replace(<span class="string">".png"</span>,<span class="string">""</span>)+<span class="string">"\"&gt;"</span></span><br><span class="line">                get_data=get_data.replace(<span class="string">"!["</span>+get_img_name_lists[j]+<span class="string">"]"</span>+<span class="string">"["</span>+str(j+<span class="number">1</span>)+<span class="string">"]"</span>,img_src)<span class="comment">#![poste.png][1]</span></span><br><span class="line">                <span class="comment">#ç§»åŠ¨å›¾ç‰‡</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> os.path.isfile(true_title+<span class="string">'/'</span>+get_img_name_lists[j]):</span><br><span class="line">                    shutil.move(<span class="string">'uploads/'</span>+get_img_url_lists[j],true_title+<span class="string">'/'</span>+get_img_name_lists[j])</span><br><span class="line">                    print(true_title+<span class="string">'/'</span>+get_img_name_lists[j])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"å›¾ç‰‡åŒ¹é…å‡ºé”™"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> get_img_name_lists != []:</span><br><span class="line">            get_top_img=<span class="string">'/'</span>+get_time[<span class="number">0</span>:<span class="number">4</span>]+<span class="string">'/'</span>+get_time[<span class="number">5</span>:<span class="number">7</span>]+<span class="string">'/'</span>+get_time[<span class="number">8</span>:<span class="number">10</span>]+<span class="string">'/'</span>+get_title_translate+<span class="string">'/'</span>+get_img_name_lists[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            get_top_img=<span class="string">''</span></span><br><span class="line">            print(<span class="string">"cid:"</span>,i,<span class="string">"æœªæ‰¾åˆ°å›¾ç‰‡"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#åˆæˆå†™å…¥å†…å®¹</span></span><br><span class="line">        ha_temp_main=[<span class="string">'---\n'</span>]</span><br><span class="line">        ha_temp_main.append(<span class="string">'title: '</span>+get_title+<span class="string">'\n'</span>)<span class="comment">#'title: ä½¿ç”¨dockeræ­å»ºé‚®ä»¶æœåŠ¡å™¨\n'</span></span><br><span class="line">        <span class="comment">#è®¾ç½®åˆ†ç±»</span></span><br><span class="line">        ha_temp_main.append(<span class="string">'categories:\n'</span>)</span><br><span class="line">        <span class="keyword">if</span> check_1_status == <span class="string">"true"</span>:</span><br><span class="line">            ha_temp_main.append(<span class="string">'  - ['</span>+check_1_name+<span class="string">']\n'</span>)<span class="comment">#'  - []\n'</span></span><br><span class="line">        <span class="keyword">if</span> check_2_status == <span class="string">"true"</span>:</span><br><span class="line">            ha_temp_main.append(<span class="string">'  - ['</span>+check_2_name+<span class="string">']\n'</span>)<span class="comment">#'  - []\n'</span></span><br><span class="line">        <span class="keyword">if</span> check_3_status == <span class="string">"true"</span>:</span><br><span class="line">            ha_temp_main.append(<span class="string">'  - ['</span>+check_3_name+<span class="string">']\n'</span>)<span class="comment">#'  - []\n'</span></span><br><span class="line">        <span class="keyword">if</span> check_4_status == <span class="string">"true"</span>:</span><br><span class="line">            ha_temp_main.append(<span class="string">'  - ['</span>+check_4_name+<span class="string">']\n'</span>)<span class="comment">#'  - []\n'</span></span><br><span class="line">        <span class="keyword">if</span> check_10_status == <span class="string">"true"</span>:</span><br><span class="line">            ha_temp_main.append(<span class="string">'  - ['</span>+check_10_name+<span class="string">']\n'</span>)<span class="comment">#'  - []\n'</span></span><br><span class="line">        <span class="comment">#æ ‡ç­¾ä¸çŸ¥é“æ€ä¹ˆåŠ ï¼Œè€Œä¸”ä¹‹å‰ä¹Ÿæ²¡è®¾ç½®è¿‡æ ‡ç­¾ï¼Œä»¥åè‡ªå·±æ…¢æ…¢åŠ å§</span></span><br><span class="line">        ha_temp_main.append(<span class="string">'tags:\n'</span>)</span><br><span class="line">        ha_temp_main.append(<span class="string">''</span>)<span class="comment">#'  - []\n'</span></span><br><span class="line">        ha_temp_main.append(<span class="string">'date: '</span>+get_time+<span class="string">'\n'</span>)<span class="comment">#date: 2020-04-02 23:12:09\n</span></span><br><span class="line">        ha_temp_main.append(<span class="string">'translate_title: '</span>+get_title_translate+<span class="string">'\n'</span>)<span class="comment">#'translate_title:\n'</span></span><br><span class="line">        <span class="comment">#ç¿»è¯‘ä¸åŒä¼šè®©å¤´å›¾404</span></span><br><span class="line">        <span class="comment">#ha_temp_main.append('translate_title:\n')#'translate_title:\n'</span></span><br><span class="line">        ha_temp_t_1=[<span class="string">'keywords:\n'</span>, <span class="string">'description:\n'</span>,]</span><br><span class="line">        ha_temp_main.append(ha_temp_t_1)</span><br><span class="line">        ha_temp_main.append(<span class="string">'top_img: '</span>+get_top_img+<span class="string">'\n'</span>)<span class="comment">#'top_img:\n'</span></span><br><span class="line">        ha_temp_t_2=[<span class="string">'toc:\n'</span>, <span class="string">'toc_number:\n'</span>, <span class="string">'copyright:\n'</span>, <span class="string">'mathjax:\n'</span>, <span class="string">'katex:\n'</span>, <span class="string">'hide:\n'</span>, <span class="string">'top:\n'</span>, <span class="string">'---\n'</span>]</span><br><span class="line">        ha_temp_main.append(<span class="string">'comments:\n'</span>)</span><br><span class="line">        ha_temp_main.append(<span class="string">'cover: '</span>+get_top_img+<span class="string">'\n'</span>)<span class="comment">#'cover:\n'</span></span><br><span class="line">        ha_temp_main.append(ha_temp_t_2)</span><br><span class="line">        ha_temp_main.append(get_data)</span><br><span class="line">        <span class="comment">#å†™å…¥æ–‡ä»¶</span></span><br><span class="line">        f=open(true_title+<span class="string">".md"</span>,<span class="string">"w"</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">        <span class="keyword">for</span> lines <span class="keyword">in</span> ha_temp_main:</span><br><span class="line">            f.writelines(lines)</span><br><span class="line">        f.close()</span><br><span class="line">        print(<span class="string">'è½¬ç§»cid:'</span>,i,<span class="string">"æˆåŠŸ"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'cid:'</span>,i,<span class="string">"æ‰¾ä¸åˆ°"</span>)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-src="/2020/04/09/typecho-migrates-hexo-python-script/main.png" width="100%" alt="main.py">ä»£ç æ–‡ä»¶ï¼š<a href="main.py" download="main.py">ç‚¹å‡»ä¸‹è½½</a>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> è„šæœ¬ </category>
          
          <category> è§£å†³æ–¹æ¡ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæœ¬ </tag>
            
            <tag> Typecho </tag>
            
            <tag> æŠ€å·§ </tag>
            
            <tag> è§£å†³æ–¹æ¡ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é™æ€é¡µé¢è·³è½¬ä»£ç ç•™å­˜</title>
      <link href="/2020/04/04/static-page-jump-code-retention.html"/>
      <url>/2020/04/04/static-page-jump-code-retention.html</url>
      
        <content type="html"><![CDATA[<h2 id="é™æ€é¡µé¢è·³è½¬ä»£ç ä¸€"><a href="#é™æ€é¡µé¢è·³è½¬ä»£ç ä¸€" class="headerlink" title="é™æ€é¡µé¢è·³è½¬ä»£ç ä¸€"></a>é™æ€é¡µé¢è·³è½¬ä»£ç ä¸€</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"robots"</span> <span class="attr">content</span>=<span class="string">"noindex, nofollow"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>é¡µé¢åŠ è½½ä¸­,è¯·ç¨å€™...<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">body</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">background-image</span>: <span class="built_in">url</span>(//www.xyz.blue/arv/img/index.jpg);<span class="attribute">background-repeat</span>:no-repeat;<span class="attribute">font-family</span>:Arial,<span class="string">'å¾®è½¯é›…é»‘'</span>,<span class="string">'å®‹ä½“'</span>,sans-serif&#125;<span class="selector-class">.main</span>&#123;<span class="attribute">position</span>:absolute;<span class="attribute">left</span>:<span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">200px</span>);<span class="attribute">top</span>:<span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">13em</span>)&#125;<span class="selector-class">.alert-box</span>&#123;<span class="attribute">display</span>:none;<span class="attribute">position</span>:relative;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">18px</span> <span class="number">85px</span> <span class="number">22px</span>;<span class="attribute">border-radius</span>:<span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span> <span class="number">0</span>;<span class="attribute">background-color</span>:<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">75</span>);<span class="attribute">box-shadow</span>:<span class="number">5px</span> <span class="number">9px</span> <span class="number">17px</span> <span class="built_in">rgba</span>(<span class="number">102</span>,<span class="number">102</span>,<span class="number">102</span>,.<span class="number">75</span>);<span class="attribute">width</span>:<span class="number">286px</span>;<span class="attribute">color</span>:<span class="number">#FFF</span>;<span class="attribute">text-align</span>:center&#125;<span class="selector-class">.alert-box</span> <span class="selector-tag">p</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span>&#125;<span class="selector-class">.alert-head</span>&#123;<span class="attribute">color</span>:<span class="number">#242424</span>;<span class="attribute">font-size</span>:<span class="number">28px</span>&#125;<span class="selector-class">.alert-btn</span>&#123;<span class="attribute">display</span>:block;<span class="attribute">border-radius</span>:<span class="number">10px</span>;<span class="attribute">background-color</span>:<span class="number">#4AB0F7</span>;<span class="attribute">height</span>:<span class="number">55px</span>;<span class="attribute">line-height</span>:<span class="number">55px</span>;<span class="attribute">width</span>:<span class="number">286px</span>;<span class="attribute">color</span>:<span class="number">#FFF</span>;<span class="attribute">font-size</span>:<span class="number">20px</span>;<span class="attribute">text-decoration</span>:none;<span class="attribute">letter-spacing</span>:<span class="number">2px</span>&#125;<span class="selector-class">.alert-btn</span><span class="selector-pseudo">:hover</span>&#123;<span class="attribute">background-color</span>:<span class="number">#6BC2FF</span>&#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"js-alert-box"</span> <span class="attr">class</span>=<span class="string">"alert-box"</span> <span class="attr">style</span>=<span class="string">"display:block"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"js-alert-head"</span> <span class="attr">class</span>=<span class="string">"alert-head"</span>&gt;</span></span><br><span class="line">ç‚¹å‡»å‰å¾€ Kylin's Blog<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"js-alert-btn"</span> <span class="attr">class</span>=<span class="string">"alert-btn"</span> <span class="attr">href</span>=<span class="string">"https://www.xyz.blue/"</span>&gt;</span>ç«‹å³å‰å¾€<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾<br><img src= "/img/loading.gif" data-src="/2020/04/04/static-page-jump-code-retention/jump_1.png" width="100%" alt="æ•ˆæœå›¾ï¼šä¸€"></p><p>ä»£ç æ–‡ä»¶ï¼š<a href="jump_1.html" download="è·³è½¬é¡µä¸€">ç‚¹å‡»ä¸‹è½½</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è·³è½¬ </tag>
            
            <tag> é™æ€é¡µé¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å¯¹Hexoè¿›è¡Œæ ‡é¢˜ç¿»è¯‘</title>
      <link href="/2020/03/22/how-to-translate-hexo-titles.html"/>
      <url>/2020/03/22/how-to-translate-hexo-titles.html</url>
      
        <content type="html"><![CDATA[<p>ä¸‹è½½hexo-translate-titleå³å¯</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-translate-title-unchange --save</span><br></pre></td></tr></table></figure><p>å¦‚ä½•å¯¹éƒ¨åˆ†æ–‡ç« ä¸è¿›è¡Œç¿»è¯‘æˆ–è€…è¿›è¡Œæ‰‹åŠ¨ç¿»è¯‘ï¼Œä»¥åå†å‡ºæ•™ç¨‹</p>]]></content>
      
      
      <categories>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> å¸¸ç”¨é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåˆ†ç±»è§£é‡Š</title>
      <link href="/2020/03/22/hexo-classification-explanation.html"/>
      <url>/2020/03/22/hexo-classification-explanation.html</url>
      
        <content type="html"><![CDATA[<p>åœ¨Hexoçš„_config.yamlé‡Œé¢è®¾ç½®category_mapå’Œtags_map<br>ä¸‹é¢è¿™ä¸ªæ˜¯ä¾‹å­</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  å­¦ä¹ : Study,</span><br><span class="line">  ç”Ÿæ´»éšç¬”: Life,</span><br><span class="line">  å¸¸ç”¨é…ç½®: common,</span><br><span class="line">  æŠ€å·§: skill,</span><br><span class="line">  ä»£ç : Code,</span><br><span class="line">  å®‰å“å¼€å‘: android_develop</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-src="/2020/03/22/hexo-classification-explanation/all-maps.png" width="100%" alt="é…ç½®æ–‡ä»¶">]]></content>
      
      
      <categories>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> å¸¸ç”¨é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰å“æ–‡æœ¬æ“ä½œèœå•ç›¸å…³è¯´æ˜</title>
      <link href="/2020/03/12/description-of-android-text-operation-menu.html"/>
      <url>/2020/03/12/description-of-android-text-operation-menu.html</url>
      
        <content type="html"><![CDATA[<img src= "/img/loading.gif" data-src="/2020/03/12/description-of-android-text-operation-menu/1.png" width="100%" alt="1"><p>å…³äºå…·ä½“æƒ…å†µæˆ‘å·²ç»å‘å¸–åˆ°äº† <a href="https://club.huawei.com/thread-22993896-1-1.html" target="_blank" rel="noopener">èŠ±ç²‰ä¿±ä¹éƒ¨</a></p><p>ç»è¿‡ä¸€äº›ç®€å•çš„æ¢ç©¶ï¼Œç¬¬ä¸€ä¸ªæœç´¢å¯èƒ½æ˜¯å®‰å“æˆ–è€…åä¸ºç³»ç»Ÿè‡ªèº«å†…åµŒçš„ä¸€ä¸ªæœç´¢ï¼Œä¹‹åç¬¬äºŒä¸ªæœç´¢ä¸ºåä¸ºè‡ªå¸¦æµè§ˆå™¨çš„æœç´¢ï¼Œå½“å­˜åœ¨åä¸ºæµè§ˆå™¨çš„æ—¶å€™ç¬¬ä¸€ä¸ªæœç´¢é»˜è®¤æŒ‡å‘ä¸ºåä¸ºæµè§ˆå™¨ã€‚</p><p>ç°è±¡è¿˜åŸï¼šåœ¨è®¾ç½®-åº”ç”¨é‡Œé¢æŠŠåä¸ºæµè§ˆå™¨ç»™ç¦ç”¨äº†ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªæœç´¢å°±ä¼šæ¶ˆå¤±ï¼Œç¬¬ä¸€ä¸ªæœç´¢å›æç¤ºä½ è¦ä½ é€‰æ‹©é»˜è®¤æ‰“å¼€çš„è½¯ä»¶ã€‚</p><p>å®ç°åŸç†ï¼šè§ç®€ä¹¦ç¤¾åŒº <a href="https://jianshu.com/p/89970f098012" target="_blank" rel="noopener">ç®€åçš„æ–‡ç« </a></p><p>åç»­ä¹Ÿæœ‰å¯èƒ½æŒ‰ç…§ä»–çš„æ–¹å¼å»åšä¸€äº›è½¯ä»¶ï¼Œå­¦ä¹ ä¸€ä¸‹è¿™ä¸ªï¼Œå¸Œæœ›è¿™ä¸ªåˆšæŒ–çš„å‘ä¸è¦å¤ªå¤§(à¸…Â´Ï‰`à¸…)</p><p>ç„¶åäº†è§£åˆ°è¿˜æœ‰ä¸€äº›å…¶ä»–é¬¼è½¯ä»¶ä¸ºäº†æµé‡æˆ–è€…ä¸ºäº†æ–¹ä¾¿å¿«æ·ç­‰å› ç´ ä¼šæŠŠå…¶è·³è½¬æ’å…¥åˆ°è¿™ä¸ªé•¿æŒ‰çš„ä½ç½®ä¸Šï¼Œæ¯”å¦‚ç½‘æ˜“æ–°é—»ï¼Œæ–°æµªæ–°é—»ï¼Œå¹¶ä¸”æ²¡æœ‰å…³é—­çš„ä½ç½®</p><p>å»ºè®®åä¸ºç³»ç»Ÿèƒ½å¤Ÿå¢åŠ é•¿æŒ‰æ–‡æœ¬æ“ä½œèœå•çš„ç®¡ç†è®¾ç½®</p>]]></content>
      
      
      <categories>
          
          <category> Android Develop </category>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èŠ±ç²‰ä¿±ä¹éƒ¨ </tag>
            
            <tag> åä¸º </tag>
            
            <tag> èŠ±ç²‰ </tag>
            
            <tag> èœå• </tag>
            
            <tag> æ–‡æœ¬æ“ä½œèœå• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ å¥½ï¼Œä¸–ç•Œï¼</title>
      <link href="/2020/03/12/hello-world.html"/>
      <url>/2020/03/12/hello-world.html</url>
      
        <content type="html"><![CDATA[<p>ä½ å¥½ï¼Œä¸–ç•Œï¼</p><img src= "/img/loading.gif" data-src="/2020/03/12/hello-world/Hello-World.png" width="100%" alt="ä½ å¥½ï¼Œä¸–ç•Œï¼"><p>å¼€å§‹ä»Typechoè½¬åˆ°Hexoï¼Œæ–‡ç« ä¼šé€æ­¥è¿ç§»è¿‡æ¥çš„</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºç”Ÿæˆæ‰‹å†™å­—ä½“</title>
      <link href="/2020/03/10/about-generating-handwriting-fonts.html"/>
      <url>/2020/03/10/about-generating-handwriting-fonts.html</url>
      
        <content type="html"><![CDATA[<p>ç½‘ç«™</p><p><a href="http://flexifont.com/" target="_blank" rel="noopener">http://flexifont.com/</a></p><p>å…¶é…ç½®ä¸º</p><p>Apache/2.2.21 (Win64) PHP/5.3.8 mod_wsgi/3.5 Python/2.7.6</p><p>åšä¸ªè®°å½•</p><p>æ‰‹å†™å­—ä½“ç”Ÿæˆ</p><p>åŸºäºGANçš„å­—ä½“é£æ ¼è¿ç§»</p><p>é£æ ¼è¿ç§»åœ¨å›¾åƒåº”ç”¨</p><p><a href="https://github.com/LDOUBLEV/style_transfer-perceptual_loss" target="_blank" rel="noopener">https://github.com/LDOUBLEV/style_transfer-perceptual_loss</a></p><p>åŸºäºé£æ ¼è¿ç§»çš„æ‰‹å†™å­—ä½“ç”Ÿæˆ</p><p><a href="http://www.dataguru.cn/article-11281-1.html" target="_blank" rel="noopener">http://www.dataguru.cn/article-11281-1.html</a></p><p>è®ºæ–‡ï¼š<a href="http://www.doc88.com/p-8058499366708.html" target="_blank" rel="noopener">http://www.doc88.com/p-8058499366708.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­—ä½“ </tag>
            
            <tag> æ‰‹å†™å­—ä½“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºæš‚åœAS-Kotlinå­¦ä¹ çš„è¯´æ˜</title>
      <link href="/2020/03/10/notes-on-suspending-as-kotlin-learning.html"/>
      <url>/2020/03/10/notes-on-suspending-as-kotlin-learning.html</url>
      
        <content type="html"><![CDATA[<p>æš‚åœAS-Kotlinå­¦ä¹ ï¼Œæ”¹ä¸ºJava</p><p>ç†ç”±ï¼šç½‘ç»œä¸Šé¢å¥½å¤šç¨‹åºéƒ½æ˜¯ç”±Javaå†™æˆçš„ï¼Œæ–¹ä¾¿åˆå­¦è€…å‚è€ƒï¼Œè€ŒKotlinå±äºæ–°çš„ä¸œè¥¿ã€‚ç»™äºˆçš„å‚è€ƒç±»å‹å¤ªå°‘ï¼Œå¯¹åˆå­¦è€…ä¸å‹å¥½ï¼Œæ‰€ä»¥è½¬ä¸ºå­¦ä¹ Javaï¼Œå¦‚æœç­‰ç†Ÿç»ƒçš„è¯å†è½¬å­¦Kotlinå§</p>]]></content>
      
      
      <categories>
          
          <category> Android Develop </category>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å“ </tag>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Androidç›®æ ‡ä¸€ï¼šXMLè¾“å‡º ï¼ˆæ­£åœ¨è¿›è¡Œä¸­ï¼‰</title>
      <link href="/2020/03/08/android-target-1-xm-x-l-output.html"/>
      <url>/2020/03/08/android-target-1-xm-x-l-output.html</url>
      
        <content type="html"><![CDATA[<p>åˆ›å»ºç©ºç™½Hello Worldé¡¹ç›®</p><p>è¿›å…¥<code>res/layout/activity_main.xml</code></p><p>å¯ä»¥çœ‹è§</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line"></span><br><span class="line">&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line"></span><br><span class="line">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class="line"></span><br><span class="line">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class="line"></span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line"></span><br><span class="line">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line"></span><br><span class="line">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line"></span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line"></span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line"></span><br><span class="line">        android:text&#x3D;&quot;Hello World!&quot;</span><br><span class="line"></span><br><span class="line">        app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class="line"></span><br><span class="line">        app:layout_constraintLeft_toLeftOf&#x3D;&quot;parent&quot;</span><br><span class="line"></span><br><span class="line">        app:layout_constraintRight_toRightOf&#x3D;&quot;parent&quot;</span><br><span class="line"></span><br><span class="line">        app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;&#x2F;androidx.constraintlayout.widget.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ä¸è°ˆä¸Šé¢ä¸€éƒ¨åˆ†</p><p>çœ‹ä¸‹é¢ä¸€éƒ¨åˆ†</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">android:layout_width&#x3D;&quot;wrap_content&quot;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¸ºæ–‡å­—å®½åº¦éšæ–‡æœ¬é•¿åº¦å˜åŒ–äºŒå˜åŒ–</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">android:layout_height&#x3D;&quot;wrap_content&quot;</span><br></pre></td></tr></table></figure><p>åŒç†è¿™ä¸ªä¹Ÿæ˜¯</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">android:text&#x3D;&quot;Hello World!&quot;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå°±æ˜¯æ˜¾ç¤ºå†…å®¹</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class="line"></span><br><span class="line">app:layout_constraintLeft_toLeftOf&#x3D;&quot;parent&quot;</span><br><span class="line"></span><br><span class="line">app:layout_constraintRight_toRightOf&#x3D;&quot;parent&quot;</span><br><span class="line"></span><br><span class="line">app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå°±åº”è¯¥æ˜¯å®šä½æ˜¾ç¤ºå†…å®¹ï¼Œéƒ½ä¸ºç»§æ‰¿çˆ¶é…ç½®</p><p>å½“ä½ è¯•ç€å»é‡æ–°æ‰‹åŠ¨è®¾ç½®ä¸€ä¸ªçš„æ—¶å€™ä¼šæ˜¾ç¤º</p><img src= "/img/loading.gif" data-src="/2020/03/08/android-target-1-xm-x-l-output/Wrong.png" width="100%" alt="Wrong"><p>ä¼šæç¤º</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">This view is not constrained. It only has designtime positions, so it will jump to (0,0) at runtime unless you add the constraints  The layout editor allows you to place widgets anywhere on the canvas, and it records the current position with designtime attributes (such as layout_editor_absoluteX). These attributes are not applied at runtime, so if you push your layout on a device, the widgets may appear in a different location than shown in the editor. To fix this, make sure a widget has both horizontal and vertical constraints by dragging from the edge connections.  Issue id: MissingConstraints</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ­¤è§†å›¾ä¸å—çº¦æŸã€‚å®ƒåªæœ‰è®¾è®¡æ—¶ä½ç½®ï¼Œå› æ­¤å®ƒå°†åœ¨è¿è¡Œæ—¶è·³è½¬åˆ°ï¼ˆ0,0ï¼‰ï¼Œé™¤éæ‚¨æ·»åŠ çº¦æŸï¼Œå¦åˆ™å¸ƒå±€ç¼–è¾‘å™¨å…è®¸æ‚¨å°†å°éƒ¨ä»¶æ”¾ç½®åœ¨ç”»å¸ƒä¸Šçš„ä»»ä½•ä½ç½®ï¼Œå¹¶ä¸”å®ƒä½¿ç”¨è®¾è®¡æ—¶å±æ€§ï¼ˆä¾‹å¦‚å¸ƒå±€ç¼–è¾‘å™¨ç»å¯¹å€¼ï¼‰è®°å½•å½“å‰ä½ç½®ã€‚è¿™äº›å±æ€§åœ¨è¿è¡Œæ—¶ä¸åº”ç”¨ï¼Œå› æ­¤å¦‚æœæ‚¨åœ¨è®¾å¤‡ä¸Šæ¨é€å¸ƒå±€ï¼Œå°éƒ¨ä»¶å¯èƒ½ä¼šå‡ºç°åœ¨ä¸ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºçš„ä½ç½®ä¸åŒçš„ä½ç½®ã€‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œè¯·é€šè¿‡ä»è¾¹ç¼˜è¿æ¥æ‹–åŠ¨æ¥ç¡®ä¿å°éƒ¨ä»¶åŒæ—¶å…·æœ‰æ°´å¹³å’Œå‚ç›´çº¦æŸã€‚é—®é¢˜id:ç¼ºå°‘çº¦æŸ</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Hardcoded string &quot;test&quot;, should use @string resource  Hardcoding text attributes directly in layout files is bad for several reasons:  * When creating configuration variations (for example for landscape or portrait) you have to repeat the actual text (and keep it up to date when making changes)  * The application cannot be translated to other languages by just adding new translations for existing string resources.  There are quickfixes to automatically extract this hardcoded string into a resource lookup.  Issue id: HardcodedText</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç¡¬ç¼–ç å­—ç¬¦ä¸²â€œtestâ€ï¼Œåº”è¯¥åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨@stringèµ„æºç¡¬ç¼–ç æ–‡æœ¬å±æ€§æœ‰å‡ ä¸ªåŸå› ï¼š*åˆ›å»ºé…ç½®å˜ä½“ï¼ˆä¾‹å¦‚æ¨ªå‘æˆ–çºµå‘ï¼‰æ—¶ï¼Œå¿…é¡»é‡å¤å®é™…æ–‡æœ¬ï¼ˆå¹¶åœ¨è¿›è¡Œæ›´æ”¹æ—¶ä¿æŒæœ€æ–°ï¼‰*ä»…æ·»åŠ æ–°çš„ç°æœ‰å­—ç¬¦ä¸²èµ„æºçš„ç¿»è¯‘ã€‚æœ‰ä¸€äº›å¿«é€Ÿä¿®å¤ç¨‹åºå¯ä»¥è‡ªåŠ¨å°†æ­¤ç¡¬ç¼–ç å­—ç¬¦ä¸²æå–åˆ°èµ„æºæŸ¥æ‰¾ä¸­ã€‚é—®é¢˜id:HardcodedText</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-src="/2020/03/08/android-target-1-xm-x-l-output/fix_it.png" width="100%" alt="fix_it"><p>å¯¹äºä¸‹é¢è¿™ä¸ªæˆ‘ä»¬ç‚¹fix it</p><img src= "/img/loading.gif" data-src="/2020/03/08/android-target-1-xm-x-l-output/Fix_it_1.png" width="100%" alt="Fix_it_1"><p>åˆ™ä¼šæ·»åŠ å€¼åˆ°<code>res/value/strings</code>é‡Œé¢å»</p><img src= "/img/loading.gif" data-src="/2020/03/08/android-target-1-xm-x-l-output/res_strings.png" width="100%" alt="res_strings"><img src= "/img/loading.gif" data-src="/2020/03/08/android-target-1-xm-x-l-output/strings_main.png" width="100%" alt="strings_main"><p>æ·»åŠ çº¦æŸ</p><p>æœ¬æ¥ä¸ä¼šçš„ä¸è¿‡å¹¸å¥½ASæä¾›å›¾å½¢ç•Œé¢å¯ä»¥ç›´æ¥æ‹–åŠ¨ï¼ŒçœŸçš„å¯¹åˆå­¦è€…å¾ˆå‹å¥½</p><p>é‚£ä¹ˆæˆ‘ä»¬å°±çŸ¥é“äº†å®ƒçš„é“ç†</p><p>ä»¥å·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼Œå¾€å³ä¸‹å¢åˆ°</p><img src= "/img/loading.gif" data-src="/2020/03/08/android-target-1-xm-x-l-output/lefttop_00.png" width="100%" alt="lefttop_00"><img src= "/img/loading.gif" data-src="/2020/03/08/android-target-1-xm-x-l-output/rightbottom_11.png" width="100%" alt="rightbottom_11"><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app:layout_constraintHorizontal_bias&#x3D;&quot;1.0&quot;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå¯ä»¥è¯´ä¸ºXè½´å½“åˆ°æœ€å³è¾¹å°±ä¸º1.0</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app:layout_constraintVertical_bias&#x3D;&quot;0.0&quot;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå°±å¯ä»¥è¯´æ˜¯Yè½´åˆ°æœ€ä¸‹è¾¹å°±æ˜¯1.0</p><img src= "/img/loading.gif" data-src="/2020/03/08/android-target-1-xm-x-l-output/Vertical.png" width="100%" alt="Vertical"><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">android:layout_marginStart&#x3D;&quot;84dp&quot;</span><br></pre></td></tr></table></figure><p>MarginStartæŒ‡çš„æ˜¯æ§ä»¶è·ç¦»å¼€å¤´Viewéƒ¨åˆ†çš„é—´è·å¤§å°</p><p>æˆ‘ä»¬åœ¨å†™layoutå¸ƒå±€çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‘ç°æœ‰è¿™æ ·å‡ ä¸ªæ¯”è¾ƒç›¸ä¼¼çš„å±æ€§ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MarginStart   MarginLeft</span><br><span class="line"></span><br><span class="line">MarginEnd    MarginRight</span><br></pre></td></tr></table></figure><p>è¿™äº›å±æ€§çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?  æ ¹æ®apiæ³¨é‡Šï¼Œæˆ‘ä»¬å¾—çŸ¥MarginStartæŒ‡çš„æ˜¯æ§ä»¶è·ç¦»å¼€å¤´Viewéƒ¨åˆ†çš„é—´è·å¤§å°ï¼ŒMarginLeftåˆ™æŒ‡çš„æ˜¯æ§ä»¶è·ç¦»å·¦è¾¹Viewéƒ¨åˆ†çš„é—´è·å¤§å°ï¼ŒMarginEndå’ŒMarginRightåŒç†ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒViewå¼€å§‹éƒ¨åˆ†å°±æ˜¯å·¦è¾¹ï¼Œä½†æ˜¯æœ‰çš„è¯­è¨€ç›®å‰ä¸ºæ­¢è¿˜æ˜¯æŒ‰ç…§ä»å³å¾€å·¦çš„é¡ºåºæ¥ä¹¦å†™çš„ï¼Œä¾‹å¦‚é˜¿æ‹‰ä¼¯è¯­ï¼Œåœ¨Android  4.2ç³»ç»Ÿä¹‹åï¼ŒGoogleåœ¨Androidä¸­å¼•å…¥äº†RTLå¸ƒå±€ï¼Œæ›´å¥½äº†æ”¯æŒäº†ç”±å³åˆ°å·¦æ–‡å­—å¸ƒå±€çš„æ˜¾ç¤ºï¼Œä¸ºäº†æ›´å¥½çš„å…¼å®¹RTLå¸ƒå±€ï¼Œgoogleæ¨èä½¿ç”¨MarginStartå’ŒMarginEndæ¥æ›¿ä»£MarginLeftå’ŒMarginRightï¼Œè¿™æ ·åº”ç”¨å¯ä»¥åœ¨æ­£å¸¸çš„å±å¹•å’Œç”±å³åˆ°å·¦æ˜¾ç¤ºæ–‡å­—çš„å±å¹•ä¸Šéƒ½ä¿æŒä¸€è‡´çš„ç”¨æˆ·ä½“éªŒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Android Develop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å“ </tag>
            
            <tag> XML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡†å¤‡å¼€å§‹æ–°ç¯‡ç«  -- Android Studio</title>
      <link href="/2020/03/08/ready-to-start-a-new-chapter-android-studio.html"/>
      <url>/2020/03/08/ready-to-start-a-new-chapter-android-studio.html</url>
      
        <content type="html"><![CDATA[<p>å‡†å¤‡å¼€å§‹æ–°ç¯‡ç«  â€“ Android Studio</p><p>è¿‘æ—¥æƒ³åšåšå®‰å“App</p><p>è¯­è¨€é€‰æ‹©<del>Kotlin</del>Java</p><p>ç›®æ ‡</p><p> <strong><em>æ€». åˆ¶ä½œä¸€ä¸ªèƒ½å¤Ÿè°ƒç”¨â€œä»Šæ—¥è¯—è¯â€APIçš„è½¯ä»¶ï¼Œæ•°æ®ç¤ºä¾‹å¦‚ä¸‹</em></strong></p><img src= "/img/loading.gif" data-src="/2020/03/08/ready-to-start-a-new-chapter-android-studio/JINRISHICI_API.png" width="100%" alt="JINRISHICI_API"><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:&#123;&quot;id&quot;:&quot;5b8b9572e116fb3714e6fba1&quot;,&quot;content&quot;:&quot;è°å®¶ç‰ç¬›æš—é£å£°ï¼Œæ•£å…¥æ˜¥é£æ»¡æ´›åŸã€‚&quot;,&quot;popularity&quot;:607000,&quot;origin&quot;:&#123;&quot;title&quot;:&quot;æ˜¥å¤œæ´›åŸé—»ç¬› &#x2F; æ˜¥å¤œæ´›é˜³åŸé—»ç¬›&quot;,&quot;dynasty&quot;:&quot;å”ä»£&quot;,&quot;author&quot;:&quot;æç™½&quot;,&quot;content&quot;:[&quot;è°å®¶ç‰ç¬›æš—é£å£°ï¼Œæ•£å…¥æ˜¥é£æ»¡æ´›åŸã€‚&quot;,&quot;æ­¤å¤œæ›²ä¸­é—»æŠ˜æŸ³ï¼Œä½•äººä¸èµ·æ•…å›­æƒ…ã€‚&quot;],&quot;translate&quot;:[&quot;æ˜¯è°å®¶ç²¾ç¾çš„ç¬›å­æš—æš—åœ°å‘å‡ºæ‚ æ‰¬çš„ç¬›å£°ã€‚éšç€æ˜¥é£é£˜æ‰¬ï¼Œä¼ éæ´›é˜³å…¨åŸã€‚&quot;,&quot;å°±åœ¨ä»Šå¤œçš„æ›²ä¸­ï¼Œå¬åˆ°æ•…ä¹¡çš„ã€ŠæŠ˜æ¨æŸ³ã€‹ï¼Œå“ªä¸ªäººçš„æ€ä¹¡ä¹‹æƒ…ä¸ä¼šå› æ­¤è€Œæ²¹ç„¶è€Œç”Ÿå‘¢ï¼Ÿ&quot;]&#125;,&quot;matchTags&quot;:[&quot;æ˜¥&quot;,&quot;é£&quot;],&quot;recommendedReason&quot;:&quot;&quot;,&quot;cacheAt&quot;:&quot;2020-03-08T00:28:56.013294&quot;&#125;,&quot;token&quot;:&quot;Uz2&#x2F;+bh5Dt+n7INLEr&#x2F;iYzpclPxy7Rzg&quot;,&quot;ipAddress&quot;:&quot;27.18.69.224&quot;,&quot;warning&quot;:null&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p> <strong><em>1. å®ŒæˆHello Worldé¡¹ç›®ï¼Œç ”ç©¶è¾“å‡ºTextView</em></strong></p><p>å¼€å§‹æ—¶é—´ï¼š2020/03/07</p><p>ç»“æŸæ—¶é—´ï¼šï¼Ÿï¼Ÿï¼Ÿ</p><p>[post cid=â€107â€ /]</p><p> <strong><em>2. åˆ—è¡¨é¡¹ç›®</em></strong></p><p> <strong><em>3. åˆ—è¡¨é¡¹ç›®</em></strong></p>]]></content>
      
      
      <categories>
          
          <category> Android Develop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å“ </tag>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSLä¿®æ”¹é»˜è®¤ç”¨æˆ·</title>
      <link href="/2020/03/06/wsl-modify-default-user.html"/>
      <url>/2020/03/06/wsl-modify-default-user.html</url>
      
        <content type="html"><![CDATA[<p>ä»¥ç®¡ç†å‘˜çš„æ–¹å¼æ‰“å¼€PowerShellæˆ–è€…cmd</p><p>â‘ ï¼šå¦‚æœä½ æ˜¯åœ¨Microsoft Storeé‡Œé¢å®‰è£…çš„ï¼Œåˆ™åˆ‡æ¢åˆ°<code>C:\Users\Kylin\AppData\Local\Microsoft\WindowsApps</code>ç›®å½•ä¸‹</p><p>â‘¡ï¼šå¦‚æœä½ æ˜¯åœ¨GitHubç­‰å…¶ä»–ä½ç½®é€šè¿‡æºç å®‰è£…çš„è¯·åˆ‡æ¢åˆ°ä½ çš„æºç ç›®å½•</p><p>æ³¨ï¼šä¸€ä¸‹fedoraremixå¯ä»¥æ›´æ¢ä¸ºubuntuã€debianç­‰å·²å®‰è£…çš„å‘è¡Œç‰ˆ</p><p>è¾“å…¥ä¸‹é¢è¿™ä¸ªæŸ¥çœ‹å¸®åŠ©</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;fedoraremix --help</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-src="/2020/03/06/wsl-modify-default-user/WSL_help.png" width="100%" alt="WSL_help"><p>ç”±äºç”¨Microsoft Storeå®‰è£…çš„å·²ç»é¢„å…ˆè®¾ç½®å¥½äº†ç¯å¢ƒå˜é‡æ‰€ä»¥å¯ä»¥ä¸åŠ <code>./</code></p><p>è¾“å…¥ä¸‹é¢è¿™ä¸ªä¿®æ”¹é»˜è®¤ç”¨æˆ·</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fedoraremix config  --default-user root</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-src="/2020/03/06/wsl-modify-default-user/WSL_Change_User.png" width="100%" alt="WSL_Change_User">]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> é»˜è®¤ç”¨æˆ· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ å–çš„æ°´-æ°´çš„ä¸‰ç›¸ç‚¹</title>
      <link href="/2020/03/05/the-water-you-drink-the-threephase-point-of-water.html"/>
      <url>/2020/03/05/the-water-you-drink-the-threephase-point-of-water.html</url>
      
        <content type="html"><![CDATA[<p>å¦‚å›¾<br><img src= "/img/loading.gif" data-src="/2020/03/05/the-water-you-drink-the-threephase-point-of-water/the-water-you-drink.png" width="100%" alt="the-water-you-drink"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”Ÿæ´»éšç¬” </tag>
            
            <tag> æ°´ </tag>
            
            <tag> H2O </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä¸€é”®åˆ é™¤å¾®åš</title>
      <link href="/2020/03/01/how-to-delete-weibo-with-one-click.html"/>
      <url>/2020/03/01/how-to-delete-weibo-with-one-click.html</url>
      
        <content type="html"><![CDATA[<p>æµè§ˆå™¨ä»£ç </p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F; &#x3D;&#x3D;UserScript&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; @name Weibored.js</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; @namespace http:&#x2F;&#x2F;vito.sdf.org</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; @version 0.1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; @description åˆ é™¤æ‰€æœ‰å¾®åš</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; @author Vito Van</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; @match http:&#x2F;&#x2F;weibo.com&#x2F;p&#x2F;*</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; @grant none</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; &#x3D;&#x3D;&#x2F;UserScript&#x3D;&#x3D;</span><br><span class="line"></span><br><span class="line">&#39;use strict&#39;;</span><br><span class="line"></span><br><span class="line">var s &#x3D; document.createElement(&quot;script&quot;);</span><br><span class="line"></span><br><span class="line">s.setAttribute(&quot;src&quot;,&quot;https:&#x2F;&#x2F;lib.sinaapp.com&#x2F;js&#x2F;jquery&#x2F;2.0.3&#x2F;jquery-2.0.3.min.js &quot;);</span><br><span class="line"></span><br><span class="line">s.onload &#x3D; function()&#123;</span><br><span class="line"></span><br><span class="line">for(var i&#x3D;0;i&lt;100;i++)&#123;</span><br><span class="line"></span><br><span class="line">setTimeout(function()&#123;</span><br><span class="line"></span><br><span class="line">$(&#39;a[action-type&#x3D;&quot;fl_menu&quot;]&#39;)[0].click();</span><br><span class="line"></span><br><span class="line">$(&#39;a[title&#x3D;&quot;åˆ é™¤æ­¤æ¡å¾®åš&quot;]&#39;)[0].click();</span><br><span class="line"></span><br><span class="line">$(&#39;a[action-type&#x3D;&quot;ok&quot;]&#39;)[0].click();</span><br><span class="line"></span><br><span class="line">&#125;,1000*i);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.head.appendChild(s);</span><br></pre></td></tr></table></figure><p>ç½‘ç»œæ”¶é›†ï¼Œä¾µæƒè”ç³»åˆ é™¤</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®åš </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows Server 2012 å°†æˆ‘çš„ç”µè„‘æ”¾åˆ°æ¡Œé¢</title>
      <link href="/2020/02/26/windows-server-2012-putting-my-computer-on-the-desktop.html"/>
      <url>/2020/02/26/windows-server-2012-putting-my-computer-on-the-desktop.html</url>
      
        <content type="html"><![CDATA[<p>WIN+R</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">rundll32.exe shell32.dll,Control_RunDLL desk.cpl,,0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Windows Server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Caddy_V2 Websocketè¯´æ˜</title>
      <link href="/2020/02/17/caddy-v2-websocket-description.html"/>
      <url>/2020/02/17/caddy-v2-websocket-description.html</url>
      
        <content type="html"><![CDATA[<p><a href="https://caddy.community/t/unrecognized-subdirective-websocket/6493" target="_blank" rel="noopener">https://caddy.community/t/unrecognized-subdirective-websocket/6493</a></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">header_up Connection &#123;http.request.header.Connection&#125;</span><br><span class="line"></span><br><span class="line">header_up Upgrade &#123;http.request.header.Upgrade&#125;</span><br></pre></td></tr></table></figure><p>In v2, you do not need to do anything to enable websockets.</p><p>Websockets should work with v2â€™s reverse proxy by default.</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Caddy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‘è“æ´¾æ›´æ”¹IPåœ°å€ä¸ºé™æ€åœ°å€ --æµ‹è¯•ç‰ˆ</title>
      <link href="/2020/02/13/raspberry-pie-change-ip-address-to-static-address.html"/>
      <url>/2020/02/13/raspberry-pie-change-ip-address-to-static-address.html</url>
      
        <content type="html"><![CDATA[<p>æ ‘è“æ´¾æ›´æ”¹IPåœ°å€ä¸ºé™æ€åœ°å€ï¼Œæ–¹ä¾¿ç«¯å£æ˜ å°„</p><p>é¦–å…ˆï¼Œå®˜æ–¹é•œåƒçš„æ ‘è“æ´¾æ˜¯åŸºäºDebianç³»ç»Ÿï¼Œæ‰€ä»¥å‘½ä»¤ä¼šå®‡å®ƒæœ‰ç±»ä¼¼</p><img src= "/img/loading.gif" data-src="/2020/02/13/raspberry-pie-change-ip-address-to-static-address/pi_debian.png" width="100%" alt="pi_debian"><p>é‚£ä¹ˆæ›´æ”¹IPä¹Ÿæ˜¯ä¸€æ ·</p><p><strong><em>æ³¨æ„ï¼šæœªç»è¿‡æµ‹è¯•å¯èƒ½å‡ºç°è¿ä¸ä¸Šç½‘çš„æƒ…å†µ</em></strong></p><p>æ¢å¤æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">sudo rm -rf &#x2F;etc&#x2F;dhcpcd.conf</span><br><span class="line"></span><br><span class="line">sudo cp &#x2F;etc&#x2F;dhcpcd.conf.bak &#x2F;etc&#x2F;dhcpcd.conf</span><br><span class="line"></span><br><span class="line">systemctl restart dhcpcd</span><br></pre></td></tr></table></figure><hr><p>ä¸€ï¼šæ˜ç¡®ç½‘ç»œè¿æ¥æ–¹å¼ï¼ŒåŠç½‘å¡åç§°</p><p>å¦‚é€šè¿‡ç½‘çº¿è¿æ¥ä¼šå‡ºç°eth0ç½‘å¡æˆ–ens0ç½‘å¡</p><p>WiFiè¿æ¥åˆ™å‡ºç°wlan0ç­‰</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">ifconfig</span><br></pre></td></tr></table></figure><p>å¦‚æœæç¤º<code>command not found</code>åˆ™éœ€è¦å®‰è£…<code>net-tools</code>åŒ…</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">sudo apt-get install net-tools -y</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-src="/2020/02/13/raspberry-pie-change-ip-address-to-static-address/pi_ifconfig.png" width="100%" alt="pi_ifconfig"><p>ç¬¬ä¸€ä¸ªä¸ºDockerè™šæ‹Ÿç½‘å¡ä¸ç®¡</p><p>ç¬¬äºŒä¸ªåˆ™ä¸ºçœŸå®ç½‘å¡</p><p>äºŒï¼šä¿®æ”¹é…ç½®</p><p>å¤åˆ¶æ¥å¤‡ä»½é…ç½®æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">sudo cp &#x2F;etc&#x2F;dhcpcd.conf &#x2F;etc&#x2F;dhcpcd.conf.bak</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">sudo nano &#x2F;etc&#x2F;dhcpcd.conf</span><br></pre></td></tr></table></figure><p>å¦‚æœæç¤º<code>command not found</code>åˆ™éœ€è¦å®‰è£…<code>nano</code>åŒ…,å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨viæˆ–è€…vim</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">sudo apt-get install nano -y</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-src="/2020/02/13/raspberry-pie-change-ip-address-to-static-address/pi_dhcpcd.png" width="100%" alt="pi_dhcpcd"><p>å†æœ«å°¾æ·»åŠ é…ç½®</p><p>è¯·å‹¿ç›´æ¥å¤åˆ¶</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">interface eth0</span><br><span class="line"></span><br><span class="line">static ip_address&#x3D;192.168.0.10&#x2F;24</span><br><span class="line"></span><br><span class="line">static routers&#x3D;192.168.0.1</span><br><span class="line"></span><br><span class="line">static domain_name_servers&#x3D;192.168.0.1 8.8.8.8</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">interface wlan0</span><br><span class="line"></span><br><span class="line">static ip_address&#x3D;192.168.0.10&#x2F;24</span><br><span class="line"></span><br><span class="line">static routers&#x3D;192.168.0.1</span><br><span class="line"></span><br><span class="line">static domain_name_servers&#x3D;192.168.0.1 8.8.8.8</span><br></pre></td></tr></table></figure><p>eth0æˆ–wlan0ä¸ºä½ çœŸå®ç½‘å¡çš„åç§°</p><p>ip_addresså°±æ˜¯é™æ€IP , åé¢è¦æ¥/24 , æœ€å¥½å¾€åè®¾ä¸€ç‚¹</p><p>routersæ˜¯ç½‘å…³</p><p>static domain_name_serversæ˜¯DNS</p><p>Ctrl+o å›è½¦ä¿å­˜ Ctrl+xé€€å‡ºç¼–è¾‘ï¼Œå½“ç„¶ä½ ç”¨viæˆ–è€…vimä¹Ÿå¯ä»¥</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">systemctl restart dhcpcd</span><br></pre></td></tr></table></figure><p>é‡å¯dhcpcdç½‘ç»œ</p><p>ä¸‰ï¼šç™»å½•è·¯ç”±å™¨æŸ¥çœ‹IPåœ°å€</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ ‘è“æ´¾ </tag>
            
            <tag> IP </tag>
            
            <tag> é™æ€åœ°å€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPç¼–è¯‘é€‰é¡¹--withå’Œ--enableçš„åŒºåˆ«</title>
      <link href="/2020/02/02/the-difference-between-php-compile-options-with-and-enable.html"/>
      <url>/2020/02/02/the-difference-between-php-compile-options-with-and-enable.html</url>
      
        <content type="html"><![CDATA[<p>enableå¤šä»£è¡¨ä¸ä¾èµ–å¤–éƒ¨åº“ä¾¿å¯ä»¥ç›´æ¥ç¼–è¯‘</p><p>withå¤§å¤šéœ€è¦ä¾èµ–äºç¬¬ä¸‰æ–¹çš„lib</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> ç¼–è¯‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>&quot;/usr/share/cracklib/pw_dict.pwd: No such file or directory&quot;è§£å†³æ–¹æ³•</title>
      <link href="/2020/02/01/usr-share-cracklib-pwdictpwd-no-such-file-or-directory-solution.html"/>
      <url>/2020/02/01/usr-share-cracklib-pwdictpwd-no-such-file-or-directory-solution.html</url>
      
        <content type="html"><![CDATA[<p>åœ¨Linuxä¸‹ä¿®æ”¹ç”¨æˆ·å¯†ç </p><p>1.ç›´æ¥è¿è¡Œ  passwd ç”¨æˆ·å,è¾“å…¥æ–°å¯†ç ï¼Œå†ç¡®è®¤ä¸€éï¼Œé‡å¯ç”Ÿæ•ˆ</p><p>2.å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;usr&#x2F;share&#x2F;cracklib&#x2F;pw_dict.pwd: No such file or directory</span><br></pre></td></tr></table></figure><p>åŸå› æ˜¯ç¼ºå°‘cracklibåº“</p><p>è§£å†³åŠæ³•ï¼šå®‰è£…cracklib-dicts</p><p>Fedora </p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">dnf -y install cracklib-dicts</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> è§£å†³æ–¹æ¡ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯†ç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå†…å®‰è£…Mysql/Mariadbæç¤º&quot;æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¸ŠæŒ‡ç¤ºçš„ HTTPS ä¹‹é—´ä¸åŒ¹é…&quot;è§£å†³æ–¹æ¡ˆ</title>
      <link href="/2020/01/30/when-installing-mysql-mariadb-in-docker-the-solution-of-mismatch-between-https-indicated-on-server-and-client-will-be-prompted.html"/>
      <url>/2020/01/30/when-installing-mysql-mariadb-in-docker-the-solution-of-mismatch-between-https-indicated-on-server-and-client-will-be-prompted.html</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨dockerå®‰è£…phpmyadminï¼Œå¯åŠ¨æˆåŠŸç™»å½•ï¼Œå‡ºç°æç¤ºï¼šæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¸ŠæŒ‡ç¤ºçš„ HTTPS ä¹‹é—´ä¸åŒ¹é…ã€‚è¿™å¯èƒ½å¯¼è‡´ phpMyAdmin æ— æ³•æ­£å¸¸å·¥ä½œæˆ–å­˜åœ¨å®‰å…¨é£é™©ã€‚è¯·ä¿®å¤æ‚¨çš„æœåŠ¡å™¨é…ç½®ä»¥æ­£ç¡®æŒ‡ç¤º HTTPSã€‚</p><img src= "/img/loading.gif" data-src="/2020/01/30/when-installing-mysql-mariadb-in-docker-the-solution-of-mismatch-between-https-indicated-on-server-and-client-will-be-prompted/phpmyadmin_ssl.png" width="100%" alt="phpmyadmin_ssl"><p>ä»¥å‰phpmyadminæ˜¯ç›´æ¥å®‰è£…åœ¨nginxé‡Œçš„ï¼Œæ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚ç°åœ¨ç”¨caddyåšä¸ºä»£ç†ã€‚å¤–éƒ¨è®¿é—®ä½¿ç”¨httpsï¼Œå†…éƒ¨ç”¨httpã€‚</p><p>è§£å†³æ–¹æ³•æ˜¯ä¿®æ”¹å‚æ•°ï¼š</p><p>$cfg[â€˜PmaAbsoluteUriâ€™] = â€˜<a href="https://pma.xxx.comâ€™" target="_blank" rel="noopener">https://pma.xxx.comâ€™</a>;</p><p>åœ¨dockerä¸­å¯åŠ¨ï¼Œå¯ä»¥åœ¨å¯åŠ¨æ—¶æŒ‡å®šç¯å¢ƒå‚æ•°ï¼ˆè¯¥å‚æ•°åœ¨å®˜æ–¹æ–‡æ¡£é‡Œæ²¡æœ‰ä½†æ˜¯æœ‰æ•ˆï¼‰ï¼š</p><p>-e PMA_ABSOLUTE_URI=<a href="https://pma.xxx.com" target="_blank" rel="noopener">https://pma.xxx.com</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘è¿ç»´ç¼–æ’å®ç”¨é…ç½®</title>
      <link href="/2020/01/28/alibaba-cloud-operation-and-maintenance-choreography-practical-configuration.html"/>
      <url>/2020/01/28/alibaba-cloud-operation-and-maintenance-choreography-practical-configuration.html</url>
      
        <content type="html"><![CDATA[<p>å½“ä½ ä½¿ç”¨ä¾¿å®œçš„çš„ç«ä»·äº‘æœåŠ¡å™¨æ—¶ï¼Œè‚¯å®šä¼šæ‹…å¿ƒæ•°æ®é—®é¢˜é‚£ä¹ˆï¼Œä¸€ä¸‹å°±å¯ä»¥å¸®ä½ è§£å†³é—®é¢˜ã€‚</p><p>å…·ä½“ä¸ºï¼šå®šæ—¶ä»»åŠ¡-å…³æœº-åˆ›å»ºé•œåƒ-æ¢å¤é•œåƒ-å¼€æœº-é‚®ä»¶æé†’</p><p>åç»­å¯èƒ½ä¼šæ›´æ–°</p><p>è¯·å…³æ³¨æˆ‘çš„Githubï¼š<a href="https://github.com/arkylin/Aliyun_OOS_Backup_ECS" target="_blank" rel="noopener">https://github.com/arkylin/Aliyun_OOS_Backup_ECS</a></p><p><strong>æ­¤æ–‡æœªç»æœ¬äººå…è®¸ï¼Œç¦æ­¢è½¬è½½ï¼</strong></p><p>æ¡†æ¶å¦‚ä¸‹</p><img src= "/img/loading.gif" data-src="/2020/01/28/alibaba-cloud-operation-and-maintenance-choreography-practical-configuration/Aliyun-OOS-view.png" width="100%" alt="Aliyun-OOS-view"><hr><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">FormatVersion: OOS-2019-06-01</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line"></span><br><span class="line">  en: Regularly create ECS images.</span><br><span class="line"></span><br><span class="line">  zh-cn: å®šæ—¶åˆ›å»ºECSé•œåƒã€‚</span><br><span class="line"></span><br><span class="line">  name-en: Regularly-create-ECS-images</span><br><span class="line"></span><br><span class="line">  name-zh-cn: å®šæ—¶åˆ›å»ºECSé•œåƒ</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line"></span><br><span class="line">  targets:</span><br><span class="line"></span><br><span class="line">    Type: Json</span><br><span class="line"></span><br><span class="line">    AssociationProperty: Targets</span><br><span class="line"></span><br><span class="line">    AssociationPropertyMetadata:</span><br><span class="line"></span><br><span class="line">      ResourceType: &#39;ALIYUN::ECS::Instance&#39;</span><br><span class="line"></span><br><span class="line">  instanceId:</span><br><span class="line"></span><br><span class="line">    Description:</span><br><span class="line"></span><br><span class="line">      en: The ID of ECS instance.</span><br><span class="line"></span><br><span class="line">      zh-cn: ECSå®ä¾‹IDã€‚</span><br><span class="line"></span><br><span class="line">    Type: String</span><br><span class="line"></span><br><span class="line">  Imagesbasic:</span><br><span class="line"></span><br><span class="line">    Description:</span><br><span class="line"></span><br><span class="line">      en: The ID of Imagees.</span><br><span class="line"></span><br><span class="line">      zh-cn: åŸºæœ¬é•œåƒIDã€‚</span><br><span class="line"></span><br><span class="line">    Type: String</span><br><span class="line"></span><br><span class="line">  cron:</span><br><span class="line"></span><br><span class="line">    Description:</span><br><span class="line"></span><br><span class="line">      en: &#39;The cron expression, refer them here: https:&#x2F;&#x2F;www.alibabacloud.com&#x2F;help&#x2F;zh&#x2F;faq-detail&#x2F;64769.htm. The minimum interval is one minute.&#39;</span><br><span class="line"></span><br><span class="line">      zh-cn: &#39;cronè¡¨è¾¾å¼ï¼Œè¯¦æƒ…å‚è€ƒï¼šhttps:&#x2F;&#x2F;www.alibabacloud.com&#x2F;help&#x2F;zh&#x2F;faq-detail&#x2F;64769.htm&#39;</span><br><span class="line"></span><br><span class="line">    Type: String</span><br><span class="line"></span><br><span class="line">    AssociationProperty: Cron</span><br><span class="line"></span><br><span class="line">    Default: 0 0 12 ? * *</span><br><span class="line"></span><br><span class="line">  endDate:</span><br><span class="line"></span><br><span class="line">    Description:</span><br><span class="line"></span><br><span class="line">      en: &#39;The end date of time trigger. Format: yyyy-MM-ddThh:mm:ssZ.&#39;</span><br><span class="line"></span><br><span class="line">      zh-cn: &#39;æ—¶é—´è§¦å‘å™¨ç»“æŸæ—¶é—´ã€‚æ ¼å¼ï¼šyyyy-MM-ddThh:mm:ssZ&#39;</span><br><span class="line"></span><br><span class="line">    Type: String</span><br><span class="line"></span><br><span class="line">    AssociationProperty: DateTime</span><br><span class="line"></span><br><span class="line">    AssociationPropertyMetadata:</span><br><span class="line"></span><br><span class="line">      Format: &#39;YYYY-MM-DDThh:mm:ssZ&#39;</span><br><span class="line"></span><br><span class="line">  rateControl:</span><br><span class="line"></span><br><span class="line">    Description:</span><br><span class="line"></span><br><span class="line">      en: Concurrency ratio of task execution.</span><br><span class="line"></span><br><span class="line">      zh-cn: ä»»åŠ¡æ‰§è¡Œçš„å¹¶å‘æ¯”ç‡ã€‚</span><br><span class="line"></span><br><span class="line">    Type: Json</span><br><span class="line"></span><br><span class="line">    AssociationProperty: RateControl</span><br><span class="line"></span><br><span class="line">    Default:</span><br><span class="line"></span><br><span class="line">      Mode: Concurrency</span><br><span class="line"></span><br><span class="line">      MaxErrors: 0</span><br><span class="line"></span><br><span class="line">      Concurrency: 10</span><br><span class="line"></span><br><span class="line">  OOSAssumeRole:</span><br><span class="line"></span><br><span class="line">    Description:</span><br><span class="line"></span><br><span class="line">      en: The RAM role to be assumed by OOS.</span><br><span class="line"></span><br><span class="line">      zh-cn: OOSæ‰®æ¼”çš„RAMè§’è‰²ã€‚</span><br><span class="line"></span><br><span class="line">    Type: String</span><br><span class="line"></span><br><span class="line">    Default: OOSServiceRole</span><br><span class="line"></span><br><span class="line">RamRole: &#39;&#123;&#123; OOSAssumeRole &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Tasks:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - Name: timerTrigger</span><br><span class="line"></span><br><span class="line">    Action: &#39;ACS::TimerTrigger&#39;</span><br><span class="line"></span><br><span class="line">    Description:</span><br><span class="line"></span><br><span class="line">      en: Triggers a task as scheduled by specifying Cron expression.</span><br><span class="line"></span><br><span class="line">      zh-cn: é€šè¿‡æŒ‡å®šCronè¡¨è¾¾å¼æŒ‰è®¡åˆ’è§¦å‘ä»»åŠ¡ã€‚</span><br><span class="line"></span><br><span class="line">    Properties:</span><br><span class="line"></span><br><span class="line">      Type: cron</span><br><span class="line"></span><br><span class="line">      Expression: &#39;&#123;&#123; cron &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">      EndDate: &#39;&#123;&#123; endDate &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - Name: getInstance</span><br><span class="line"></span><br><span class="line">    Description:</span><br><span class="line"></span><br><span class="line">      en: Views the ECS instances.</span><br><span class="line"></span><br><span class="line">      zh-cn: è·å–ECSå®ä¾‹ã€‚</span><br><span class="line"></span><br><span class="line">    Action: &#39;ACS::SelectTargets&#39;</span><br><span class="line"></span><br><span class="line">    Properties:</span><br><span class="line"></span><br><span class="line">      ResourceType: &#39;ALIYUN::ECS::Instance&#39;</span><br><span class="line"></span><br><span class="line">      Filters:</span><br><span class="line"></span><br><span class="line">        - &#39;&#123;&#123; targets &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">    Outputs:</span><br><span class="line"></span><br><span class="line">      instanceIds:</span><br><span class="line"></span><br><span class="line">        Type: List</span><br><span class="line"></span><br><span class="line">        ValueSelector: &#39;Instances.Instance[].InstanceId&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - Name: StopInstance</span><br><span class="line"></span><br><span class="line">    Action: &#39;ACS::ECS::StopInstance&#39;</span><br><span class="line"></span><br><span class="line">    Description: Stops an ECS instance.</span><br><span class="line"></span><br><span class="line">    Properties:</span><br><span class="line"></span><br><span class="line">      instanceId: &#39;&#123;&#123; ACS::TaskLoopItem &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">    OnError: &#39;ACS::NEXT&#39;</span><br><span class="line"></span><br><span class="line">    Loop:</span><br><span class="line"></span><br><span class="line">      RateControl: &#39;&#123;&#123; rateControl &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">      Items: &#39;&#123;&#123; getInstance.instanceIds &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - Name: createImage</span><br><span class="line"></span><br><span class="line">    Action: &#39;ACS::ECS::CreateImage&#39;</span><br><span class="line"></span><br><span class="line">    Description:</span><br><span class="line"></span><br><span class="line">      en: Create new image with the specified image name and instance ID.</span><br><span class="line"></span><br><span class="line">      zh-cn: é€šè¿‡æŒ‡å®šå®ä¾‹IDå’Œé•œåƒåç§°åˆ›å»ºæ–°çš„é•œåƒã€‚</span><br><span class="line"></span><br><span class="line">    Properties:</span><br><span class="line"></span><br><span class="line">      instanceId: &#39;&#123;&#123; ACS::TaskLoopItem &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">      imageName: &#39;Auto_&#123;&#123; ACS::ExecutionId &#125;&#125;_&#123;&#123; ACS::TaskLoopItem &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">    Loop:</span><br><span class="line"></span><br><span class="line">      Items: &#39;&#123;&#123; getInstance.instanceIds &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">      RateContral: &#39;&#123;&#123; rateControl &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">      Outputs:</span><br><span class="line"></span><br><span class="line">        imageIds:</span><br><span class="line"></span><br><span class="line">          AggregateType: &#39;Fn::ListJoin&#39;</span><br><span class="line"></span><br><span class="line">          AggregateField: imageId</span><br><span class="line"></span><br><span class="line">    OnError: ReplaceSystemDiskBasic</span><br><span class="line"></span><br><span class="line">    Outputs:</span><br><span class="line"></span><br><span class="line">      imageId:</span><br><span class="line"></span><br><span class="line">        ValueSelector: imageId</span><br><span class="line"></span><br><span class="line">        Type: String</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - Name: ReplaceSystemDisk</span><br><span class="line"></span><br><span class="line">    Action: &#39;ACS::ECS::ReplaceSystemDisk&#39;</span><br><span class="line"></span><br><span class="line">    Description: Replaces the system disk of an ECS instance.</span><br><span class="line"></span><br><span class="line">    Properties:</span><br><span class="line"></span><br><span class="line">      instanceId: &#39;&#123;&#123; instanceId &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">      imageId: &#39;&#123;&#123; ACS::TaskLoopItem &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">    OnError: ReplaceSystemDiskBasic</span><br><span class="line"></span><br><span class="line">    OnSuccess: NotifyByMailYES</span><br><span class="line"></span><br><span class="line">    Loop:</span><br><span class="line"></span><br><span class="line">      Items: &#39;&#123;&#123; createImage.ImageIds &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">      Outputs:</span><br><span class="line"></span><br><span class="line">        ImageIds:</span><br><span class="line"></span><br><span class="line">          AggregateType: &#39;Fn::ListJoin&#39;</span><br><span class="line"></span><br><span class="line">          AggregateField: ImageId</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - Name: ReplaceSystemDiskBasic</span><br><span class="line"></span><br><span class="line">    Action: &#39;ACS::ECS::ReplaceSystemDisk&#39;</span><br><span class="line"></span><br><span class="line">    Description: Replaces the system disk of an ECS instance.</span><br><span class="line"></span><br><span class="line">    OnError: NotifyByMailNONO</span><br><span class="line"></span><br><span class="line">    OnSuccess: NotifyByMailNO</span><br><span class="line"></span><br><span class="line">    Properties:</span><br><span class="line"></span><br><span class="line">      instanceId: &#39;&#123;&#123; instanceId &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line">      imageId: &#39;&#123;&#123; Imagesbasic &#125;&#125;&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - Name: NotifyByMailNONO</span><br><span class="line"></span><br><span class="line">    Action: ACS::Notify</span><br><span class="line"></span><br><span class="line">    Properties:</span><br><span class="line"></span><br><span class="line">        NotifyType: Mail</span><br><span class="line"></span><br><span class="line">        Mail:</span><br><span class="line"></span><br><span class="line">            Host: hwsmtp.exmail.qq.com</span><br><span class="line"></span><br><span class="line">            Port: 465</span><br><span class="line"></span><br><span class="line">            Username: notify@xyz.blue</span><br><span class="line"></span><br><span class="line">            Password: XXXXXXXXXXXXXXX</span><br><span class="line"></span><br><span class="line">            Subject: BIG Error Auto Images</span><br><span class="line"></span><br><span class="line">            Body: Unable return to Basic</span><br><span class="line"></span><br><span class="line">            From: notify@xyz.blue</span><br><span class="line"></span><br><span class="line">            To:  [123456789@qq.com,987654321@qq.com]</span><br><span class="line"></span><br><span class="line">    OnSuccess: &#39;ACS::END&#39;</span><br><span class="line"></span><br><span class="line">    OnError: &#39;ACS::END&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - Name: NotifyByMailNO</span><br><span class="line"></span><br><span class="line">    Action: ACS::Notify</span><br><span class="line"></span><br><span class="line">    Properties:</span><br><span class="line"></span><br><span class="line">        NotifyType: Mail</span><br><span class="line"></span><br><span class="line">        Mail:</span><br><span class="line"></span><br><span class="line">            Host: hwsmtp.exmail.qq.com</span><br><span class="line"></span><br><span class="line">            Port: 465</span><br><span class="line"></span><br><span class="line">            Username: notify@xyz.blue</span><br><span class="line"></span><br><span class="line">            Password: XXXXXXXXXXXXXXX</span><br><span class="line"></span><br><span class="line">            Subject: Error Auto Images</span><br><span class="line"></span><br><span class="line">            Body: Return to Basic</span><br><span class="line"></span><br><span class="line">            From: notify@xyz.blue</span><br><span class="line"></span><br><span class="line">            To:  [123456789@qq.com,987654321@qq.com]</span><br><span class="line"></span><br><span class="line">    OnSuccess: &#39;ACS::END&#39;</span><br><span class="line"></span><br><span class="line">    OnError: &#39;ACS::END&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - Name: NotifyByMailYES</span><br><span class="line"></span><br><span class="line">    Action: ACS::Notify</span><br><span class="line"></span><br><span class="line">    Properties:</span><br><span class="line"></span><br><span class="line">        NotifyType: Mail</span><br><span class="line"></span><br><span class="line">        Mail:</span><br><span class="line"></span><br><span class="line">            Host: hwsmtp.exmail.qq.com</span><br><span class="line"></span><br><span class="line">            Port: 465</span><br><span class="line"></span><br><span class="line">            Username: notify@xyz.blue</span><br><span class="line"></span><br><span class="line">            Password: XXXXXXXXXXXXXXX</span><br><span class="line"></span><br><span class="line">            Subject: YES Auto Images</span><br><span class="line"></span><br><span class="line">            Body: YES TO MAKE</span><br><span class="line"></span><br><span class="line">            From: notify@xyz.blue</span><br><span class="line"></span><br><span class="line">            To:  [123456789@qq.com,987654321@qq.com</span><br><span class="line"></span><br><span class="line">    OnSuccess: &#39;ACS::END&#39;</span><br><span class="line"></span><br><span class="line">    OnError: &#39;ACS::END&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Outputs:</span><br><span class="line"></span><br><span class="line">  imageIds:</span><br><span class="line"></span><br><span class="line">    Type: List</span><br><span class="line"></span><br><span class="line">    Value: &#39;&#123;&#123; createImage.imageIds &#125;&#125;&#39;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜¿é‡Œäº‘ </tag>
            
            <tag> è¿ç»´ç¼–æ’ </tag>
            
            <tag> OSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éäº¤äº’å¼ä¿®æ”¹SSHå¯†ç </title>
      <link href="/2020/01/28/non-interactive-ssh-password-modification.html"/>
      <url>/2020/01/28/non-interactive-ssh-password-modification.html</url>
      
        <content type="html"><![CDATA[<p>æ–¹å¼1ï¼š</p><pre><code>echo &quot;password&quot; | passwd testuser --stdin &gt; /dev/null 2&gt;&amp;1</code></pre><p>æ–¹å¼2ï¼š</p><pre><code>echo testuser:password|chpasswd</code></pre><p><strong>åœ¨shellè„šæœ¬å’ŒDockerfileä¸­è¯·ä½¿ç”¨æ–¹å¼2</strong></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘NasåŠ å¯†å’ŒéåŠ å¯†åŒºåˆ«ä»¥åŠå®æœºè¯„æµ‹</title>
      <link href="/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation.html"/>
      <url>/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation.html</url>
      
        <content type="html"><![CDATA[<p><em>ä»€ä¹ˆæ˜¯æ–‡ä»¶å­˜å‚¨NAS</em></p><p>é˜¿é‡Œäº‘æ–‡ä»¶å­˜å‚¨ï¼ˆNetwork Attached Storageï¼Œç®€ç§° NASï¼‰æ˜¯é¢å‘é˜¿é‡Œäº‘ ECS å®ä¾‹ã€E-HPC å’Œå®¹å™¨æœåŠ¡ç­‰è®¡ç®—èŠ‚ç‚¹çš„æ–‡ä»¶å­˜å‚¨æœåŠ¡ã€‚</p><p>å®šä¹‰</p><p>é˜¿é‡Œäº‘æ–‡ä»¶å­˜å‚¨ NAS æ˜¯ä¸€ä¸ªå¯å…±äº«è®¿é—®ã€å¼¹æ€§æ‰©å±•ã€é«˜å¯é ä»¥åŠé«˜æ€§èƒ½çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚å®ƒåŸºäº POSIX æ–‡ä»¶æ¥å£ï¼Œå¤©ç„¶é€‚é…åŸç”Ÿæ“ä½œç³»ç»Ÿï¼Œæä¾›å…±äº«è®¿é—®ï¼ŒåŒæ—¶ä¿è¯æ•°æ®ä¸€è‡´æ€§å’Œé”äº’æ–¥ã€‚</p><p>NAS æä¾›äº†ç®€å•çš„å¯æ‰©å±•æ–‡ä»¶å­˜å‚¨ä»¥ä¾›ä¸ ECS é…åˆä½¿ç”¨ï¼Œå¤šä¸ªECSå®ä¾‹å¯ä»¥åŒæ—¶è®¿é—® NAS æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶ä¸”å­˜å‚¨å®¹é‡ä¼šéšç€æ‚¨æ·»åŠ å’Œåˆ é™¤æ–‡ä»¶è€Œè‡ªåŠ¨å¼¹æ€§å¢é•¿å’Œæ”¶ç¼©ï¼Œä¸ºåœ¨å¤šä¸ªå®ä¾‹æˆ–æœåŠ¡å™¨ä¸Šè¿è¡Œçš„å·¥ä½œè´Ÿè½½å’Œåº”ç”¨ç¨‹åºæä¾›é€šç”¨æ•°æ®æºã€‚</p><p>NAS æ”¯æŒä¸°å¯Œçš„åº”ç”¨åœºæ™¯ï¼Œè¯¦æƒ…è¯·å‚è§åº”ç”¨åœºæ™¯ã€‚</p><p>NAS æä¾›äº†å®¹é‡å‹ã€æ€§èƒ½å‹ä»¥åŠæé€Ÿå‹å­˜å‚¨ç±»å‹ï¼Œæ›´å¤šè¯¦æƒ…è¯·å‚è§å­˜å‚¨ç±»å‹ã€‚</p><p>äº§å“ä¼˜åŠ¿</p><p>NAS åœ¨æˆæœ¬ã€å®‰å…¨ã€ç®€å•ã€å¯é æ€§ä»¥åŠæ€§èƒ½ä¸Šéƒ½å…·æœ‰è‡ªèº«çš„ä¼˜åŠ¿ã€‚</p><p>æˆæœ¬</p><p>ä¸€ä¸ª NAS æ–‡ä»¶ç³»ç»Ÿå¯ä»¥åŒæ—¶æŒ‚è½½åˆ°å¤šä¸ªè®¡ç®—èŠ‚ç‚¹ä¸Šï¼Œç”±è¿™äº›èŠ‚ç‚¹å…±äº«è®¿é—®ï¼Œä»è€ŒèŠ‚çº¦å¤§é‡æ‹·è´ä¸åŒæ­¥æˆæœ¬ã€‚</p><p>å•ä¸ª NAS æ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½èƒ½å¤Ÿéšå­˜å‚¨å®¹é‡çº¿æ€§æ‰©å±•ï¼Œä½¿ç”¨æˆ·æ— éœ€è´­ä¹°é«˜ç«¯çš„æ–‡ä»¶å­˜å‚¨è®¾å¤‡ï¼Œå¤§å¹…é™ä½ç¡¬ä»¶æˆæœ¬ã€‚</p><p>ä½¿ç”¨ NASæ–‡ä»¶å­˜å‚¨ï¼Œæ‚¨åªéœ€ä¸ºæ–‡ä»¶ç³»ç»Ÿä½¿ç”¨çš„å­˜å‚¨ç©ºé—´ä»˜è´¹ï¼Œä¸éœ€è¦æå‰é…ç½®å­˜å‚¨ï¼Œå¹¶ä¸”ä¸å­˜åœ¨æœ€ä½è´¹ç”¨æˆ–è®¾ç½®è´¹ç”¨ã€‚æ›´å¤šè¯¦æƒ…ï¼Œè¯·å‚è§è®¡é‡é¡¹å’Œè®¡è´¹è¯´æ˜ã€‚</p><p>NAS çš„é«˜å¯é æ€§èƒ½å¤Ÿé™ä½æ•°æ®å®‰å…¨é£é™©ï¼Œä»è€Œå¤§å¹…èŠ‚çº¦ç»´æŠ¤æˆæœ¬ã€‚</p><p>ç®€å•</p><p>ä¸€é”®åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼Œæ— éœ€éƒ¨ç½²ç»´æŠ¤æ–‡ä»¶ç³»ç»Ÿã€‚</p><p>å®‰å…¨</p><p>åŸºäº RAM å®ç°çš„èµ„æºè®¿é—®æ§åˆ¶ï¼ŒåŸºäºVPCå®ç°çš„ç½‘ç»œè®¿é—®éš”ç¦»ï¼Œç»“åˆæ–‡ä»¶å­˜å‚¨ NAS çš„ä¼ è¾“åŠ å¯†ä¸å­˜å‚¨åŠ å¯†ç‰¹æ€§ï¼Œä¿éšœæ•°æ®ä¸è¢«çªƒå–æˆ–ç¯¡æ”¹ã€‚</p><p>é«˜å¯é æ€§</p><p>NAS æä¾› 99.999999999% çš„æ•°æ®å¯é æ€§ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé™ä½æ•°æ®å®‰å…¨é£é™©ã€‚</p><p>é«˜æ€§èƒ½</p><p>åŸºäºåˆ†å¸ƒå¼æ¶æ„æ–‡ä»¶ç³»ç»Ÿï¼Œéšç€å®¹é‡çš„å¢é•¿æ€§èƒ½çº¿æ€§æ‰©å±•ï¼Œæä¾›è¿œé«˜äºä¼ ç»Ÿå­˜å‚¨çš„æ€§èƒ½ã€‚</p><p>å…¼å®¹æ€§</p><p>NAS æ–‡ä»¶å­˜å‚¨æä¾›è‰¯å¥½çš„åè®®å…¼å®¹æ€§ï¼Œæ”¯æŒ NFS å’Œ SMB åè®®æ–¹æ¡ˆï¼Œå…¼å®¹POSIX æ–‡ä»¶ç³»ç»Ÿè®¿é—®è¯­ä¹‰ï¼Œæä¾›å¼ºå¤§çš„æ•°æ®ä¸€è‡´æ€§å’Œæ–‡ä»¶é”å®šã€‚</p><p>åœ¨ NAS ä¸­ï¼Œä»»ä½•æ–‡ä»¶ä¿®æ”¹æˆåŠŸåï¼Œç”¨æˆ·éƒ½èƒ½å¤Ÿç«‹åˆ»çœ‹åˆ°ä¿®æ”¹ç»“æœï¼Œä¾¿äºç”¨æˆ·å®æ—¶ä¿®æ”¹å­˜å‚¨å†…å®¹ã€‚</p><img src= "/img/loading.gif" data-src="/2020/01/28/alibaba-cloud-nas-encryption-and-non-encryption-differences-and-real-machine-evaluation/Aliyun_Nas.png" width="100%" alt="Aliyun_Nas"><p><strong>test1ä¸ºåŠ å¯†ï¼Œtest2ä¸ºéåŠ å¯†</strong></p><p>test1 éšæœºè¯»IOPSè®¾ç½®</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randread -bs&#x3D;4K -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test1</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randread, bs&#x3D;(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Fio: Laying out IO file (1 file &#x2F; 1024MiB)</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [r(1)][100.0%][r&#x3D;97.8MiB&#x2F;s][r&#x3D;25.0k IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1482: Mon Jan 27 23:33:22 2020</span><br><span class="line"></span><br><span class="line">  read: IOPS&#x3D;24.1k, BW&#x3D;94.3MiB&#x2F;s (98.9MB&#x2F;s)(5659MiB&#x2F;60006msec)</span><br><span class="line"></span><br><span class="line">    slat (nsec): min&#x3D;1871, max&#x3D;4225.7k, avg&#x3D;8454.96, stdev&#x3D;17814.51</span><br><span class="line"></span><br><span class="line">    clat (usec): min&#x3D;1150, max&#x3D;66695, avg&#x3D;5291.30, stdev&#x3D;1830.86</span><br><span class="line"></span><br><span class="line">     lat (usec): min&#x3D;1157, max&#x3D;66711, avg&#x3D;5299.96, stdev&#x3D;1830.83</span><br><span class="line"></span><br><span class="line">    clat percentiles (usec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[ 2409],  5.00th&#x3D;[ 2933], 10.00th&#x3D;[ 3294], 20.00th&#x3D;[ 3785],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 4228], 40.00th&#x3D;[ 4621], 50.00th&#x3D;[ 5080], 60.00th&#x3D;[ 5473],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 5997], 80.00th&#x3D;[ 6587], 90.00th&#x3D;[ 7504], 95.00th&#x3D;[ 8455],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[10683], 99.50th&#x3D;[11994], 99.90th&#x3D;[17171], 99.95th&#x3D;[19268],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[35914]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D;87160, max&#x3D;104926, per&#x3D;99.98%, avg&#x3D;96554.23, stdev&#x3D;3373.87, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;21790, max&#x3D;26231, avg&#x3D;24138.51, stdev&#x3D;843.44, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 2&#x3D;0.13%, 4&#x3D;24.57%, 10&#x3D;73.71%, 20&#x3D;1.56%, 50&#x3D;0.03%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 100&#x3D;0.01%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;5.74%, sys&#x3D;15.74%, ctx&#x3D;800135, majf&#x3D;0, minf&#x3D;137</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.1%, 32&#x3D;0.1%, &gt;&#x3D;64&#x3D;100.0%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;1448757,0,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">   READ: bw&#x3D;94.3MiB&#x2F;s (98.9MB&#x2F;s), 94.3MiB&#x2F;s-94.3MiB&#x2F;s (98.9MB&#x2F;s-98.9MB&#x2F;s), io&#x3D;5659MiB (5934MB), run&#x3D;60006-60006msec</span><br></pre></td></tr></table></figure><p>test2ä¸ éšæœºè¯»IOPSè®¾ç½®</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randread -bs&#x3D;4K -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test2</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randread, bs&#x3D;(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Fio: Laying out IO file (1 file &#x2F; 1024MiB)</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [r(1)][100.0%][r&#x3D;104MiB&#x2F;s][r&#x3D;26.5k IOPS][eta 00m:00s] </span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1494: Mon Jan 27 23:35:30 2020</span><br><span class="line"></span><br><span class="line">  read: IOPS&#x3D;25.7k, BW&#x3D;100MiB&#x2F;s (105MB&#x2F;s)(6023MiB&#x2F;60005msec)</span><br><span class="line"></span><br><span class="line">    slat (nsec): min&#x3D;1848, max&#x3D;1328.1k, avg&#x3D;8603.01, stdev&#x3D;21240.04</span><br><span class="line"></span><br><span class="line">    clat (usec): min&#x3D;1126, max&#x3D;152365, avg&#x3D;4971.28, stdev&#x3D;2067.07</span><br><span class="line"></span><br><span class="line">     lat (usec): min&#x3D;1132, max&#x3D;152368, avg&#x3D;4980.10, stdev&#x3D;2067.06</span><br><span class="line"></span><br><span class="line">    clat percentiles (usec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[ 2245],  5.00th&#x3D;[ 2671], 10.00th&#x3D;[ 2999], 20.00th&#x3D;[ 3458],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 3884], 40.00th&#x3D;[ 4293], 50.00th&#x3D;[ 4752], 60.00th&#x3D;[ 5145],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 5669], 80.00th&#x3D;[ 6259], 90.00th&#x3D;[ 7111], 95.00th&#x3D;[ 7963],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[10290], 99.50th&#x3D;[11731], 99.90th&#x3D;[17957], 99.95th&#x3D;[22676],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[40633]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D;86856, max&#x3D;111976, per&#x3D;99.98%, avg&#x3D;102751.36, stdev&#x3D;3685.76, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;21714, max&#x3D;27994, avg&#x3D;25687.74, stdev&#x3D;921.31, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 2&#x3D;0.28%, 4&#x3D;32.38%, 10&#x3D;66.15%, 20&#x3D;1.11%, 50&#x3D;0.06%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 100&#x3D;0.01%, 250&#x3D;0.01%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;5.96%, sys&#x3D;15.47%, ctx&#x3D;789134, majf&#x3D;0, minf&#x3D;138</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.1%, 32&#x3D;0.1%, &gt;&#x3D;64&#x3D;100.0%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;1541761,0,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">   READ: bw&#x3D;100MiB&#x2F;s (105MB&#x2F;s), 100MiB&#x2F;s-100MiB&#x2F;s (105MB&#x2F;s-105MB&#x2F;s), io&#x3D;6023MiB (6315MB), run&#x3D;60005-60005msec</span><br></pre></td></tr></table></figure><p>test1éšæœºå†™IOPSè®¾ç½®</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randwrite -bs&#x3D;4K -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test1</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randwrite, bs&#x3D;(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [w(1)][100.0%][w&#x3D;75.7MiB&#x2F;s][w&#x3D;19.4k IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1498: Mon Jan 27 23:37:40 2020</span><br><span class="line"></span><br><span class="line">  write: IOPS&#x3D;18.2k, BW&#x3D;71.2MiB&#x2F;s (74.7MB&#x2F;s)(4282MiB&#x2F;60113msec); 0 zone resets</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;2, max&#x3D;616, avg&#x3D; 7.55, stdev&#x3D; 6.92</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;2, max&#x3D;232, avg&#x3D; 7.01, stdev&#x3D; 7.15</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;2, max&#x3D;232, avg&#x3D; 7.02, stdev&#x3D; 7.15</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[    4],  5.00th&#x3D;[    4], 10.00th&#x3D;[    5], 20.00th&#x3D;[    5],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[    5], 40.00th&#x3D;[    6], 50.00th&#x3D;[    6], 60.00th&#x3D;[    7],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[    7], 80.00th&#x3D;[    8], 90.00th&#x3D;[   10], 95.00th&#x3D;[   12],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[   36], 99.50th&#x3D;[   47], 99.90th&#x3D;[  116], 99.95th&#x3D;[  140],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[  197]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D;48336, max&#x3D;85600, per&#x3D;100.00%, avg&#x3D;73062.90, stdev&#x3D;7091.42, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;12084, max&#x3D;21400, avg&#x3D;18265.67, stdev&#x3D;1772.83, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 4&#x3D;9.40%, 10&#x3D;82.41%, 20&#x3D;6.18%, 50&#x3D;1.56%, 100&#x3D;0.30%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 250&#x3D;0.14%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;5.55%, sys&#x3D;14.95%, ctx&#x3D;735321, majf&#x3D;0, minf&#x3D;10</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.1%, 32&#x3D;0.1%, &gt;&#x3D;64&#x3D;100.0%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;0,1096310,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">  WRITE: bw&#x3D;71.2MiB&#x2F;s (74.7MB&#x2F;s), 71.2MiB&#x2F;s-71.2MiB&#x2F;s (74.7MB&#x2F;s-74.7MB&#x2F;s), io&#x3D;4282MiB (4490MB), run&#x3D;60113-60113msec</span><br></pre></td></tr></table></figure><p>test2éšæœºå†™IOPSè®¾ç½®</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randwrite -bs&#x3D;4K -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test2</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randwrite, bs&#x3D;(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [w(1)][100.0%][w&#x3D;79.6MiB&#x2F;s][w&#x3D;20.4k IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1503: Mon Jan 27 23:39:14 2020</span><br><span class="line"></span><br><span class="line">  write: IOPS&#x3D;19.1k, BW&#x3D;74.5MiB&#x2F;s (78.1MB&#x2F;s)(4468MiB&#x2F;60007msec); 0 zone resets</span><br><span class="line"></span><br><span class="line">    slat (nsec): min&#x3D;1997, max&#x3D;791752, avg&#x3D;7377.43, stdev&#x3D;6986.23</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;2, max&#x3D;281, avg&#x3D; 6.71, stdev&#x3D; 7.43</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;2, max&#x3D;281, avg&#x3D; 6.71, stdev&#x3D; 7.43</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[    4],  5.00th&#x3D;[    4], 10.00th&#x3D;[    4], 20.00th&#x3D;[    5],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[    5], 40.00th&#x3D;[    6], 50.00th&#x3D;[    6], 60.00th&#x3D;[    6],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[    7], 80.00th&#x3D;[    8], 90.00th&#x3D;[    9], 95.00th&#x3D;[   11],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[   36], 99.50th&#x3D;[   47], 99.90th&#x3D;[  121], 99.95th&#x3D;[  157],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[  220]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D;46232, max&#x3D;89360, per&#x3D;99.99%, avg&#x3D;76228.64, stdev&#x3D;7455.48, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;11558, max&#x3D;22340, avg&#x3D;19057.13, stdev&#x3D;1863.88, samples&#x3D;120</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 4&#x3D;11.69%, 10&#x3D;81.90%, 20&#x3D;4.37%, 50&#x3D;1.60%, 100&#x3D;0.31%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 250&#x3D;0.13%, 500&#x3D;0.01%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;6.16%, sys&#x3D;14.79%, ctx&#x3D;714669, majf&#x3D;0, minf&#x3D;10</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.1%, 32&#x3D;0.1%, &gt;&#x3D;64&#x3D;100.0%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;0,1143725,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">  WRITE: bw&#x3D;74.5MiB&#x2F;s (78.1MB&#x2F;s), 74.5MiB&#x2F;s-74.5MiB&#x2F;s (78.1MB&#x2F;s-78.1MB&#x2F;s), io&#x3D;4468MiB (4685MB), run&#x3D;60007-60007msec</span><br></pre></td></tr></table></figure><p>test1éšæœºè¯»åå</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randread -bs&#x3D;1M -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test1</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randread, bs&#x3D;(R) 1024KiB-1024KiB, (W) 1024KiB-1024KiB, (T) 1024KiB-1024KiB, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [r(1)][100.0%][r&#x3D;1024KiB&#x2F;s][r&#x3D;1 IOPS][eta 00m:00s] </span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1511: Mon Jan 27 23:41:49 2020</span><br><span class="line"></span><br><span class="line">  read: IOPS&#x3D;119, BW&#x3D;119MiB&#x2F;s (125MB&#x2F;s)(7292MiB&#x2F;61170msec)</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;54, max&#x3D;3004, avg&#x3D;163.83, stdev&#x3D;196.42</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;10, max&#x3D;2494, avg&#x3D;1072.78, stdev&#x3D;189.89</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;10, max&#x3D;2495, avg&#x3D;1072.94, stdev&#x3D;189.86</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[  241],  5.00th&#x3D;[  902], 10.00th&#x3D;[  961], 20.00th&#x3D;[ 1028],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 1053], 40.00th&#x3D;[ 1070], 50.00th&#x3D;[ 1083], 60.00th&#x3D;[ 1099],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 1116], 80.00th&#x3D;[ 1133], 90.00th&#x3D;[ 1200], 95.00th&#x3D;[ 1250],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[ 1754], 99.50th&#x3D;[ 2005], 99.90th&#x3D;[ 2198], 99.95th&#x3D;[ 2265],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[ 2500]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D; 2048, max&#x3D;247808, per&#x3D;99.33%, avg&#x3D;121252.40, stdev&#x3D;27860.84, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;    2, max&#x3D;  242, avg&#x3D;118.36, stdev&#x3D;27.22, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 20&#x3D;0.16%, 50&#x3D;0.08%, 100&#x3D;0.29%, 250&#x3D;0.48%, 500&#x3D;1.54%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 750&#x3D;0.37%, 1000&#x3D;12.53%, 2000&#x3D;84.01%, &gt;&#x3D;2000&#x3D;0.53%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;0.08%, sys&#x3D;1.19%, ctx&#x3D;16345, majf&#x3D;0, minf&#x3D;32778</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.2%, 32&#x3D;0.4%, &gt;&#x3D;64&#x3D;99.1%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;7292,0,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">   READ: bw&#x3D;119MiB&#x2F;s (125MB&#x2F;s), 119MiB&#x2F;s-119MiB&#x2F;s (125MB&#x2F;s-125MB&#x2F;s), io&#x3D;7292MiB (7646MB), run&#x3D;61170-61170msec</span><br></pre></td></tr></table></figure><p>test2éšæœºè¯»åå</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randread -bs&#x3D;1M -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test2</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randread, bs&#x3D;(R) 1024KiB-1024KiB, (W) 1024KiB-1024KiB, (T) 1024KiB-1024KiB, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [r(1)][100.0%][r&#x3D;11.0MiB&#x2F;s][r&#x3D;11 IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1514: Mon Jan 27 23:43:58 2020</span><br><span class="line"></span><br><span class="line">  read: IOPS&#x3D;119, BW&#x3D;119MiB&#x2F;s (125MB&#x2F;s)(7304MiB&#x2F;61174msec)</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;52, max&#x3D;5598, avg&#x3D;183.95, stdev&#x3D;270.59</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;146, max&#x3D;2256, avg&#x3D;1071.05, stdev&#x3D;171.09</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;146, max&#x3D;2257, avg&#x3D;1071.23, stdev&#x3D;171.04</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[  317],  5.00th&#x3D;[  902], 10.00th&#x3D;[  961], 20.00th&#x3D;[ 1020],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 1053], 40.00th&#x3D;[ 1070], 50.00th&#x3D;[ 1083], 60.00th&#x3D;[ 1099],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 1116], 80.00th&#x3D;[ 1133], 90.00th&#x3D;[ 1200], 95.00th&#x3D;[ 1234],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[ 1636], 99.50th&#x3D;[ 1989], 99.90th&#x3D;[ 2140], 99.95th&#x3D;[ 2265],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[ 2265]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D; 2048, max&#x3D;288768, per&#x3D;99.35%, avg&#x3D;121466.95, stdev&#x3D;25110.94, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;    2, max&#x3D;  282, avg&#x3D;118.60, stdev&#x3D;24.52, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 250&#x3D;0.21%, 500&#x3D;2.01%, 750&#x3D;0.77%, 1000&#x3D;13.81%, 2000&#x3D;82.79%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : &gt;&#x3D;2000&#x3D;0.41%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;0.09%, sys&#x3D;1.19%, ctx&#x3D;16454, majf&#x3D;0, minf&#x3D;32778</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.2%, 32&#x3D;0.4%, &gt;&#x3D;64&#x3D;99.1%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;7304,0,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">   READ: bw&#x3D;119MiB&#x2F;s (125MB&#x2F;s), 119MiB&#x2F;s-119MiB&#x2F;s (125MB&#x2F;s-125MB&#x2F;s), io&#x3D;7304MiB (7659MB), run&#x3D;61174-61174msec</span><br></pre></td></tr></table></figure><p>test1éšæœºå†™åå</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randwrite -bs&#x3D;1M -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test1</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randwrite, bs&#x3D;(R) 1024KiB-1024KiB, (W) 1024KiB-1024KiB, (T) 1024KiB-1024KiB, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [w(1)][100.0%][w&#x3D;28.0MiB&#x2F;s][w&#x3D;28 IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1522: Mon Jan 27 23:48:33 2020</span><br><span class="line"></span><br><span class="line">  write: IOPS&#x3D;127, BW&#x3D;127MiB&#x2F;s (134MB&#x2F;s)(7771MiB&#x2F;61014msec); 0 zone resets</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;104, max&#x3D;941, avg&#x3D;172.70, stdev&#x3D;37.40</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;55, max&#x3D;2021, avg&#x3D;1004.46, stdev&#x3D;156.46</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;55, max&#x3D;2021, avg&#x3D;1004.64, stdev&#x3D;156.46</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[  150],  5.00th&#x3D;[  986], 10.00th&#x3D;[ 1011], 20.00th&#x3D;[ 1020],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 1020], 40.00th&#x3D;[ 1020], 50.00th&#x3D;[ 1020], 60.00th&#x3D;[ 1020],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 1020], 80.00th&#x3D;[ 1028], 90.00th&#x3D;[ 1028], 95.00th&#x3D;[ 1045],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[ 1401], 99.50th&#x3D;[ 1720], 99.90th&#x3D;[ 1972], 99.95th&#x3D;[ 2005],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[ 2022]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D; 2048, max&#x3D;370688, per&#x3D;99.19%, avg&#x3D;129364.72, stdev&#x3D;25090.44, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;    2, max&#x3D;  362, avg&#x3D;126.29, stdev&#x3D;24.51, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 100&#x3D;0.23%, 250&#x3D;1.90%, 500&#x3D;0.48%, 750&#x3D;0.50%, 1000&#x3D;3.53%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 2000&#x3D;93.31%, &gt;&#x3D;2000&#x3D;0.05%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;1.07%, sys&#x3D;1.22%, ctx&#x3D;8135, majf&#x3D;0, minf&#x3D;9</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.2%, 32&#x3D;0.4%, &gt;&#x3D;64&#x3D;99.2%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;0,7771,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">  WRITE: bw&#x3D;127MiB&#x2F;s (134MB&#x2F;s), 127MiB&#x2F;s-127MiB&#x2F;s (134MB&#x2F;s-134MB&#x2F;s), io&#x3D;7771MiB (8148MB), run&#x3D;61014-61014msec</span><br></pre></td></tr></table></figure><p>test2éšæœºå†™åå</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[root@super &#x2F;]# fio -numjobs&#x3D;1 -iodepth&#x3D;128 -direct&#x3D;1 -ioengine&#x3D;libaio -sync&#x3D;1 -rw&#x3D;randwrite -bs&#x3D;1M -size&#x3D;1G -time_based -runtime&#x3D;60 -name&#x3D;Fio -directory&#x3D;&#x2F;test2</span><br><span class="line"></span><br><span class="line">Fio: (g&#x3D;0): rw&#x3D;randwrite, bs&#x3D;(R) 1024KiB-1024KiB, (W) 1024KiB-1024KiB, (T) 1024KiB-1024KiB, ioengine&#x3D;libaio, iodepth&#x3D;128</span><br><span class="line"></span><br><span class="line">fio-3.17</span><br><span class="line"></span><br><span class="line">Starting 1 process</span><br><span class="line"></span><br><span class="line">Jobs: 1 (f&#x3D;1): [w(1)][100.0%][w&#x3D;28.0MiB&#x2F;s][w&#x3D;28 IOPS][eta 00m:00s]</span><br><span class="line"></span><br><span class="line">Fio: (groupid&#x3D;0, jobs&#x3D;1): err&#x3D; 0: pid&#x3D;1533: Mon Jan 27 23:51:47 2020</span><br><span class="line"></span><br><span class="line">  write: IOPS&#x3D;127, BW&#x3D;127MiB&#x2F;s (134MB&#x2F;s)(7772MiB&#x2F;61020msec); 0 zone resets</span><br><span class="line"></span><br><span class="line">    slat (usec): min&#x3D;101, max&#x3D;1754, avg&#x3D;173.58, stdev&#x3D;42.61</span><br><span class="line"></span><br><span class="line">    clat (msec): min&#x3D;52, max&#x3D;2019, avg&#x3D;1004.43, stdev&#x3D;161.16</span><br><span class="line"></span><br><span class="line">     lat (msec): min&#x3D;52, max&#x3D;2019, avg&#x3D;1004.60, stdev&#x3D;161.16</span><br><span class="line"></span><br><span class="line">    clat percentiles (msec):</span><br><span class="line"></span><br><span class="line">     |  1.00th&#x3D;[  133],  5.00th&#x3D;[  894], 10.00th&#x3D;[ 1003], 20.00th&#x3D;[ 1011],</span><br><span class="line"></span><br><span class="line">     | 30.00th&#x3D;[ 1020], 40.00th&#x3D;[ 1020], 50.00th&#x3D;[ 1020], 60.00th&#x3D;[ 1020],</span><br><span class="line"></span><br><span class="line">     | 70.00th&#x3D;[ 1020], 80.00th&#x3D;[ 1028], 90.00th&#x3D;[ 1028], 95.00th&#x3D;[ 1070],</span><br><span class="line"></span><br><span class="line">     | 99.00th&#x3D;[ 1401], 99.50th&#x3D;[ 1720], 99.90th&#x3D;[ 1972], 99.95th&#x3D;[ 2005],</span><br><span class="line"></span><br><span class="line">     | 99.99th&#x3D;[ 2022]</span><br><span class="line"></span><br><span class="line">   bw (  KiB&#x2F;s): min&#x3D; 2048, max&#x3D;371992, per&#x3D;99.20%, avg&#x3D;129375.29, stdev&#x3D;26928.24, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">   iops        : min&#x3D;    2, max&#x3D;  363, avg&#x3D;126.30, stdev&#x3D;26.28, samples&#x3D;121</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 100&#x3D;0.39%, 250&#x3D;1.71%, 500&#x3D;0.49%, 750&#x3D;0.46%, 1000&#x3D;5.96%</span><br><span class="line"></span><br><span class="line">  lat (msec)   : 2000&#x3D;90.97%, &gt;&#x3D;2000&#x3D;0.03%</span><br><span class="line"></span><br><span class="line">  cpu          : usr&#x3D;1.31%, sys&#x3D;0.98%, ctx&#x3D;8027, majf&#x3D;0, minf&#x3D;10</span><br><span class="line"></span><br><span class="line">  IO depths    : 1&#x3D;0.1%, 2&#x3D;0.1%, 4&#x3D;0.1%, 8&#x3D;0.1%, 16&#x3D;0.2%, 32&#x3D;0.4%, &gt;&#x3D;64&#x3D;99.2%</span><br><span class="line"></span><br><span class="line">     submit    : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.0%</span><br><span class="line"></span><br><span class="line">     complete  : 0&#x3D;0.0%, 4&#x3D;100.0%, 8&#x3D;0.0%, 16&#x3D;0.0%, 32&#x3D;0.0%, 64&#x3D;0.0%, &gt;&#x3D;64&#x3D;0.1%</span><br><span class="line"></span><br><span class="line">     issued rwts: total&#x3D;0,7772,0,0 short&#x3D;0,0,0,0 dropped&#x3D;0,0,0,0</span><br><span class="line"></span><br><span class="line">     latency   : target&#x3D;0, window&#x3D;0, percentile&#x3D;100.00%, depth&#x3D;128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Run status group 0 (all jobs):</span><br><span class="line"></span><br><span class="line">  WRITE: bw&#x3D;127MiB&#x2F;s (134MB&#x2F;s), 127MiB&#x2F;s-127MiB&#x2F;s (134MB&#x2F;s-134MB&#x2F;s), io&#x3D;7772MiB (8150MB), run&#x3D;61020-61020msec</span><br></pre></td></tr></table></figure><hr><p>å¯ä»¥çœ‹å‡ºè¿˜æ˜¯éåŠ å¯†å¥½ä¸€ç‚¹ğŸ˜ğŸ˜ğŸ˜</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> æµ‹è¯„ </category>
          
          <category> é˜¿é‡Œäº‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜¿é‡Œäº‘ </tag>
            
            <tag> Nas </tag>
            
            <tag> åŠ å¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºMariadbå’ŒMysqlé«˜ç‰ˆæœ¬çš„æœ¬åœ°ç™»å½•æ— éœ€å¯†ç é—®é¢˜åŠè¯´æ˜</title>
      <link href="/2020/01/08/no-password-problem-and-instructions-for-local-login-of-mariadb-and-mysql.html"/>
      <url>/2020/01/08/no-password-problem-and-instructions-for-local-login-of-mariadb-and-mysql.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; show grants for &#39;root&#39;@&#39;localhost&#39;;</span><br></pre></td></tr></table></figure><p>è¾“å…¥å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;localhost&#39; IDENTIFIED VIA mysql_native_password USING &#39;*é‚£ä¸€å¨ä¸œè¥¿&#39; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MariaDB </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŸ¥è¯¢æ­£åœ¨ä½¿ç”¨çš„ç«¯å£</title>
      <link href="/2020/01/01/query-ports-in-use.html"/>
      <url>/2020/01/01/query-ports-in-use.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">netstat -tunlp | grep ç«¯å£å·</span><br></pre></td></tr></table></figure><p>-t (tcp) ä»…æ˜¾ç¤ºtcpç›¸å…³é€‰é¡¹</p><p>-u (udp)ä»…æ˜¾ç¤ºudpç›¸å…³é€‰é¡¹</p><p>-n æ‹’ç»æ˜¾ç¤ºåˆ«åï¼Œèƒ½æ˜¾ç¤ºæ•°å­—çš„å…¨éƒ¨è½¬åŒ–ä¸ºæ•°å­—</p><p>-l ä»…åˆ—å‡ºåœ¨Listen(ç›‘å¬)çš„æœåŠ¡çŠ¶æ€</p><p>-p æ˜¾ç¤ºå»ºç«‹ç›¸å…³é“¾æ¥çš„ç¨‹åºå</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç«¯å£ </tag>
            
            <tag> æŸ¥è¯¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€é”®ä¼ é™„ä»¶è„šæœ¬</title>
      <link href="/2019/12/30/one-click-attachment-script.html"/>
      <url>/2019/12/30/one-click-attachment-script.html</url>
      
        <content type="html"><![CDATA[<p>é¢ï¼Œå­¦æ ¡æäº†ä¸ªä¸€ä½“æœºï¼Œå—¯ï¼Œæ‰€ä»¥ã€‚ã€‚ã€‚</p><p>æ‡’ è§æˆ‘çš„Githubï¼š<a href="https://github.com/arkylin/Mail-Files-Tools" target="_blank" rel="noopener">https://github.com/arkylin/Mail-Files-Tools</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> è„šæœ¬ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæœ¬ </tag>
            
            <tag> é™„ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Newest_lampé¡¹ç›®</title>
      <link href="/2019/12/26/new-est-lamp-project.html"/>
      <url>/2019/12/26/new-est-lamp-project.html</url>
      
        <content type="html"><![CDATA[<h1 id="Newest-lamp"><a href="#Newest-lamp" class="headerlink" title="Newest_lamp"></a>Newest_lamp</h1><img src= "/img/loading.gif" data-src="/2019/12/26/new-est-lamp-project/Newest_lamp.png" width="100%" alt="Newest_lamp"><p>æˆ‘çš„Githubï¼š<a href="https://github.com/arkylin/Newest_lamp" target="_blank" rel="noopener">https://github.com/arkylin/Newest_lamp</a></p><p>æˆ‘çš„Docker Hubï¼š<a href="https://hub.docker.com/r/arkylin/newest_lamp" target="_blank" rel="noopener">https://hub.docker.com/r/arkylin/newest_lamp</a></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">docker pull arkylin&#x2F;newest_lamp:v0.1.6</span><br></pre></td></tr></table></figure><p>æ­¤é¡¹ç›®æ—¨åœ¨åˆ›å»ºä¸€ä¸ªé€šç”¨çš„lampå®‰è£…è„šæœ¬ï¼Œæ¥ä½¿é‚£äº›â€œç‰¹åˆ«æƒ³ç”¨æ–°ç‰ˆæœ¬ï¼Œä½†åˆä¸ä¼šè‡ªå·±ç¼–è¯‘å®‰è£…æˆ–è€…ä¸æƒ³è‡ªå·±èŠ±æ—¶é—´å»å¼„â€çš„äººå¾—åˆ°æ–¹ä¾¿<br></p><p>åç»­å¯èƒ½ä¹Ÿå¯èƒ½ä¼šæ¨å‡ºä¸€äº›å…¶ä»–ç¯å¢ƒæ¥å¼„æˆ–è€…ä¸€äº›æœ‰æ„æ€çš„è½¯ä»¶<br></p><p>å®‰è£…è„šæœ¬<br></p><p>ä¸€ã€æ·»åŠ ç›®å½•<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">mkdir -p &#x2F;data&#x2F;&#123;ssl,vhost&#x2F;apache,mysql,wwwroot,wwwroot&#x2F;default,wwwlogs&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">mkdir -p &#x2F;data&#x2F;&#123;ssl,vhost&#x2F;apache,wwwroot,wwwroot&#x2F;default,wwwlogs&#125;</span><br></pre></td></tr></table></figure><p>äºŒã€è¿è¡Œ<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">docker run -itd --name super --hostname super.xyz.blue --net host --restart always --privileged -v &#x2F;data:&#x2F;data -v &#x2F;data&#x2F;mysql:&#x2F;var&#x2F;lib&#x2F;mysql arkylin&#x2F;newest_lamp:latest &#x2F;usr&#x2F;sbin&#x2F;init</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">docker run -itd --name super --hostname super.xyz.blue --net host --restart always --privileged -v &#x2F;data:&#x2F;data arkylin&#x2F;newest_lamp:latest &#x2F;usr&#x2F;sbin&#x2F;init</span><br></pre></td></tr></table></figure><p>ä¸‰ã€åˆå§‹åŒ–Mysql</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">mysql_secure_installation</span><br></pre></td></tr></table></figure><p>æ³¨ï¼š-V å†’å·â€:â€å‰é¢çš„ç›®å½•æ˜¯å®¿ä¸»æœºç›®å½•ï¼Œåé¢çš„ç›®å½•æ˜¯å®¹å™¨å†…ç›®å½•ã€‚<br></p><p>Apacheé…ç½®å‘½ä»¤<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">cp -f &#x2F;app&#x2F;apache&#x2F;conf&#x2F;vhost&#x2F;0.conf &#x2F;data&#x2F;vhost&#x2F;apache</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">mkdir &#x2F;data&#x2F;vhost&#x2F;apache</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">domain&#x3D;super.xyz.blue</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Apache_fcgi&#x3D;$(echo -e &quot;&lt;Files ~ (\\.user.ini|\\.htaccess|\\.git|\\.svn|\\.project|LICENSE|README.md)\$&gt;\n    Order allow,deny\n    Deny from all\n  &lt;&#x2F;Files&gt;\n  &lt;FilesMatch \\.php\$&gt;\n    SetHandler \&quot;proxy:unix:&#x2F;dev&#x2F;shm&#x2F;php-cgi.sock|fcgi:&#x2F;&#x2F;localhost\&quot;\n  &lt;&#x2F;FilesMatch&gt;&quot;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Apache_log&#x3D;&quot;CustomLog \&quot;&#x2F;data&#x2F;wwwlogs&#x2F;$&#123;domain&#125;_apache.log\&quot; common&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">cat &gt; &#x2F;data&#x2F;vhost&#x2F;apache&#x2F;$&#123;domain&#125;.conf &lt;&lt; EOF</span><br><span class="line"></span><br><span class="line">&lt;VirtualHost *:88&gt;</span><br><span class="line"></span><br><span class="line">  ServerAdmin admin@xyz.blue</span><br><span class="line"></span><br><span class="line">  DocumentRoot &#x2F;data&#x2F;wwwroot&#x2F;$&#123;domain&#125;</span><br><span class="line"></span><br><span class="line">  ServerName $&#123;domain&#125;</span><br><span class="line"></span><br><span class="line">  # ServerAlias xyz.blue</span><br><span class="line"></span><br><span class="line">  SSLEngine on</span><br><span class="line"></span><br><span class="line">  SSLCertificateFile &#x2F;data&#x2F;ssl&#x2F;my.crt</span><br><span class="line"></span><br><span class="line">  SSLCertificateKeyFile &#x2F;data&#x2F;ssl&#x2F;my.key</span><br><span class="line"></span><br><span class="line">  ErrorLog &#x2F;data&#x2F;wwwlogs&#x2F;$&#123;domain&#125;_error_apache.log</span><br><span class="line"></span><br><span class="line">  $&#123;Apache_log&#125;</span><br><span class="line"></span><br><span class="line">  $&#123;Apache_fcgi&#125;</span><br><span class="line"></span><br><span class="line">&lt;Directory &#x2F;data&#x2F;wwwroot&#x2F;$&#123;domain&#125;&gt;</span><br><span class="line"></span><br><span class="line">  SetOutputFilter DEFLATE</span><br><span class="line"></span><br><span class="line">  Options FollowSymLinks ExecCGI</span><br><span class="line"></span><br><span class="line">  Require all granted</span><br><span class="line"></span><br><span class="line">  AllowOverride All</span><br><span class="line"></span><br><span class="line">  Order allow,deny</span><br><span class="line"></span><br><span class="line">  Allow from all</span><br><span class="line"></span><br><span class="line">  DirectoryIndex index.html index.php</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;Directory&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p>ä½¿Apacheç”Ÿæ•ˆ<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">apachectl -t</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">apachectl -k graceful</span><br></pre></td></tr></table></figure><p>USELESS<br></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">cat &gt;&gt; &#x2F;root&#x2F;.bashrc &lt;&lt;EOF</span><br><span class="line"></span><br><span class="line">systemctl restart php-fpm</span><br><span class="line"></span><br><span class="line">systemctl restart httpd</span><br><span class="line"></span><br><span class="line">systemctl restart mariadb</span><br><span class="line"></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p>åšå®¢é…ç½®</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;VirtualHost *:88&gt;</span><br><span class="line"></span><br><span class="line">  ServerAdmin admin@xyz.blue</span><br><span class="line"></span><br><span class="line">  DocumentRoot &#x2F;data&#x2F;wwwroot&#x2F;www.xyz.blue</span><br><span class="line"></span><br><span class="line">  ServerName www.xyz.blue</span><br><span class="line"></span><br><span class="line">  ServerAlias xyz.blue</span><br><span class="line"></span><br><span class="line">  #SSLEngine on</span><br><span class="line"></span><br><span class="line">  #SSLCertificateFile &#x2F;data&#x2F;ssl&#x2F;my.crt</span><br><span class="line"></span><br><span class="line">  #SSLCertificateKeyFile &#x2F;data&#x2F;ssl&#x2F;my.key</span><br><span class="line"></span><br><span class="line">  ErrorLog &#x2F;data&#x2F;wwwlogs&#x2F;www.xyz.blue_error_apache.log</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  &lt;Files ~ (\.user.ini|\.htaccess|\.git|\.svn|\.project|LICENSE|README.md)$&gt;</span><br><span class="line"></span><br><span class="line">    Order allow,deny</span><br><span class="line"></span><br><span class="line">    Deny from all</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;Files&gt;</span><br><span class="line"></span><br><span class="line">  &lt;FilesMatch \.php$&gt;</span><br><span class="line"></span><br><span class="line">    SetHandler &quot;proxy:unix:&#x2F;dev&#x2F;shm&#x2F;php-cgi.sock|fcgi:&#x2F;&#x2F;localhost&quot;</span><br><span class="line"></span><br><span class="line">  &lt;&#x2F;FilesMatch&gt;</span><br><span class="line"></span><br><span class="line">&lt;Directory &#x2F;data&#x2F;wwwroot&#x2F;www.xyz.blue&gt;</span><br><span class="line"></span><br><span class="line">  SetOutputFilter DEFLATE</span><br><span class="line"></span><br><span class="line">  Options FollowSymLinks ExecCGI</span><br><span class="line"></span><br><span class="line">  Require all granted</span><br><span class="line"></span><br><span class="line">  AllowOverride All</span><br><span class="line"></span><br><span class="line">  Order allow,deny</span><br><span class="line"></span><br><span class="line">  Allow from all</span><br><span class="line"></span><br><span class="line">  DirectoryIndex index.html index.php</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;Directory&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;VirtualHost&gt;</span><br></pre></td></tr></table></figure><p>å‰ç«¯ç”¨Caddy</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;app&#x2F;caddy&#x2F;c* start --config &#x2F;app&#x2F;caddy&#x2F;C</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">http_port 80</span><br><span class="line"></span><br><span class="line">https_port 443</span><br><span class="line"></span><br><span class="line">experimental_http3</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">xyz.blue www.xyz.blue &#123;</span><br><span class="line"></span><br><span class="line">tls &#x2F;data&#x2F;ssl&#x2F;my.crt &#x2F;data&#x2F;ssl&#x2F;my.key</span><br><span class="line"></span><br><span class="line">header Strict-Transport-Security &quot;max-age&#x3D;15552000; includeSubDomains; preload&quot;</span><br><span class="line"></span><br><span class="line">reverse_proxy 127.0.0.1:88</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ†äº«ä¸€ä¸ªNextcloud/Owncloudçš„Caddy 2å‰ç«¯é…ç½®æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">aaa.com &#123;</span><br><span class="line"></span><br><span class="line">tls &#x2F;data&#x2F;ssl&#x2F;my.crt &#x2F;data&#x2F;ssl&#x2F;my.key</span><br><span class="line"></span><br><span class="line">header Strict-Transport-Security &quot;max-age&#x3D;15552000; includeSubDomains; preload&quot;</span><br><span class="line"></span><br><span class="line">reverse_proxy &#x2F; 127.0.0.1:88 &#123;</span><br><span class="line"></span><br><span class="line">header_up Host &#123;http.request.host&#125;</span><br><span class="line"></span><br><span class="line">header_up X-Real-IP &#123;http.request.remote.host&#125;</span><br><span class="line"></span><br><span class="line">header_up X-Forwarded-For &#123;http.request.remote.host&#125;</span><br><span class="line"></span><br><span class="line">header_up X-Forwarded-Port &#123;http.request.port&#125;</span><br><span class="line"></span><br><span class="line">header_up X-Forwarded-Proto &#123;http.request.scheme&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">redir &#x2F;.well-known&#x2F;carddav &#x2F;remote.php&#x2F;carddav 301</span><br><span class="line"></span><br><span class="line">redir &#x2F;.well-known&#x2F;caldav &#x2F;remote.php&#x2F;caldav 301</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯·å…³æ³¨æˆ‘çš„åšå®¢ <a href="https://www.xyz.blue">https://www.xyz.blue</a><br></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> LAMP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Whcmså¼€å¯SSLæç¤ºé‡å®šå‘æ¬¡æ•°è¿‡å¤š[ERR_TOO_MANY_REDIRECTS]</title>
      <link href="/2019/12/07/too-many-times-for-whcms-to-enable-ssl-prompt-redirection.html"/>
      <url>/2019/12/07/too-many-times-for-whcms-to-enable-ssl-prompt-redirection.html</url>
      
        <content type="html"><![CDATA[<p>é—®é¢˜æè¿°ï¼š</p><p>ç¯å¢ƒï¼šLinux+Nginx</p><p>WHMCSç³»ç»Ÿé…ç½®SSLè¯ä¹¦ï¼Œå®‰è£…éƒ½æ­£å¸¸ï¼Œå¹¶ä¸”httpsä¹Ÿå¯ä»¥è®¿é—®ã€‚ç„¶ååšäº†301è·³è½¬ï¼Œå°†åŸæ¥çš„åŸŸåhttpè½¬åˆ°httpsä¸Šï¼Œå‡æ­£å¸¸ã€‚ </p><p>ä¹‹ååˆ°åå°è®¾ç½®ç½‘ç«™è¿æ¥ä¸º<a href="https://xxx.comï¼Œç½‘ç«™ç›´æ¥æŒ‚æ‰ã€‚æç¤ºé”™è¯¯ã€‚" target="_blank" rel="noopener">https://xxx.comï¼Œç½‘ç«™ç›´æ¥æŒ‚æ‰ã€‚æç¤ºé”™è¯¯ã€‚</a></p><p>Chromeæç¤ºï¼š ERR_TOO_MANY_REDIRECTS</p><p>IEæç¤ºé”™è¯¯: INET_E_REDIRECT_FAILED</p><p>é—®é¢˜è§£å†³ï¼š</p><p>å¤šæ–¹æ’æŸ¥ï¼ŒåŒ…æ‹¬é‡è£…whmcsï¼Œå‡æ— æ³•è§£å†³ã€‚è”ç³»å®˜æ–¹ä¹Ÿæ— æ³•ç»™å‡ºæ›´å¤šçš„ç­”æ¡ˆã€‚å”¯ç‹¬å¯ä»¥é€šè¿‡httpsè®¿é—®ç½‘ç«™ï¼Œä½†æ˜¯æ— æ³•åœ¨åå°è®¾ç½®è¿æ¥ä¸ºhttpsã€‚è¿™æ ·å¸¦æ¥çš„é—®é¢˜æ˜¯httpså¯ä»¥è®¿é—®ï¼Œä½†æ˜¯ç”¨æˆ·æ— æ³•æ³¨å†Œå’ŒéªŒè¯Emailè¿æ¥ç­‰æ“ä½œã€‚</p><p>æœ€ç»ˆè§£å†³æ–¹æ¡ˆä¸ºï¼šåœ¨configuration.phpçš„æ–‡ä»¶ä¸­ï¼ŒåŠ å…¥ä¸€æ¡ï¼š </p><pre><code>$_SERVER[&apos;HTTPS&apos;] = &apos;On&apos;;</code></pre><p>ç„¶åé‡å¯Nginxã€‚åœ¨åå°è®¾ç½®httpsåï¼Œé—®é¢˜å¾—åˆ°è§£å†³ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘å¼€å¯å®‰å…¨ç»„å¹¶åœ¨æœåŠ¡å™¨å†…å¼€å¯é˜²ç«å¢™è¿˜æ˜¯è®¿é—®ä¸äº†çš„è§£å†³æ–¹æ¡ˆ</title>
      <link href="/2019/10/02/solution-for-aliyun-to-open-security-group-and-firewall-in-server.html"/>
      <url>/2019/10/02/solution-for-aliyun-to-open-security-group-and-firewall-in-server.html</url>
      
        <content type="html"><![CDATA[<p>å°†è½¯ä»¶çš„ç›‘å¬åœ°å€æ”¹ä¸º0.0.0.0</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Rediså¼€å¯unix socket</title>
      <link href="/2019/10/02/redis-opens-unix-socket.html"/>
      <url>/2019/10/02/redis-opens-unix-socket.html</url>
      
        <content type="html"><![CDATA[<p>unixsocket /tmp/redis.sock<br>unixsocketperm 777</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>dockerä»å®¹å™¨é‡Œé¢æ‹·æ–‡ä»¶åˆ°å®¿ä¸»æœºæˆ–ä»å®¿ä¸»æœºæ‹·æ–‡ä»¶åˆ°dockerå®¹å™¨é‡Œé¢</title>
      <link href="/2019/10/02/docker-copies-files-from-container-to-host-or-from-host-to-docker-container.html"/>
      <url>/2019/10/02/docker-copies-files-from-container-to-host-or-from-host-to-docker-container.html</url>
      
        <content type="html"><![CDATA[<p>1ã€ä»å®¹å™¨é‡Œé¢æ‹·æ–‡ä»¶åˆ°å®¿ä¸»æœºï¼Ÿ</p><p>å‡è®¾å®¹å™¨åä¸ºtesttomcat,è¦ä»å®¹å™¨é‡Œé¢æ‹·è´çš„æ–‡ä»¶è·¯ä¸ºï¼š/usr/local/tomcat/webapps/test/js/test.js,  ç°åœ¨è¦å°†test.jsä»å®¹å™¨é‡Œé¢æ‹·åˆ°å®¿ä¸»æœºçš„/optè·¯å¾„ä¸‹é¢ï¼Œé‚£ä¹ˆå‘½ä»¤åº”è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿ</p><pre><code>docker cp testtomcatï¼š/usr/local/tomcat/webapps/test/js/test.js /opt</code></pre><p>2ã€ä»å®¿ä¸»æœºæ‹·æ–‡ä»¶åˆ°å®¹å™¨é‡Œé¢</p><p>å‡è®¾å®¹å™¨åä¸ºtesttomcat,ç°åœ¨è¦å°†å®¿ä¸»æœº/opt/test.jsæ–‡ä»¶æ‹·è´åˆ°å®¹å™¨é‡Œé¢çš„/usr/local/tomcat/webapps/test/jsè·¯å¾„ä¸‹é¢ï¼Œé‚£ä¹ˆå‘½ä»¤è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿ   </p><pre><code>docker cp /opt/test.js testtomcatï¼š/usr/local/tomcat/webapps/test/js</code></pre>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³ç”³è¯· HSTS æ—¶ Warningï¼š Unnecessary HSTS header over HTTP çš„æ–¹æ³•</title>
      <link href="/2019/10/02/warning-unnecessary-hsts-header-over-http-method-for-hsts-application.html"/>
      <url>/2019/10/02/warning-unnecessary-hsts-header-over-http-method-for-hsts-application.html</url>
      
        <content type="html"><![CDATA[<p><strong>Nginx</strong></p><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">map $scheme $hsts_header &#123;</span><br><span class="line"></span><br><span class="line">    https   &quot;max-age&#x3D;31536000; includeSubDomains; preload&quot;;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line"></span><br><span class="line">......(others)</span><br><span class="line"></span><br><span class="line">  add_header Strict-Transport-Security $hsts_header;</span><br><span class="line"></span><br><span class="line">......(others)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åé‡å¯Nginxã€‚</p><p><strong>Apache</strong></p><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;VirtualHost *:443&gt;</span><br><span class="line"></span><br><span class="line">......(others)</span><br><span class="line"></span><br><span class="line">    Header always set Strict-Transport-Security &quot;max-age&#x3D;31536000; includeSubDomains; preload&quot;</span><br><span class="line"></span><br><span class="line">......(others)</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;VirtualHost&gt;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åé‡å¯Apacheã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 443 </tag>
            
            <tag> HSTS </tag>
            
            <tag> HTTPS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºdrawio</title>
      <link href="/2019/10/02/build-drawio.html"/>
      <url>/2019/10/02/build-drawio.html</url>
      
        <content type="html"><![CDATA[<p>æ­å»ºdrawio<br>draw.ioçš„githubåœ°å€åœ¨<a href="https://github.com/jgraph/drawioï¼Œå¯ä»¥åœ¨releaseä¸‹è½½æ­£å¼ç‰ˆæœ¬ï¼Œæˆ‘ä»¬æ­¤æ¬¡ä¸‹è½½çš„æ˜¯æºç ç‰ˆæœ¬ã€‚" target="_blank" rel="noopener">https://github.com/jgraph/drawioï¼Œå¯ä»¥åœ¨releaseä¸‹è½½æ­£å¼ç‰ˆæœ¬ï¼Œæˆ‘ä»¬æ­¤æ¬¡ä¸‹è½½çš„æ˜¯æºç ç‰ˆæœ¬ã€‚</a></p><pre><code>git clone https://github.com/jgraph/drawio.git</code></pre><p>ç¼–è¯‘çš„è¯ï¼Œéœ€è¦å®‰è£…antç­‰ç¯å¢ƒã€‚</p><pre><code>yum install -y ant java-1.8.0-openjdk-devel</code></pre><p>æ¥ä¸‹æ¥ï¼Œå°±æ˜¯éœ€è¦ç¼–è¯‘äº†ã€‚</p><pre><code>cd etc/build &amp;&amp; ant</code></pre><p>å¦‚æœéœ€è¦ç”ŸæˆwaråŒ…çš„è¯ï¼Œåˆ™å¦‚ä¸‹ç¼–è¯‘</p><pre><code>cd etc/build &amp;&amp; ant war</code></pre><p>ç¼–è¯‘æˆåŠŸåï¼ŒwaråŒ…ä¼šç”Ÿæˆåœ¨drawio/build/draw.warï¼Œå¦‚æœä½ æœ‰tomcatæˆ–javaçš„æœåŠ¡ç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨waråŒ…éƒ¨ç½²ã€‚æ•´ä½“æ¥è¯´ï¼Œè¿˜æ˜¯ä¸ç”¨warçš„æ–¹ä¾¿ä¸€äº›ï¼Œåªè¦æœ‰Apacheæˆ–Nginxå°±å¯ä»¥æå®šäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…LDAP-phpæ‰©å±•</title>
      <link href="/2019/10/02/install-ldapphp-extensions.html"/>
      <url>/2019/10/02/install-ldapphp-extensions.html</url>
      
        <content type="html"><![CDATA[<p>LDAP<br>âˆ’âˆ’with-ldap=DIR         Include LDAP support<br> âˆ’âˆ’with-ldap-sasl=DIR    LDAP: Include Cyrus SASL support<br> Debian/Ubuntu éœ€å®‰è£… libldap-2.4-2, libldap2-dev ä¾èµ–åŒ…ã€‚<br> Redhat/CentOS éœ€å®‰è£… openldap, openldap-devel ä¾èµ–åŒ…ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>NextCloudä¸Šä¼ å¤±è´¥æˆ–åˆ é™¤å¤±è´¥è§£å†³æ–¹æ³•</title>
      <link href="/2019/09/21/nextcloud-upload-failure-or-delete-failure-solution.html"/>
      <url>/2019/09/21/nextcloud-upload-failure-or-delete-failure-solution.html</url>
      
        <content type="html"><![CDATA[<pre><code>#!/bin/bashphp /ä½ çš„ç½‘ç«™ç›®å½•/occ maintenance:mode --onmysql -uæ•°æ®åº“è´¦å· -pä½ çš„æ•°æ®åº“å¯†ç  -e &quot;use æ•°æ®åº“åç§°;DELETE FROM oc_file_locks WHERE 1;exit&quot;php /ä½ çš„ç½‘ç«™ç›®å½•/occ maintenance:mode --off</code></pre><p>å°†ä»¥ä¸Šä¿å­˜ä¸º.shè„šæœ¬<br>åœ¨ä½ çš„ç½‘ç«™ç›®å½•ä¸‹é¢æ–°å»º.phpæ–‡ä»¶</p><pre><code>&lt;?php        passthru(&quot;bash ä¸Šé¢ä½ çš„è„šæœ¬åç§°.sh&quot;);?&gt;</code></pre><p>é‚£ä¹ˆè®¿é—®è¿™ä¸ªphpæ–‡ä»¶å°±ä¼šè¿è¡Œä¹‹å‰çš„é‚£ä¸ªè„šæœ¬<br>ä¼šæ¯”æ¯æ¬¡åœ¨SSHä¸­è¾“å…¥ä¼šç®€ä¾¿å¾ˆå¤šè¿è¡Œç¨‹åºçš„ç›®å½•æ˜¯ä½ çš„ç½‘ç«™ç›®å½•ï¼Œå¦‚éœ€ä¿®æ”¹è¯·ä½¿ç”¨ç»å¯¹è·¯å¾„</p><p>æ³¨æ„ï¼šåœ¨php.iniä¸­åˆ é™¤ç¦ç”¨å‡½æ•°passthru()</p><hr><p>åœ¨NextCloudä¸­æ·»åŠ åº”ç”¨â€“é‚£ä¸ªè‡ªå®šä¹‰é“¾æ¥çš„<br><img src= "/img/loading.gif" data-src="/2019/09/21/nextcloud-upload-failure-or-delete-failure-solution/Nextcloud-show.png" width="100%" alt="Nextcloud-show"></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Annieè§†é¢‘ä¸‹è½½æ„Ÿè§‰å¾ˆå¥½</title>
      <link href="/2019/09/21/annie-video-download-feels-good.html"/>
      <url>/2019/09/21/annie-video-download-feels-good.html</url>
      
        <content type="html"><![CDATA[<img src= "/img/loading.gif" data-src="/2019/09/21/annie-video-download-feels-good/annie-download.png" width="100%" alt="annie-download"><img src= "/img/loading.gif" data-src="/2019/09/21/annie-video-download-feels-good/annie-c.png" width="100%" alt="annie-c"><img src= "/img/loading.gif" data-src="/2019/09/21/annie-video-download-feels-good/annie.png" width="100%" alt="annie">https://github.com/iawia002/annie]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è¿è¡ŒPython-bilibiliè„šæœ¬è§†é¢‘å‡ºç°çš„é—®é¢˜</title>
      <link href="/2019/09/21/problems-with-running-pythonbilibilibili-script-videos.html"/>
      <url>/2019/09/21/problems-with-running-pythonbilibilibili-script-videos.html</url>
      
        <content type="html"><![CDATA[<p>[post cid=â€62â€ /]<br>Imageio: â€˜ffmpeg-linux64-v3.3.1â€™ was not found on your computer; downloading it now.</p><p>åœ¨ä½¿ç”¨Pythonçš„moviepyæ¨¡å—çš„æ—¶å€™ï¼ŒæŠ¥å‡ºä»¥ä¸‹é”™è¯¯ï¼š</p><pre><code>Imageio: &apos;ffmpeg.linux64&apos; was not found on your computer; downloading it now.Error while fetching file: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:726)&gt;.Error while fetching file: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:726)&gt;.Error while fetching file: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:726)&gt;.Error while fetching file: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:726)&gt;.Traceback (most recent call last):  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;  File &quot;/home/me/anaconda2/lib/python3.7/site-packages/imageio/plugins/ffmpeg.py&quot;, line 73, in download    force_download=force_download)  File &quot;/home/me/anaconda2/lib/python3.7/site-packages/imageio/core/fetching.py&quot;, line 127, in get_remote_file    _fetch_file(url, filename)  File &quot;/home/me/anaconda2/lib/python3.7/site-packages/imageio/core/fetching.py&quot;, line 183, in _fetch_file    os.path.basename(file_name))IOError: Unable to download &apos;ffmpeg.linux64&apos;. Perhaps there is a no internet connection? If there is, please report this problem.</code></pre><p>é”™è¯¯åŸå› ï¼š<br>imageioæ¨¡å—ä¸‹è½½ffmpegçš„æ—¶å€™ï¼Œæ— æ³•è¿æ¥ç½‘ç»œã€‚<br>ä¸‹è½½çš„è·¯å¾„å¯ä»¥å‚çœ‹:<br>./site-packages/imageio/core/fetching.py:63<br>./site-packages/imageio/plugins/ffmpeg.py:70</p><pre><code>wget https://github.com/imageio/imageio-binaries/raw/master/ffmpeg/ffmpeg.linux64</code></pre><pre><code>mv ffmpeg.linux64 ~/.imageio/ffmpeg/</code></pre>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨pythonè„šæœ¬ä¸‹è½½bilibiliè§†é¢‘</title>
      <link href="/2019/09/21/download-bilibilibili-videos-using-python-scripts.html"/>
      <url>/2019/09/21/download-bilibilibili-videos-using-python-scripts.html</url>
      
        <content type="html"><![CDATA[<p>Githubåœ°å€ï¼š<a href="https://github.com/Henryhaohao/Bilibili_video_download" target="_blank" rel="noopener">https://github.com/Henryhaohao/Bilibili_video_download</a><br>è¿™ä¸ªä¸‹è½½å¾ˆè€—æœåŠ¡å™¨èµ„æºå°CPU|RAMå°±åˆ«ç”¨äº†ç”¨ä¸‹é¢è¿™ä¸ª<br>[post cid=â€65â€ cover=â€https://<a href="http://www.xyz.blue\/usr\/uploads\/2019\/09\/3014905791.png&quot;/]">www.xyz.blue\/usr\/uploads\/2019\/09\/3014905791.png&quot;/]</a><br><img src= "/img/loading.gif" data-src="/2019/09/21/download-bilibilibili-videos-using-python-scripts/Python-BILIBILI.png" width="100%" alt="Python-BILIBILI"></p><pre><code>#ä¸‹è½½é™æ€æ–‡ä»¶wget https://github.com/q3aql/aria2-static-builds/releases/download/v1.34.0/aria2-1.34.0-linux-gnu-64bit-build1.tar.bz2#è§£å‹æ–‡ä»¶å¹¶è¿›å…¥æ–‡ä»¶å¤¹tar jxvf aria2-*.tar.bz2 &amp;&amp; rm -rf aria2-*.tar.bz2 &amp;&amp; cd aria2-*#å¼€å§‹å®‰è£…make install</code></pre><p>å¦‚æœå®‰è£…çš„æ—¶å€™æç¤º-bash: make: command not foundé”™è¯¯ï¼Œéœ€è¦å…ˆè¿è¡Œå‘½ä»¤ï¼š<br>Debian/Ubuntuç³»ç»Ÿï¼šapt install make -y<br>CentOSç³»ç»Ÿï¼šyum install make -y</p><p>å®‰è£…Python3</p><pre><code>apt-get install python3-pip -y</code></pre><p>Centosç™¾åº¦<br>å®‰è£…ffmpeg</p><pre><code>apt-get install ffmpeg</code></pre><p>Centosç™¾åº¦</p><pre><code>git clone https://github.com/Henryhaohao/Bilibili_video_download.git</code></pre><p>è¿›å…¥å®‰è£…</p><pre><code>pip3 install -r requirements.txt</code></pre><p>æŒ‰ç…§æç¤ºè¾“å…¥å³å¯</p><hr><p>é—®é¢˜<br>[post cid=â€63â€ /]</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>apache åå‘ä»£ç†çš„æ—¶å€™ï¼Œé€šè¿‡åŸŸåè®¿é—®æ˜¯ï¼Œå‡ºç°è·³è½¬åˆ°ipæˆ–è€…æ— æƒè®¿é—®çš„æƒ…å†µ</title>
      <link href="/2019/09/19/when-apache-reverse-proxy-is-accessed-through-domain-name-there-is-a-jump-to-ip-or-no-access.html"/>
      <url>/2019/09/19/when-apache-reverse-proxy-is-accessed-through-domain-name-there-is-a-jump-to-ip-or-no-access.html</url>
      
        <content type="html"><![CDATA[<p>åœ¨é…ç½®åå‘ä»£ç†çš„æ—¶å€™åŠ ä¸Šä¸€è¡Œï¼š</p><p>ProxyPreserveHost On</p><p>ä¾‹å¦‚ï¼š<br>ProxyPass / <a href="http://202.112.0.1/" target="_blank" rel="noopener">http://202.112.0.1/</a><br>ProxyPassReverse / <a href="http://202.112.0.1/" target="_blank" rel="noopener">http://202.112.0.1/</a><br>ProxyPreserveHost On #åœ¨è¿™é‡ŒåŠ ä¸Šå°±è¡Œ</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºNextCloudä¸­çš„OnlyOfficeé…ç½®ä¸­æ–‡è®¿é—®</title>
      <link href="/2019/09/18/configure-chinese-access-for-onlyoffice-in-nextcloud.html"/>
      <url>/2019/09/18/configure-chinese-access-for-onlyoffice-in-nextcloud.html</url>
      
        <content type="html"><![CDATA[<p>æ„Ÿè§‰ä»–é‚£ä¸ªè‡ªå¸¦çš„è‡ªåŠ¨è¯†åˆ«ç½‘ç«™è¯­è¨€æœ‰é—®é¢˜<br>æ‰€ä»¥è¿›è¡Œäº†ä¿®æ”¹<br>è¿›å…¥<br><img src= "/img/loading.gif" data-src="/2019/09/18/configure-chinese-access-for-onlyoffice-in-nextcloud/OnlyOffice-1.png" width="100%" alt="OnlyOffice-1"><br>ä¿®æ”¹ä¸¤é¡¹å†…å®¹<br>ä¸‹é¢è¿™ä¸ªæ˜¯æŒ‡æ–°å»ºæ–‡æ¡£æ—¶é»˜è®¤è¿›å…¥ç¼–è¾‘é¡µé¢çš„ä¸­è‹±æ–‡<br><img src= "/img/loading.gif" data-src="/2019/09/18/configure-chinese-access-for-onlyoffice-in-nextcloud/OnlyOffice-2.png" width="100%" alt="OnlyOffice-2"><br>ä¸‹é¢è¿™ä¸ªæ˜¯æŒ‡ç¼–è¾‘æ–‡æ¡£æ—¶é»˜è®¤è¿›å…¥ç¼–è¾‘é¡µé¢çš„ä¸­è‹±æ–‡<br><img src= "/img/loading.gif" data-src="/2019/09/18/configure-chinese-access-for-onlyoffice-in-nextcloud/OnlyOffice-3.png" width="100%" alt="OnlyOffice-3"><br>ä»£ç è·Ÿä¹‹å‰çš„ä¸€æ ·<br>[post cid=â€37â€ /]</p><pre><code>if(!empty($_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;])){    $lang = substr($_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;],0,4);    if(preg_match(&quot;/zh-c/i&quot;,$lang)){        $langConfig = &quot;zh-CN&quot;;    }    elseif(preg_match(&quot;/en/i&quot;,$lang)){        $langConfig = &quot;en&quot;;    }    else{        $langConfig = &quot;en&quot;;    }}else{    $langConfig = &apos;en&apos;;}$lang = $langConfig;</code></pre>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Typecho æ–‡ç« é“¾æ¥è½¬å¤–é“¾</title>
      <link href="/2019/08/30/typecho-articles-link-external-chain.html"/>
      <url>/2019/08/30/typecho-articles-link-external-chain.html</url>
      
        <content type="html"><![CDATA[<p>ç”¨JS</p><pre><code>&lt;script&gt;window.location.href = &quot;https://www.baidu.com&quot;&lt;/script&gt;</code></pre><p>å…¶ä»–çš„æ–¹æ³•è§<br><a href="https://paugram.com/coding/typecho-article-links-external.html" target="_blank" rel="noopener">https://paugram.com/coding/typecho-article-links-external.html</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Typechoåœ¨ä½¿ç”¨CDNçš„æƒ…å†µä¸‹è·å–çœŸå®IP</title>
      <link href="/2019/08/30/typecho-gets-real-ip-using-cdn.html"/>
      <url>/2019/08/30/typecho-gets-real-ip-using-cdn.html</url>
      
        <content type="html"><![CDATA[<p>å½“æˆ‘çš„æ–‡ç« æˆ–é¡µé¢è¢«è¯„è®ºæ—¶ï¼Œç½‘ç«™åå°ä¼šçœ‹åˆ°ä»–ä»¬å‘è¯„è®ºçš„IPåœ°å€<br><img src= "/img/loading.gif" data-src="/2019/08/30/typecho-gets-real-ip-using-cdn/CDN-con.png" width="100%" alt="CDN-con"><br><img src= "/img/loading.gif" data-src="/2019/08/30/typecho-gets-real-ip-using-cdn/CDN-IP.png" width="100%" alt="CDN-IP"><br>é‚£ä¹ˆå¦‚ä½•åœ¨ä½¿ç”¨CDNçš„æƒ…å†µä¸‹è·å–ç”¨æˆ·çš„çœŸå®IPå‘¢ï¼Ÿ<br>å…¶å®å¾ˆç®€å•<br>åœ¨<code>config.inc.php</code>æœ«å°¾æ·»åŠ å³å¯</p><pre><code>if(isset($_SERVER[&apos;HTTP_X_FORWARDED_FOR&apos;])){    $list = explode(&apos;,&apos;,$_SERVER[&apos;HTTP_X_FORWARDED_FOR&apos;]);    $_SERVER[&apos;REMOTE_ADDR&apos;] = $list[0];}</code></pre><img src= "/img/loading.gif" data-src="/2019/08/30/typecho-gets-real-ip-using-cdn/CDN-config.png" width="100%" alt="CDN-config"><hr><p>æ•ˆæœ<br><img src= "/img/loading.gif" data-src="/2019/08/30/typecho-gets-real-ip-using-cdn/CDN-new-con.png" width="100%" alt="CDN-new-con"><br><img src= "/img/loading.gif" data-src="/2019/08/30/typecho-gets-real-ip-using-cdn/CDN-new-IP.png" width="100%" alt="CDN-new-IP"></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è®©ä½ çš„ç½‘ç«™æ–‡å­—â€œæŠ–â€èµ·æ¥</title>
      <link href="/2019/08/30/let-your-website-text-shake-up.html"/>
      <url>/2019/08/30/let-your-website-text-shake-up.html</url>
      
        <content type="html"><![CDATA[<img src= "/img/loading.gif" data-src="/2019/08/30/let-your-website-text-shake-up/shake.png" width="100%" alt="æŠ–"><style>@keyframes shake-it{0%{text-shadow:0 0 rgba(0,255,255,.5),0 0 rgba(255,0,0,.5)}25%{text-shadow:-2px 0 rgba(0,255,255,.5),2px 0 rgba(255,0,0,.5)}50%{text-shadow:-5px 0 rgba(0,255,255,.5),3px 0 rgba(255,0,0,.5)}100%{text-shadow:3px 0 rgba(0,255,255,.5),5px 0 rgba(255,0,0,.5)}}</style><p>ç‚¹å‡»ä»¥æŸ¥çœ‹æ•ˆæœ</p><p><button class="btn small" id="shake-it">ç‚¹æˆ‘ï¼</button></p><script>var text_obj=[document.body,document.getElementById("shake-it")];    text_obj[1].onclick=function(){    text_obj[0].style="animation: shake-it .5s reverse infinite cubic-bezier(0.68, -0.55, 0.27, 1.55);";    setTimeout(function(){        text_obj[0].style=""        },13000)    };</script><p>ç›´æ¥åœ¨æ–‡ç« ç¼–è¾‘å™¨é‡Œé¢è¾“å…¥å³å¯</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;style&gt;@keyframes shake-it&#123;0%&#123;text-shadow:0 0 rgba(0,255,255,.5),0 0 rgba(255,0,0,.5)&#125;25%&#123;text-shadow:-2px 0 rgba(0,255,255,.5),2px 0 rgba(255,0,0,.5)&#125;50%&#123;text-shadow:-5px 0 rgba(0,255,255,.5),3px 0 rgba(255,0,0,.5)&#125;100%&#123;text-shadow:3px 0 rgba(0,255,255,.5),5px 0 rgba(255,0,0,.5)&#125;&#125;&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;button class&#x3D;&quot;btn small&quot; id&#x3D;&quot;shake-it&quot;&gt;æŠ–ï¼&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;var text_obj&#x3D;[document.body,document.getElementById(&quot;shake-it&quot;)];</span><br><span class="line"></span><br><span class="line">    text_obj[1].onclick&#x3D;function()&#123;</span><br><span class="line"></span><br><span class="line">text_obj[0].style&#x3D;&quot;animation: shake-it .5s reverse infinite cubic-bezier(0.68, -0.55, 0.27, 1.55);&quot;;</span><br><span class="line"></span><br><span class="line">setTimeout(function()&#123;</span><br><span class="line"></span><br><span class="line">text_obj[0].style&#x3D;&quot;&quot;</span><br><span class="line"></span><br><span class="line">&#125;,13000)</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦åœ¨æŠ–çš„æ—¶å€™æ·»åŠ éŸ³ä¹</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;style&gt;@keyframes shake-it&#123;0%&#123;text-shadow:0 0 rgba(0,255,255,.5),0 0 rgba(255,0,0,.5)&#125;25%&#123;text-shadow:-2px 0 rgba(0,255,255,.5),2px 0 rgba(255,0,0,.5)&#125;50%&#123;text-shadow:-5px 0 rgba(0,255,255,.5),3px 0 rgba(255,0,0,.5)&#125;100%&#123;text-shadow:3px 0 rgba(0,255,255,.5),5px 0 rgba(255,0,0,.5)&#125;&#125;&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;@keyframes shake-it&#123;0%&#123;text-shadow:0 0 rgba(0,255,255,.5),0 0 rgba(255,0,0,.5)&#125;25%&#123;text-shadow:-2px 0 rgba(0,255,255,.5),2px 0 rgba(255,0,0,.5)&#125;50%&#123;text-shadow:-5px 0 rgba(0,255,255,.5),3px 0 rgba(255,0,0,.5)&#125;100%&#123;text-shadow:3px 0 rgba(0,255,255,.5),5px 0 rgba(255,0,0,.5)&#125;&#125;&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script&gt;var text_obj&#x3D;[document.body,document.getElementById(&quot;shake-it&quot;)];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">text_obj[1].onclick&#x3D;function()&#123;</span><br><span class="line"></span><br><span class="line">text_obj[0].style&#x3D;&quot;animation: shake-it .5s reverse infinite cubic-bezier(0.68, -0.55, 0.27, 1.55);&quot;;</span><br><span class="line"></span><br><span class="line">setTimeout(function()&#123;</span><br><span class="line"></span><br><span class="line">text_obj[0].style&#x3D;&quot;&quot;</span><br><span class="line"></span><br><span class="line">&#125;,13000)</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;var text_obj&#x3D;[document.body,document.getElementById(&quot;shake-it&quot;)];</span><br><span class="line"></span><br><span class="line">text_obj[1].onclick&#x3D;function()&#123;</span><br><span class="line"></span><br><span class="line">text_obj[0].style&#x3D;&quot;animation: shake-it .5s reverse infinite cubic-bezier(0.68, -0.55, 0.27, 1.55);&quot;;</span><br><span class="line"></span><br><span class="line">setTimeout(function()&#123;</span><br><span class="line"></span><br><span class="line">text_obj[0].style&#x3D;&quot;&quot;</span><br><span class="line"></span><br><span class="line">&#125;,13000)</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>æ ¹æ®<a href="https://paugram.com/coding/shake-your-text.htmlä¿®æ”¹" target="_blank" rel="noopener">https://paugram.com/coding/shake-your-text.htmlä¿®æ”¹</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç‰¹æ•ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typechoé…ç½®å¤šè¯­è¨€</title>
      <link href="/2019/08/21/typecho-configuration-multilingualism.html"/>
      <url>/2019/08/21/typecho-configuration-multilingualism.html</url>
      
        <content type="html"><![CDATA[<p>[post cid=â€37â€ cover=â€https://<a href="http://www.xyz.blue\/usr\/uploads\/2019\/08\/1378905739.png&quot;/]">www.xyz.blue\/usr\/uploads\/2019\/08\/1378905739.png&quot;/]</a><br>æ›´æ–°ä¸€ä¸‹ï¼Œä¸Šæ¬¡çš„é‚£ä¸ªæ–¹æ³•å¤ªå¤æ‚ã€‚<br>å¢åŠ enç«™ç‚¹ï¼Œå°±æ˜¯é‡æ–°æ­å»ºä¸€ä¸ªåšå®¢ï¼Œæ•°æ®åº“è¿˜æ˜¯åŒä¸€ä¸ªä¸è¿‡æ•°æ®åº“å‰ç¼€å¯ä»¥ä¿®æ”¹<br>å¦‚æœåˆ†å¼€æ•°æ®åº“çš„è¯å¯¹Sqliteä¸å‹å¥½ï¼ŒMysqléšæ„<br>ç¼–è¾‘config.inc.php<br><strong>ç¦æ­¢ç›´æ¥å¤åˆ¶ï¼Œå…·ä½“å†…å®¹éœ€è¦ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„æ•°æ®åº“</strong><br>Mysqlçš„è¯å¯¹ç…§ä½ åŸæ¥çš„é…ç½®ä¿®æ”¹ï¼Œå¤§ä½“æ¡†æ¶ä¸å˜</p><pre><code>/** å®šä¹‰æ•°æ®åº“å‚æ•° */#$db = new Typecho_Db(&apos;Pdo_SQLite&apos;, &apos;&apos;);#$db-&gt;addServer(array (#  &apos;file&apos; =&gt; &apos;/home/wwwroot/www.xyz.blue/usr/.db&apos;,#), Typecho_Db::READ | Typecho_Db::WRITE);#Typecho_Db::set($db);if(!empty($_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;])){  $lang = substr($_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;],0,4);  if(preg_match(&quot;/zh-c/i&quot;,$lang)){      $db = new Typecho_Db(&apos;Pdo_SQLite&apos;, &apos;&apos;);      $db-&gt;addServer(array (      &apos;file&apos; =&gt; &apos;/home/wwwroot/www.xyz.blue/usr/.db&apos;,      ), Typecho_Db::READ | Typecho_Db::WRITE);      Typecho_Db::set($db);  }  elseif(preg_match(&quot;/en/i&quot;,$lang)){      $db = new Typecho_Db(&apos;Pdo_SQLite&apos;, &apos;en_&apos;);      $db-&gt;addServer(array (      &apos;file&apos; =&gt; &apos;/home/wwwroot/www.xyz.blue/usr/.db&apos;,      ), Typecho_Db::READ | Typecho_Db::WRITE);      Typecho_Db::set($db);  }  else{      $db = new Typecho_Db(&apos;Pdo_SQLite&apos;, &apos;en_&apos;);      $db-&gt;addServer(array (      &apos;file&apos; =&gt; &apos;/home/wwwroot/www.xyz.blue/usr/.db&apos;,      ), Typecho_Db::READ | Typecho_Db::WRITE);      Typecho_Db::set($db);  }}else{  $db = new Typecho_Db(&apos;Pdo_SQLite&apos;, &apos;en_&apos;);      $db-&gt;addServer(array (      &apos;file&apos; =&gt; &apos;/home/wwwroot/www.xyz.blue/usr/.db&apos;,      ), Typecho_Db::READ | Typecho_Db::WRITE);      Typecho_Db::set($db);}</code></pre><p>ä¸Šé¢è¿™ä¸ªå°±æ˜¯ä»¥ä½ è®¿å®¢çš„æµè§ˆå™¨çš„ç¬¬ä¸€è¯­è¨€ä¸ºå‚è€ƒæ¥è°ƒç”¨ä¸åŒæ•°æ®åº“æ¥å®ç°å¤šè¯­è¨€</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Handsomeä¸»é¢˜é‡åˆ°çš„é—®é¢˜</title>
      <link href="/2019/08/21/problems-encountered-with-using-handsome-topics.html"/>
      <url>/2019/08/21/problems-encountered-with-using-handsome-topics.html</url>
      
        <content type="html"><![CDATA[<img src= "/img/loading.gif" data-src="/2019/08/21/problems-encountered-with-using-handsome-topics/wrong.png" width="100%" alt="wrong">----------<p>ä¸»é¢˜ä½œè€…ï¼š<br>ç¬¬ä¸€ä¸ªé”™è¯¯ ä¸ç”¨ç®¡  ä½ è¦æ˜¯æƒ³æ¶ˆé™¤  å°±åœ¨å¤–è§‚è®¾ç½®  é€Ÿåº¦ä¼˜åŒ–  é€‰æ‹©å…¬å…±cdn ä¸è¦é€‰æ‹©ç™¾åº¦<br>ç¬¬äºŒä¸ªæ˜¯å…¨å‰§æ’­æ”¾å™¨  æš‚æ—¶ä¸è¦ç”¨QQéŸ³ä¹  æ¢ä¸ªå¹³å°è¯•è¯•</p><hr><p>ç¡®å®šé—®é¢˜ï¼šä½¿ç”¨äº†è‡ªå®šä¹‰æ­Œå•æ²¡é…ç½®å†…å®¹æˆ–è€…ä½¿ç”¨äº†äº‘è§£ææ­Œå•<br>è§£å†³æ–¹æ³•ï¼šå¦‚æœä½¿ç”¨äº†è‡ªå®šä¹‰æ­Œå•ï¼Œé‚£ä¹ˆå°±æŒ‰ç…§è¯´æ˜æ·»åŠ ï¼Œå¦‚æœäº‘è§£ææ­Œå•ï¼Œå°±æš‚æ—¶æŠŠæ­Œå•é“¾æ¥åˆ æ‰ã€‚æˆ–è€…ç›´æ¥å…³é—­éŸ³ä¹è§£æ</p><hr><p>è§£å†³ä¹‹å<br><img src= "/img/loading.gif" data-src="/2019/08/21/problems-encountered-with-using-handsome-topics/right.png" width="100%" alt="right"></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä½¿ç”¨typechoè¾“å‡ºæœ‰é¢œè‰²çš„å­—</title>
      <link href="/2019/08/21/how-to-use-typecho-to-output-colored-words.html"/>
      <url>/2019/08/21/how-to-use-typecho-to-output-colored-words.html</url>
      
        <content type="html"><![CDATA[<p>typechoè¾“å‡ºhtmlæ•™ç¨‹<br>åªéœ€è¦ç”¨!!!åŒ…è£¹htmlå³å¯å®ç°ï¼<br>ç”¨æ³•</p><pre><code>!!!&lt;font color=&quot;red&quot;&gt;è¿™é‡Œæ˜¯çº¢è‰²&lt;/font&gt;!!!</code></pre><p>coloré¢œè‰²ä»£ç å¤§å…¨ï¼š<br>!!!<br>1 <font color="FFFFFF">ç™½é¢œè‰²</font> #FFFFFF <br><br>2 <font color="#FF0000">çº¢é¢œè‰²</font> #FF0000 <br><br>3 <font color="#00FF00">ç»¿é¢œè‰²</font> #00FF00 <br><br>4 <font color="#0000FF">è“é¢œè‰²</font> #0000FF <br><br>5 <font color="#FF00FF">ç‰¡ä¸¹çº¢</font> #FF00FF <br><br>6 <font color="#00FFFF">é’é¢œè‰²</font> #00FFFF <br><br>7 <font color="#FFFF00">é»„é¢œè‰²</font> #FFFF00 <br><br>8 <font color="#000000">é»‘é¢œè‰²</font> #000000 <br><br>9 <font color="#70DB93">æµ·é¢œè“</font> #70DB93 <br><br>10 <font color="#5C3317">å·§å…‹åŠ›è‰²</font> #5C3317 <br></p><p>11 è“ç´«è‰² #9F5F9F<br>12 é»„é“œè‰² #B5A642<br>13 äº®é‡‘è‰² #D9D919<br>14 æ£•è‰² #A67D3D<br>15 é’é“œè‰² #8C7853<br>16 2å·é’é“œè‰² #A67D3D<br>17 å£«å®˜æœè“è‰² #5F9F9F<br>18 å†·é“œè‰² #D98719<br>19 é“œè‰² #B87333<br>20 çŠç‘šçº¢ #FF7F00</p><p>21 ç´«è“è‰² #42426F<br>22 æ·±æ£• #5C4033<br>23 æ·±ç»¿ #2F4F2F<br>24 æ·±é“œç»¿è‰² #4A766E<br>25 æ·±æ©„æ¦„ç»¿ #4F4F2F<br>26 æ·±å…°èŠ±è‰² #9932CD<br>27 æ·±ç´«è‰² #871F78<br>28 æ·±çŸ³æ¿è“ #6B238E<br>29 æ·±é“…ç°è‰² #2F4F4F<br>30 æ·±æ£•è¤è‰² #97694F</p><p>32 æ·±ç»¿æ¾çŸ³è‰² #7093DB<br>33 æš—æœ¨è‰² #855E42<br>34 æ·¡ç°è‰² #545454<br>35 åœŸç°ç«ç‘°çº¢è‰²#856363<br>36 é•¿çŸ³è‰² #D19275<br>37 ç«ç –è‰² #8E2323<br>38 æ£®æ—ç»¿ #238E23<br>39 é‡‘è‰² #CD7F32<br>40 é²œé»„è‰² #DBDB70</p><p>41 ç°è‰² #C0C0C0<br>42 é“œç»¿è‰² #527F76<br>43 é’é»„è‰² #93DB70<br>44 çŒäººç»¿ #215E21<br>45 å°åº¦çº¢ #4E2F2F<br>46 åœŸé»„è‰² #9F9F5F<br>47 æµ…è“è‰² #C0D9D9<br>48 æµ…ç°è‰² #A8A8A8<br>49 æµ…é’¢è“è‰² #8F8FBD</p><p>59 æµ…æœ¨è‰² #E9C2A6<br>60 çŸ³ç°ç»¿è‰² #32CD32<br>61 æ¡”é»„è‰² #E47833<br>62 è¤çº¢è‰² #8E236B<br>63 ä¸­æµ·è“è‰² #32CD99<br>64 ä¸­è“è‰² #3232CD<br>65 ä¸­æ£®æ—ç»¿ #6B8E23<br>66 ä¸­é²œé»„è‰² #EAEAAE<br>67 ä¸­å…°èŠ±è‰² #9370DB<br>68 ä¸­æµ·ç»¿è‰² #426F42<br>69 ä¸­çŸ³æ¿è“è‰² #7F00FF<br>70 ä¸­æ˜¥ç»¿è‰² #7FFF00</p><p>71 ä¸­ç»¿æ¾çŸ³è‰² #70DBDB<br>72 ä¸­ç´«çº¢è‰² #DB7093<br>73 ä¸­æœ¨è‰² #A68064<br>74 æ·±è—é’è‰² #2F2F4F<br>75 æµ·å†›è“ #23238E<br>76 éœ“è™¹ç¯® #4D4DFF<br>77 éœ“è™¹ç²‰çº¢ #FF6EC7<br>78 æ–°æ·±è—é’è‰² #00009C<br>79 æ–°æ£•è¤è‰² #EBC79E<br>80 æš—é‡‘é»„è‰² #CFB53B</p><p>81 æ©™è‰² #FF7F00<br>82 æ©™çº¢è‰² #FF2400<br>83 æ·¡ç´«è‰² #DB70DB<br>84 æµ…ç»¿è‰² #8FBC8F<br>85 ç²‰çº¢è‰² #BC8F8F<br>86 æå­è‰² #EAADEA<br>87 çŸ³è‹±è‰² #D9D9F3<br>88 è‰³è“è‰² #5959AB<br>89 é²‘é±¼è‰² #6F4242<br>90 çŒ©çº¢è‰² #BC1717</p><p>91 æµ·ç»¿è‰² #238E68<br>92 åŠç”œå·§å…‹åŠ›è‰²#6B4226<br>93 èµ­è‰² #8E6B23<br>94 é“¶è‰² #E6E8FA<br>95 å¤©è“ #3299CC<br>96 çŸ³æ¿è“ #007FFF<br>97 è‰³ç²‰çº¢è‰² #FF1CAE<br>98 æ˜¥ç»¿è‰² #00FF7F<br>99 é’¢è“è‰² #236B8E<br>100 äº®å¤©è“è‰² #38B0DE</p><p>101 æ£•è¤è‰² #DB9370<br>102 ç´«çº¢è‰² #D8BFD8<br>103 çŸ³æ¿è“è‰² #ADEAEA<br>104 æµ“æ·±æ£•è‰² #5C4033<br>105 æ·¡æµ…ç°è‰² #CDCDCD<br>106 ç´«ç½—å…°è‰² #4F2F4F<br>107 ç´«ç½—å…°çº¢è‰² #CC3299<br>108 éº¦é»„è‰² #D8D8BF<br>109 é»„ç»¿è‰² #99CC<br>!!!</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºWindowsä¸‹éƒ¨åˆ†ä»£ç†æç¤º1080ç«¯å£è¢«å ç”¨é—®é¢˜</title>
      <link href="/2019/08/20/about-the-occupancy-of-port-1080-under-windows-agent-tips.html"/>
      <url>/2019/08/20/about-the-occupancy-of-port-1080-under-windows-agent-tips.html</url>
      
        <content type="html"><![CDATA[<p>æ‹¿æ¯”è¾ƒçƒ­é—¨çš„ï¿¥ï¿¥Rä¸¾ä¾‹<br>ä¼šæç¤ºï¼š<img src= "/img/loading.gif" data-src="/2019/08/20/about-the-occupancy-of-port-1080-under-windows-agent-tips/ssr1080.png" width="100%" alt="ssr1080"><br><strong><em>ä¸€</em></strong></p><pre><code>netstat -aon|findstr &quot;1080&quot;</code></pre><p>æŸ¥çœ‹ç«¯å£æ˜¯å¦è¢«å ç”¨</p><p><strong><em>äºŒ</em></strong><br>ç”±äºæ›´æ–°ç³»ç»Ÿå¯¼è‡´å®‰è£…äº†æŸç§å®‰å…¨æ›´æ–°<a href="https://docs.microsoft.com/en-us/windows/win32/winsock/windows-sockets-error-codes-2" target="_blank" rel="noopener">Windows Sockets Error Codes</a><br>è¿è¡Œå‘½ä»¤</p><pre><code>netsh interface ipv4 show excludedportrange protocol=tcp</code></pre><p>ä¸‹é¢æ˜¯æˆ‘çš„ç”µè„‘<br>![ssrport.png][3]<br>æç¤º1031-1130è¢«å ç”¨ï¼Œé‚£ä¹ˆæ–¹æ³•å°±æ˜¯ä½¿ç”¨é‡Œé¢æœªæåŠçš„ç«¯å£ï¼Œæˆ–è€…åˆ é™¤æ›´æ–°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>typechoæ–‡ç« ç•Œé¢è®¾ç½®å¤šå›½è¯­è¨€-Handsomeä¸»é¢˜</title>
      <link href="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages.html"/>
      <url>/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages.html</url>
      
        <content type="html"><![CDATA[<p><strong>æ‰‹åŠ¨åˆ‡æ¢è‹±æ–‡éœ€è¦åœ¨æµè§ˆå™¨è¯­è¨€ä¸­æŠŠè‹±æ–‡æŒªåˆ°æœ€å‰</strong><br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/changlang.png" width="100%" alt="changlang"></p><hr><p>æ­¤æ–‡ç« å†…å®¹è‡ªåŠ¨ç”Ÿæˆ<br>ä¸»è¦é€‚é…handsomeï¼Œå…¶ä»–ä¸»é¢˜ç¨å¾®ä¿®æ”¹</p><hr><p>[collapse status=â€falseâ€ title=â€0.0.1â€]<br>æ— <br>[/collapse]<br>[collapse status=â€falseâ€ title=â€0.0.2â€]<br>æ›¿æ¢åŸæœ‰<code>@</code>ä¸ºä¸æ˜“è¾“å…¥çš„å­—ç¬¦<code>&amp;</code><br>ä¸ºé¿å…è¾“å…¥éº»çƒ¦å°†åŸæœ‰&amp;zh_CN&amp;æ”¹ä¸º&amp;CN&amp;<br>[/collapse]<br>[collapse status=â€falseâ€ title=â€0.0.3â€]<br>ä½¿é¦–é¡µæ ‡é¢˜ï¼Œæµè§ˆå™¨æ ‡é¢˜æ”¯æŒå¤šè¯­è¨€<br>[/collapse]<br>[collapse status=â€falseâ€ title=â€0.0.4â€]<br>æ›´æ–°ä»£ç </p><pre><code>if(!empty($_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;])){                    $lang = substr($_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;],0,4);                    if(preg_match(&quot;/zh-c/i&quot;,$lang)){                        $langConfig = &quot;CN&quot;;                    }                    elseif(preg_match(&quot;/en/i&quot;,$lang)){                        $langConfig = &quot;US&quot;;                    }                    else{                        $langConfig = &quot;US&quot;;                    }                }                else{                    $langConfig = &apos;US&apos;;                }</code></pre><p><strong>0.0.4ä¿®æ”¹åªå–å‰4ä½ï¼Œè¿™æ ·åªåˆ¤æ–­æœ€ä¼˜å…ˆçš„è¯­è¨€ã€‚å¦‚æœå–å‰5ä½ï¼Œå¯èƒ½å‡ºç°en,zhçš„æƒ…å†µï¼Œå½±å“åˆ¤æ–­ã€‚</strong><br>[/collapse]<br>[collapse status=â€falseâ€ title=â€0.0.5â€]<br>ä½¿ä¾§æ çƒ­é—¨æ–‡ç« ã€éšæœºæ–‡ç« æ”¯æŒå¤šè¯­è¨€<br>å‰<img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/change-old.png" width="100%" alt="change-old"><br>å<img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/change-new.png" width="100%" alt="change-new"><br><strong>æ–¹æ³•</strong><br>åœ¨/libs/Content.phpä¸­æ·»åŠ <br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/Content.png" width="100%" alt="Content"><br>éšæœºæ–‡ç« åŒç†<br>[/collapse]<br>[collapse status=â€falseâ€ title=â€0.0.6â€]<br>ä½¿æ–‡ç« å†…å¼•ç”¨æ–‡ç« æ”¯æŒå¤šè¯­è¨€<br><strong>æ–¹æ³•</strong><br>åœ¨/libs/Content.phpä¸­æ·»åŠ <br>æ›´æ”¹quoteOtherPostCallbackå‡½æ•°<br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/Content-006.png" width="100%" alt="Content-006"><br>[/collapse]<br>[collapse status=â€falseâ€ title=â€0.0.7â€]<br>ä½¿å½’æ¡£æ”¯æŒå¤šè¯­è¨€<br><strong>æ–¹æ³•</strong><br>åœ¨/files.phpä¸­æ›´æ”¹<br>å¤§çº¦55è¡Œçš„ä½ç½®<br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/files-007.png" width="100%" alt="files-007"><br>æ•ˆæœ<br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/arv-007.png" width="100%" alt="arv-007"><br>[/collapse]</p><hr><p><strong>0.0.3æ•™ç¨‹å¼€å§‹</strong><br>åœ¨ä¸»é¢˜çš„functions.phpæœ«å°¾å¢åŠ ä¸¤æ®µå‡½æ•°</p><pre><code>function getLang($content, $lang){    preg_match_all(&apos;%&amp;&apos;.$lang.&apos;.*?&amp;(.*?)&amp;/&apos;.$lang.&apos;&amp;%si&apos;,$content,$match);    return(str_replace(&quot;&amp;/$lang&amp;&quot; , &quot;&quot;,str_replace(&quot;&amp;$lang&amp;&quot; , &quot;&quot;,str_replace(&quot;&amp;$lang&amp;&lt;br&gt;&quot; ,&quot;&quot; ,$match[0][0]))));}</code></pre><p>ä»¥ä¸Šå‡½æ•°å¯è‡ªå®šä¹‰ä¿®æ”¹<br>å¦‚<code>$pa = &#39;%@&#39;.$lang.&#39;.*?@(.*?)@/&#39;.$lang.&#39;@%si&#39;;</code>ä¸­çš„<code>@(.*?)@</code>ã€‚<br><code>(.*?)</code>åŒ¹é…ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦éè´ªå©ªæ¨¡å¼é‡åˆ°<code>/</code>å­—ç¬¦åœæ­¢</p><pre><code>function _lan($content){    if(!empty($_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;])){        $lang = $_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;];        if(preg_match(&quot;/zh-cn/i&quot;,$lang)){ #æ­¤å¤„è§0.0.4æ›´æ–°            $langConfig = &quot;CN&quot;;        }        else{            $langConfig = &quot;US&quot;;#æ­¤å¤„è§0.0.4æ›´æ–°        }    }    else{        $langConfig = &apos;US&apos;;    }    print(getLang($content, $langConfig));}</code></pre><p>åœ¨post.phpä¸­æ‰¾åˆ°</p><pre><code>&lt;?php echo Content::postContent($this,$this-&gt;user-&gt;hasLogin());?&gt;</code></pre><p>æ”¹ä¸º</p><pre><code>&lt;?php echo _lan(Content::postContent($this,$this-&gt;user-&gt;hasLogin()));?&gt;</code></pre><p>åœ¨libsç›®å½•ä¸‹æ‰¾åˆ°Content.php<br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/Content-003tech.png" width="100%" alt="Content-003tech"><br>è¿™ä¸ªæ˜¯ä¸ºäº†æ›´æ”¹æ‘˜è¦æ˜¾ç¤º<br>æ›´æ”¹ä¸ºä»¥ä¸‹</p><pre><code>if(!empty($_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;])){    $lang = $_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;];        if(preg_match(&quot;/zh-cn/i&quot;,$lang)){#æ­¤å¤„è§0.0.4æ›´æ–°            $langConfig = &quot;CN&quot;;            }        else{            $langConfig = &quot;US&quot;;#æ­¤å¤„è§0.0.4æ›´æ–°            }    }    else{        $langConfig = &apos;US&apos;;        }        $content = getLang($content, $langConfig);</code></pre><p>ç”±äº<code>$langConfig</code>ä¸ºå±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥å°±æŠŠç¨‹åºå¤åˆ¶äº†ä¸€ä»½</p><p><strong><em>æ ‡é¢˜è®¾ç½®å¤šå›½è¯­è¨€</em></strong><br>åœ¨ä¸»é¢˜functions.phpä¸­æ·»åŠ ä¸¤æ®µå‡½æ•°</p><pre><code>function getLanPi($content, $lang){    preg_match_all($lang,$content,$match);    if($lang == &quot;CN&quot;){        preg_match_all (&apos;/`.*`/&apos;, $content,$match);        return(str_replace(&quot;`&quot; , &quot;&quot;,$match[0][0]));    }    else{        preg_match_all (&apos;/~.*~/&apos;, $content,$match);        return(str_replace(&quot;~&quot; , &quot;&quot;,$match[0][0]));    }}</code></pre><pre><code>function _lanPi($content){    if(!empty($_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;])){        $lang = $_SERVER[&apos;HTTP_ACCEPT_LANGUAGE&apos;];        if(preg_match(&quot;/zh-cn/i&quot;,$lang)){#æ­¤å¤„è§0.0.4æ›´æ–°            $langConfig = &quot;CN&quot;;            #$langConfig = &quot;en_US&quot;;        }        else{            $langConfig = &quot;US&quot;;#æ­¤å¤„è§0.0.4æ›´æ–°        }    }    else{        $langConfig = &apos;US&apos;;    }    return(getLanPi($content, $langConfig));}</code></pre><p>ä¸­æ–‡ç”¨`æ ‡é¢˜`,è‹±æ–‡ç”¨<del>æ ‡é¢˜</del>éš”å¼€<br>ç„¶å<br>åœ¨/var/Widget/Archive.phpä¸­æ·»åŠ å¦‚å›¾<br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/arv-003tech.png" width="100%" alt="arv-003tech"><br>ä»¥ä¿®æ”¹archiveTitle()<br>ç„¶å<br>åœ¨ä¸»é¢˜pages.phpä¸­ä¿®æ”¹æ–‡ç« é¡µé¢æ ‡é¢˜<br>å¦‚å›¾<br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/pages-003tech.png" width="100%" alt="pages-003tech"><br>ç„¶å<br>åœ¨ä¸»é¢˜libs/Content.phpä¿®æ”¹echoPostList()æ¥ä¿®æ”¹é¦–é¡µæ ‡é¢˜<br>å¦‚å›¾<br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/Content-echo-003tech.png" width="100%" alt="Content-echo-003tech"></p><p>å®ç°æ–¹æ³•</p><pre><code>&amp;CN&amp;ä½ å¥½ï¼Œä¸–ç•Œï¼&amp;/CN&amp;&amp;US&amp;Hello,World!&amp;/US&amp;æ ‡é¢˜\`ä¸­æ–‡\`~è‹±æ–‡~</code></pre><p>åå°ç•Œé¢ï¼Œï¼ˆå¦‚æœçœ‹ä¸ä¸‹å»ï¼Œä»¥åå¯èƒ½ä¼šä¿®æ”¹ï¼‰ã€‚<br><img src= "/img/loading.gif" data-src="/2019/08/19/typeecho-articles-interface-setting-up-multilingual-languages/change-lang-admin-003.png" width="100%" alt="change-lang-admin-003"></p><hr><p><strong>ç„¶åé—®é¢˜å°±æ˜¯é’ˆå¯¹AMP/MIPçš„æ’ä»¶è¿˜éœ€è¦ä¿®æ”¹</strong><br><strong>Handsomeé˜…è¯»æ¨¡å¼å‡ºç°å…¨éƒ¨å†…å®¹æ˜¾ç¤ºï¼Œè¿˜éœ€ä¿®æ”¹</strong><br><del>Handsomeå¼•ç”¨æ–‡ç« é¡µé¢å‡ºç°å…¨éƒ¨å†…å®¹æ˜¾ç¤ºï¼Œè¿˜éœ€ä¿®æ”¹</del> å·²è§£å†³è§0.0.6<br><strong>ä»¥åä¼šé…ç½®typechoåå°æ–‡ç« ç•Œé¢æ˜¾ç¤ºå•è¯­è¨€</strong><br><del>ä¾§æ çƒ­é—¨æ–‡ç« å‡ºç°å…¨æ ‡é¢˜ï¼Œè¿˜éœ€ä¿®æ”¹</del> å·²è§£å†³ è§0.0.5<br><strong>ä»¥åä¼šæ·»åŠ å…¶ä»–åŠŸèƒ½å¦‚å¯ä»¥æ‰‹åŠ¨åˆ‡æ¢è¯­è¨€ç­‰</strong><br><del>æ–‡ç« å½’æ¡£é¡µé¢å‡ºç°å…¨æ ‡é¢˜ï¼Œè¿˜éœ€ä¿®æ”¹</del> å·²è§£å†³ è§0.0.7</p><hr><p>!!!<br>[scode type=â€blueâ€]<br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåŸåˆ›æ–‡ç« ï¼Œç‰ˆæƒå½’ KYLIN æ‰€æœ‰ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼<br><br>æœ¬æ–‡é“¾æ¥ï¼š<font color="#0000FF"><a href="https://www.xyz.blue/archives/typeecho-articles-interface-setting-up-multilingual-languages.html">https://www.xyz.blue/archives/typeecho-articles-interface-setting-up-multilingual-languages.html</a></font><br><br>å¦‚æ•™ç¨‹éœ€è¦æ›´æ–°ï¼Œæˆ–è€…ç›¸å…³é“¾æ¥å‡ºç°404ï¼Œå¯ä»¥åœ¨æ–‡ç« ä¸‹é¢è¯„è®ºç•™è¨€ã€‚<br>[/scode]<br>!!!</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>nftablesä¸€äº›å¸¸ç”¨é…ç½®æ–‡ä»¶</title>
      <link href="/2019/08/18/some-common-configuration-files-for-nftables.html"/>
      <url>/2019/08/18/some-common-configuration-files-for-nftables.html</url>
      
        <content type="html"><![CDATA[<p>[post cid=â€23â€ cover=â€https://<a href="http://www.xyz.blue\/usr\/uploads\/2019\/08\/3488367350.png&quot;/]">www.xyz.blue\/usr\/uploads\/2019\/08\/3488367350.png&quot;/]</a></p><pre><code>table inet filter {    chain input {        type filter hook input priority 0; policy drop;        # established/related connections        ct state established,related accept        # invalid connections        ct state invalid drop        # loopback interface        iif lo accept        # ICMP &amp; IGMP        ip6 nexthdr icmpv6 icmpv6 type { destination-unreachable, packet-too-big, time-exceeded, parameter-problem, mld-listener-query, mld-listener-report, mld-listener-reduction, nd-router-solicit, nd-router-advert, nd-neighbor-solicit, nd-neighbor-advert, ind-neighbor-solicit, ind-neighbor-advert, mld2-listener-report } accept        ip protocol icmp icmp type { destination-unreachable, router-solicitation, router-advertisement, time-exceeded, parameter-problem } accept        ip protocol igmp accept        # SSH (port 22)        tcp dport ssh accept        # HTTP (ports 80 &amp; 443)        tcp dport { http, https } accept    }    chain forward {        type filter hook forward priority 0; policy drop;    }    chain output {        type filter hook output priority 0; policy accept;    }}</code></pre><p>sshé™æµ</p><pre><code>table inet filter {    chain input {        type filter hook input priority 0; policy drop;        ct state invalid drop        iif lo accept        # no ping floods:        ip protocol icmp icmp type echo-request limit rate over 10/second burst 4 packets  drop        ip6 nexthdr icmpv6 icmpv6 type echo-request limit rate over 10/second burst 4 packets drop        ct state established,related accept        # ICMP &amp; IGMP        ip6 nexthdr icmpv6 icmpv6 type { destination-unreachable, packet-too-big, time-exceeded, parameter-problem, mld-listener-query, mld-listener-report, mld-listener-reduction, nd-router-solicit, nd-router-advert, nd-neighbor-solicit, nd-neighbor-advert, ind-neighbor-solicit, ind-neighbor-advert, mld2-listener-report } accept        ip protocol icmp icmp type { destination-unreachable, router-solicitation, router-advertisement, time-exceeded, parameter-problem } accept        ip protocol igmp accept        # avoid brute force on sshé™æµ15æ¬¡/åˆ†é’Ÿ:        tcp dport ssh ct state new limit rate 15/minute accept    }    chain forward {        type filter hook forward priority 0; policy drop;    }    chain output {        type filter hook output priority 0; policy accept;    }}</code></pre><p>è¦åˆ†TCPã€UDPçš„è¯ä½¿ç”¨tcpã€udpå‚æ•°å³å¯<br>è¯¦æƒ…å¯è§ï¼š<a href="https://wiki.debian.org/nftables" target="_blank" rel="noopener">https://wiki.debian.org/nftables</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä½¿ç”¨firewallã€ufwã€iptablesçš„æ›¿ä»£å“nftables</title>
      <link href="/2019/08/18/how-to-use-nftables-as-an-alternative-to-firewall-ufw-and-iptables.html"/>
      <url>/2019/08/18/how-to-use-nftables-as-an-alternative-to-firewall-ufw-and-iptables.html</url>
      
        <content type="html"><![CDATA[<p>æ›´æ”¹é»˜è®¤è®¾ç½®</p><pre><code># update-alternatives --set iptables /usr/sbin/iptables-nft# update-alternatives --set ip6tables /usr/sbin/ip6tables-nft# update-alternatives --set arptables /usr/sbin/arptables-nft# update-alternatives --set ebtables /usr/sbin/ebtables-nft</code></pre><p>æ¸…ç©ºå½“å‰è§„åˆ™é›†ï¼š</p><pre><code># nft flush ruleset</code></pre><p>æ·»åŠ ä¸€ä¸ªè¡¨ï¼š</p><pre><code># nft add table inet filter</code></pre><p>æ·»åŠ inputã€forwardå’Œoutputä¸‰ä¸ªåŸºæœ¬é“¾ã€‚inputå’Œforwardçš„é»˜è®¤ç­–ç•¥æ˜¯dropã€‚outputçš„é»˜è®¤ç­–ç•¥æ˜¯acceptã€‚</p><pre><code># nft add chain inet filter input { type filter hook input priority 0 \; policy drop \; }# nft add chain inet filter forward { type filter hook forward priority 0 \; policy drop \; }# nft add chain inet filter output { type filter hook output priority 0 \; policy accept \; }</code></pre><p>æ·»åŠ ä¸¤ä¸ªä¸TCPå’ŒUDPå…³è”çš„å¸¸è§„é“¾ï¼š</p><pre><code># nft add chain inet filter TCP# nft add chain inet filter UDP</code></pre><p>relatedå’Œestablishedçš„æµé‡ä¼šacceptï¼š</p><pre><code># nft add rule inet filter input ct state related,established accept</code></pre><p>loopbackæ¥å£çš„æµé‡ä¼šacceptï¼š</p><pre><code># nft add rule inet filter input iif lo accept</code></pre><p>æ— æ•ˆçš„æµé‡ä¼šdropï¼š</p><pre><code># nft add rule inet filter input ct state invalid drop</code></pre><p>æ–°çš„echoè¯·æ±‚ï¼ˆpingï¼‰ä¼šacceptï¼š</p><pre><code># nft add rule inet filter input ip protocol icmp icmp type echo-request ct state new accept</code></pre><p>æ–°çš„UDPæµé‡è·³è½¬åˆ°UDPé“¾ï¼š</p><pre><code># nft add rule inet filter input ip protocol udp ct state new jump UDP</code></pre><p>æ–°çš„TCPæµé‡è·³è½¬åˆ°TCPé“¾ï¼š</p><pre><code># nft add rule inet filter input ip protocol tcp tcp flags \&amp; \(fin\|syn\|rst\|ack\) == syn ct state new jump TCP</code></pre><p>æœªç”±å…¶ä»–è§„åˆ™å¤„ç†çš„æ‰€æœ‰é€šä¿¡ä¼šrejectï¼š</p><pre><code># nft add rule inet filter input ip protocol udp reject# nft add rule inet filter input ip protocol tcp reject with tcp reset# nft add rule inet filter input counter reject with icmp type prot-unreachable</code></pre><p>æ­¤æ—¶ï¼Œåº”å†³å®šå¯¹ä¼ å…¥è¿æ¥æ‰“å¼€å“ªäº›ç«¯å£ï¼Œè¿™äº›ç”±TCPå’ŒUDPé“¾å¤„ç†ã€‚ä¾‹å¦‚ï¼Œè¦æ‰“å¼€webæœåŠ¡å™¨çš„è¿æ¥ç«¯å£ï¼Œæ·»åŠ ï¼š</p><pre><code># nft add rule inet filter TCP tcp dport 80 accept</code></pre><p>è¦æ‰“å¼€webæœåŠ¡å™¨HTTPSè¿æ¥ç«¯å£443ï¼š</p><pre><code># nft add rule inet filter TCP tcp dport 443 accept</code></pre><p>å…è®¸SSHè¿æ¥ç«¯å£22ï¼š</p><pre><code># nft add rule inet filter TCP tcp dport 22 accept</code></pre><p>å…è®¸ä¼ å…¥DNSè¯·æ±‚ï¼š</p><pre><code># nft add rule inet filter TCP tcp dport 53 accept# nft add rule inet filter UDP udp dport 53 accept</code></pre><p>ç¡®ä¿æ›´æ”¹æ˜¯æ°¸ä¹…çš„ï¼ˆå†™å…¥åˆ°æ–‡ä»¶ï¼‰ã€‚</p><pre><code># nft list ruleset &gt; /etc/nftables.conf</code></pre><p>å‚è€ƒï¼š<a href="https://wiki.archlinux.org/index.php/Nftables_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Nftables_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç½‘ç»œé‡è£…Centosï¼ŒFedora</title>
      <link href="/2019/08/17/linux-network-reload-centos-fedora.html"/>
      <url>/2019/08/17/linux-network-reload-centos-fedora.html</url>
      
        <content type="html"><![CDATA[<pre><code>wget -O /boot/initrd.img http://mirror.centos.org/centos/7/os/x86_64/images/pxeboot/initrd.imgwget -O /boot/vmlinuz http://mirror.centos.org/centos/7/os/x86_64/images/pxeboot/vmlinuzcp /boot/initrd.img /cp /boot/vmlinuz /</code></pre><pre><code>nano /etc/grub.d/40_custom</code></pre><pre><code>menuentry &quot;InstallCentOS7&quot; {    set root=&apos;(hd0,msdos1)&apos;    linux /vmlinuz repo=http://mirror.centos.org/centos/7/os/x86_64/ ip=45.129.2.183 netmask=255.255.254.0 gateway=45.129.2.1 nameserver=1.1.1.1    initrd /initrd.img}</code></pre><p>ipå¯ä»¥ç›´æ¥å†™<code>ip=dhcp</code>ä¹Ÿå¯ä»¥ï¼Œå¦‚æœæ˜¯ç”¨dncpçš„è¯</p><pre><code>grub2-mkconfig --output=/boot/grub2/grub.cfggrub2-set-default InstallCentOS7</code></pre><p>æˆ–</p><pre><code>grub-mkconfig --output=/boot/grub/grub.cfggrub-set-default InstallCentOS7</code></pre><p><strong>FedoraåŒç†</strong></p><pre><code>wget -O /boot/initrd.img https://dl.fedoraproject.org/pub/fedora/linux/development/rawhide/Everything/x86_64/os/images/pxeboot/initrd.imgwget -O /boot/vmlinuz https://dl.fedoraproject.org/pub/fedora/linux/development/rawhide/Everything/x86_64/os/images/pxeboot/vmlinuzcp /boot/initrd.img /cp /boot/vmlinuz /</code></pre><pre><code>nano /etc/grub.d/40_custom</code></pre><pre><code>menuentry &quot;InstallFedora30&quot; {    set root=&apos;(hd0,msdos1)&apos;    linux /vmlinuz repo=https://dl.fedoraproject.org/pub/fedora/linux/development/rawhide/Everything/x86_64/os/ ip=dhcp    initrd /initrd.img}</code></pre><p>æ³¨ï¼šè¿™æ˜¯rawhideç‰ˆï¼Œä¹Ÿå°±ç›¸å½“äºæµ‹è¯•ç‰ˆï¼Œå¦‚éœ€æ­£å¼ç‰ˆï¼Œè‡ªå·±æ‰¾</p><pre><code>grub2-mkconfig --output=/boot/grub2/grub.cfggrub2-set-default InstallFedora30</code></pre><p>å¦‚æœç³»ç»Ÿæ˜¯grubçš„è¯</p><pre><code>grub-mkconfig --output=/boot/grub/grub.cfggrub-set-default InstallCentOS7</code></pre><p>å³å¯</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Fedoraä¸­è®¾ç½®å¼€æœºè„šæœ¬ï¼Œå¹¶é…ç½®he-ipv6</title>
      <link href="/2019/08/13/set-up-boot-script-in-fedora-and-configure-heipv6.html"/>
      <url>/2019/08/13/set-up-boot-script-in-fedora-and-configure-heipv6.html</url>
      
        <content type="html"><![CDATA[<pre><code>sudo touch /etc/rc.d/rc.localsudo nano /etc/rc.d/rc.local</code></pre><pre><code>#!/bin/bashsh /mycmd/getipv6.sh</code></pre><pre><code>chmod +x /etc/rc.d/rc.localsudo nano /usr/lib/systemd/system/rc-local.service</code></pre><pre><code>[Install]WantedBy=multi-user.targetsudo systemctl enable rc-local.service</code></pre>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨å¼€å¯selinuxçš„æƒ…å†µä¸‹æ›´æ¢sshç«¯å£</title>
      <link href="/2019/08/13/replacement-of-ssh-port-with-selinux-enabled.html"/>
      <url>/2019/08/13/replacement-of-ssh-port-with-selinux-enabled.html</url>
      
        <content type="html"><![CDATA[<p>semanage port -a -t ssh_port_t -p tcp 22122</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨dockeræ­å»ºé‚®ä»¶æœåŠ¡å™¨</title>
      <link href="/2019/08/10/using-docker-to-build-mail-server.html"/>
      <url>/2019/08/10/using-docker-to-build-mail-server.html</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨<code>Poste.io</code>æ­å»º<br><img src= "/img/loading.gif" data-src="/2019/08/10/using-docker-to-build-mail-server/poste.png" width="100%" alt="poste"></p><pre><code>docker run -d \    --net=host \    -v /etc/localtime:/etc/localtime:ro \    -v /poste/data:/data \    --name &quot;mailserver&quot; \    --privileged=true \    --restart=always \    -h &quot;mail.xyz.blue&quot; \    -t analogic/poste.io</code></pre><p>å…·ä½“è§å®˜ç½‘ï¼š<a href="https://poste.io" target="_blank" rel="noopener">https://poste.io</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å°å†…å­˜æœåŠ¡å™¨è®¾ç½®swapè™šæ‹Ÿå†…å­˜ï¼ŒåŠä¼˜åŒ–å‚æ•°</title>
      <link href="/2019/08/08/setting-up-swap-virtual-memory-on-small-memory-server-and-optimizing-parameters.html"/>
      <url>/2019/08/08/setting-up-swap-virtual-memory-on-small-memory-server-and-optimizing-parameters.html</url>
      
        <content type="html"><![CDATA[<p>é¿å…åº”ç”¨ç¨‹åºå†…å­˜ä¸è¶³é”™è¯¯çš„æœ€ç®€å•æ–¹æ³•ä¹‹ä¸€æ˜¯ä¸ºæœåŠ¡å™¨æ·»åŠ ä¸€äº›Swapç©ºé—´ã€‚Swapåˆ†åŒºåœ¨ç³»ç»Ÿçš„ç‰©ç†å†…å­˜ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼ŒæŠŠç‰©ç†å†…å­˜ä¸­çš„ä¸€éƒ¨åˆ†ç©ºé—´é‡Šæ”¾å‡ºæ¥ï¼Œä»¥ä¾›å½“å‰è¿è¡Œçš„ç¨‹åºä½¿ç”¨ã€‚é‚£äº›è¢«é‡Šæ”¾çš„ç©ºé—´å¯èƒ½æ¥è‡ªä¸€äº›å¾ˆé•¿æ—¶é—´æ²¡æœ‰ä»€ä¹ˆæ“ä½œçš„ç¨‹åºï¼Œè¿™äº›è¢«é‡Šæ”¾çš„ç©ºé—´è¢«ä¸´æ—¶ä¿å­˜åˆ°Swapåˆ†åŒºä¸­ï¼Œç­‰åˆ°é‚£äº›ç¨‹åºè¦è¿è¡Œæ—¶ï¼Œå†ä»Swapåˆ†åŒºä¸­æ¢å¤ä¿å­˜çš„æ•°æ®åˆ°å†…å­˜ä¸­ã€‚</p><p>æ³¨æ„ï¼šè™½ç„¶æˆ‘ä»¬å»ºè®®å¯¹ä½¿ç”¨ä¼ ç»Ÿæœºæ¢°ç¡¬ç›˜é©±åŠ¨å™¨çš„ç³»ç»Ÿè¿›è¡Œäº¤æ¢ï¼Œä½†å¯¹äºSSDæ¥è¯´ï¼Œä½¿ç”¨Swapå¯èƒ½ä¼šå¯¼è‡´ç¡¬ä»¶éšç€æ—¶é—´çš„æ¨ç§»è€Œå‡ºç°é—®é¢˜ã€‚å‡ºäºè¿™ç§è€ƒè™‘ï¼Œæˆ‘ä»¬ä¸å»ºè®®åœ¨ä»»ä½•å…¶ä»–ä½¿ç”¨SSDå­˜å‚¨ä¸Šå¯ç”¨Swapã€‚è¿™æ ·åšä¼šå½±å“åº•å±‚ç¡¬ä»¶çš„å¯é æ€§ã€‚æœ¬æ•™ç¨‹æ›´å»ºè®®é‡‡ç”¨ä¼ ç»Ÿæœºæ¢°ç¡¬ç›˜çš„ç”¨æˆ·ä½¿ç”¨ã€‚</p><p><strong>ç¬¬ä¸€æ­¥ã€æ£€æŸ¥ç³»ç»Ÿçš„äº¤æ¢ä¿¡æ¯</strong><br>æˆ‘ä»¬å¯ä»¥å…ˆæ¥æ£€æŸ¥ä¸€ä¸‹ç³»ç»Ÿæ˜¯å¦å·²ç»æœ‰å¯ç”¨çš„Swapç©ºé—´ã€‚æˆ‘ä»¬å¯ä»¥æœ‰å¤šä¸ªSwapæ–‡ä»¶æˆ–Swapåˆ†åŒºï¼Œä½†é€šå¸¸æ¥è®²ä¸€ä¸ªä¾¿è¶³å¤Ÿäº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å†…å®¹æ¥æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦å·²é…ç½®Swapï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo swapon --show</span><br></pre></td></tr></table></figure><p>å¦‚æœæ‚¨æ²¡æœ‰æ”¶åˆ°ä»»ä½•è¾“å‡ºï¼Œè¿™æ„å‘³ç€æ‚¨çš„ç³»ç»Ÿå½“å‰æ²¡æœ‰å¯ç”¨çš„Swapç©ºé—´ã€‚</p><p>æ‚¨å¯ä»¥ä½¿ç”¨freeå‘½ä»¤è¯æœ‰æ²¡æœ‰æ´»åŠ¨çš„swapï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">free -h</span><br><span class="line">              total        used        free      shared  buff&#x2F;cache   available</span><br><span class="line">Mem:           985M         84M        222M        680K        678M        721M</span><br><span class="line">Swap:            0B          0B          0B</span><br></pre></td></tr></table></figure><p>æ­£å¦‚æ‚¨åœ¨è¾“å‡ºçš„Swapè¡Œä¸­æ‰€çœ‹åˆ°çš„ï¼Œç³»ç»Ÿä¸Šæ²¡æœ‰æ­£åœ¨æ´»åŠ¨çš„swapã€‚</p><p><strong>ç¬¬äºŒæ­¥ã€æ£€æŸ¥ç¡¬ç›˜é©±åŠ¨å™¨åˆ†åŒºä¸Šçš„å¯ç”¨ç©ºé—´</strong><br>åœ¨æˆ‘ä»¬åˆ›å»ºswapæ–‡ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬å°†æ£€æŸ¥å½“å‰çš„ç£ç›˜ä½¿ç”¨æƒ…å†µï¼Œä»¥ç¡®ä¿æˆ‘ä»¬æœ‰è¶³å¤Ÿçš„ç©ºé—´ã€‚é€šè¿‡è¾“å…¥ï¼š<br><img src= "/img/loading.gif" data-src="/2019/08/08/setting-up-swap-virtual-memory-on-small-memory-server-and-optimizing-parameters/swap.png" width="100%" alt="Swap"></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">udev            481M     0  481M   0% &#x2F;dev</span><br><span class="line">tmpfs            99M  656K   98M   1% &#x2F;run</span><br><span class="line">&#x2F;dev&#x2F;vda1        25G  1.4G   23G   6% &#x2F;</span><br><span class="line">tmpfs           493M     0  493M   0% &#x2F;dev&#x2F;shm</span><br><span class="line">tmpfs           5.0M     0  5.0M   0% &#x2F;run&#x2F;lock</span><br><span class="line">tmpfs           493M     0  493M   0% &#x2F;sys&#x2F;fs&#x2F;cgroup</span><br><span class="line">&#x2F;dev&#x2F;vda15      105M  3.4M  102M   4% &#x2F;boot&#x2F;efi</span><br><span class="line">tmpfs            99M     0   99M   0% &#x2F;run&#x2F;user&#x2F;1000</span><br></pre></td></tr></table></figure><p>Mounted onåˆ—ä¸­çš„<code>/dev/vda1</code>æ˜¯æˆ‘ä»¬çš„ç£ç›˜ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼ˆä»…æœ‰1.4Gè¢«ä½¿ç”¨ï¼‰ã€‚</p><p>å¯¹swapç©ºé—´çš„é€‚å½“å¤§å°å®é™…ä¸Šå–å†³äºæ‚¨çš„ä¸ªäººåå¥½å’Œæ‚¨çš„åº”ç”¨ç¨‹åºè¦æ±‚ã€‚é€šå¸¸ï¼Œç­‰äºæˆ–åŒå€äºç³»ç»Ÿå†…å­˜çš„é‡æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚å¦‚æœæ‚¨åªæ˜¯å°†å…¶ç”¨ä½œRAMåå¤‡ï¼Œé‚£ä¹ˆä½ çš„swapåˆ†åŒºå°½å¯èƒ½ä¸è¦è¶…è¿‡4Gã€‚</p><p><strong>ç¬¬ä¸‰æ­¥ã€åˆ›å»ºSwapåˆ†åŒºæ–‡ä»¶</strong><br>æˆ‘ä»¬å¯ä»¥åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šåˆ›å»ºä¸€ä¸ªswapåˆ†åŒºã€‚æˆ‘ä»¬å°†åœ¨æ ¹/ç›®å½•ä¸­åˆ†é…æˆ‘ä»¬æƒ³è¦è°ƒç”¨çš„swapå¤§å°çš„æ–‡ä»¶swapfileã€‚</p><p>åˆ›å»ºäº¤æ¢æ–‡ä»¶çš„æœ€ä½³æ–¹æ³•æ˜¯ä½¿ç”¨fallocateã€‚æ­¤å‘½ä»¤å°†åˆ›å»ºæŒ‡å®šå¤§å°çš„æ–‡ä»¶ã€‚</p><p>ç”±äºæˆ‘ä»¬ç¤ºä¾‹ä¸­çš„æœåŠ¡å™¨å…·æœ‰1Gçš„RAMï¼Œå› æ­¤æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹ä¸­åˆ›å»º1Gæ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo fallocate -l 1G &#x2F;swapfile</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å†…å®¹æ¥éªŒè¯å…¶æ˜¯å¦ä¿ç•™äº†æ­£ç¡®çš„ç©ºé—´é‡ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls -lh &#x2F;swapfile</span><br><span class="line">-rw-r--r-- 1 root root 1.0G Apr 25 11:14 &#x2F;swapfile</span><br></pre></td></tr></table></figure><p><strong>ç¬¬å››æ­¥ã€å¯ç”¨Swapåˆ†åŒº</strong><br>æˆ‘ä»¬éœ€è¦å°†swapæ–‡ä»¶è½¬æ¢ä¸ºswapåˆ†åŒºã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦é”å®šæ–‡ä»¶çš„æƒé™ï¼Œä»¥ä¾¿åªæœ‰å…·æœ‰rootæƒé™çš„ç”¨æˆ·æ‰èƒ½è¯»å–å†…å®¹ã€‚</p><p>é€šè¿‡è¾“å…¥ä»¥ä¸‹å†…å®¹ä½¿è¯¥æ–‡ä»¶åªèƒ½ç”±rootè®¿é—®ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo chmod 600 &#x2F;swapfile</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤éªŒè¯æƒé™æ›´æ”¹ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls -lh &#x2F;swapfile</span><br><span class="line">-rw------- 1 root root 1.0G Apr 25 11:14 &#x2F;swapfile</span><br></pre></td></tr></table></figure><p>å¦‚æ‚¨æ‰€è§ï¼Œåªæœ‰rootç”¨æˆ·å¯ç”¨äº†è¯»å†™æ ‡å¿—ã€‚</p><p>æˆ‘ä»¬ç°åœ¨å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å†…å®¹å°†æ–‡ä»¶æ ‡è®°ä¸ºswapç©ºé—´</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mkswap &#x2F;swapfile</span><br><span class="line">Setting up swapspace version 1, size &#x3D; 1024 MiB (1073737728 bytes)</span><br><span class="line">no label, UUID&#x3D;6e965805-2ab9-450f-aed6-577e74089dbf</span><br></pre></td></tr></table></figure><p>æ ‡è®°æ–‡ä»¶åï¼Œæˆ‘ä»¬å¯ä»¥å¯ç”¨swapæ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo swapon &#x2F;swapfile</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å†…å®¹éªŒè¯äº¤æ¢æ˜¯å¦å¯ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo swapon --show</span><br><span class="line">NAME      TYPE  SIZE USED PRIO</span><br><span class="line">&#x2F;swapfile file 1024M   0B   -2</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ç”¨freeå‘½ä»¤å†æ¬¡æ£€æŸ¥ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">free -h</span><br><span class="line">              total        used        free      shared  buff&#x2F;cache   available</span><br><span class="line">Mem:           985M         84M        220M        680K        680M        722M</span><br><span class="line">Swap:          1.0G          0B        1.0G</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çš„swapå·²æˆåŠŸè®¾ç½®ï¼Œæˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿå°†åœ¨å¿…è¦æ—¶ä½¿ç”¨å®ƒã€‚</p><p><strong>ç¬¬äº”æ­¥ã€æ°¸ä¹…åŒ–swapæ–‡ä»¶</strong><br>æˆ‘ä»¬å·²å¯ç”¨å½“å‰ä¼šè¯ä¸­çš„swapæ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬é‡æ–°å¯åŠ¨çš„è¯ï¼ŒæœåŠ¡å™¨å°†ä¸ä¼šè‡ªåŠ¨ä¿ç•™swapè®¾ç½®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†äº¤æ¢æ–‡ä»¶æ·»åŠ åˆ°æˆ‘ä»¬çš„<code>/etc/fstab</code>æ¥è¿›è¡Œæ›´æ”¹ã€‚</p><p>ä¸ºäº†é¿å…å‡ºç°ä»»ä½•é—®é¢˜ï¼Œå…ˆå¤‡ä»½<code>/etc/fstab</code>æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo cp &#x2F;etc&#x2F;fstab &#x2F;etc&#x2F;fstab.bak</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼Œå°†swapæ–‡ä»¶ä¿¡æ¯æ·»åŠ åˆ°<code>/etc/fstab</code>æ–‡ä»¶æœ«å°¾ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &#39;&#x2F;swapfile none swap sw 0 0&#39; | sudo tee -a &#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è°ƒæ•´æˆ‘ä»¬çš„swapç©ºé—´ã€‚</p><p><strong>ç¬¬å…­æ­¥ã€è°ƒæ•´æ‚¨çš„Swapè®¾ç½®</strong><br>æ‚¨å¯ä»¥é…ç½®ä¸€äº›é€‰é¡¹ï¼Œè¿™äº›é€‰é¡¹ä¼šåœ¨å¤„ç†swapæ—¶å¯¹ç³»ç»Ÿçš„æ€§èƒ½äº§ç”Ÿå½±å“ã€‚</p><p>è°ƒæ•´Swappinesså‚æ•°<br>è¯¥swappinesså‚æ•°ä¸»è¦é…ç½®ç³»ç»Ÿå°†æ•°æ®ä»RAMäº¤æ¢åˆ°äº¤æ¢ç©ºé—´çš„é¢‘ç‡ã€‚è¯¥å‚æ•°çš„å€¼æ˜¯ä»‹äº0å’Œ100ä¹‹é—´çš„ç™¾åˆ†æ¯”ã€‚</p><p>å½“å€¼æ¥è¿‘äºé›¶æ—¶ï¼Œé™¤éç»å¯¹å¿…è¦ï¼Œå¦åˆ™å†…æ ¸ä¸ä¼šå°†æ•°æ®äº¤æ¢åˆ°ç£ç›˜ã€‚è¯·è®°ä½ï¼Œä¸swapæ–‡ä»¶çš„äº¤äº’æ˜¯â€œè´¹æ—¶çš„â€ï¼Œå› ä¸ºå®ƒä»¬æ¯”ä¸RAMçš„äº¤äº’èŠ±è´¹æ›´é•¿çš„æ—¶é—´ï¼Œå¹¶ä¸”å®ƒä»¬å¯èƒ½å¯¼è‡´æ€§èƒ½çš„æ˜¾ç€é™ä½ã€‚</p><p>å½“è¯¥å€¼æ¥è¿‘100æ—¶ï¼Œå…¶å°†å°è¯•å°†æ›´å¤šæ•°æ®æ”¾å…¥äº¤æ¢ä¸­ä»¥åŠªåŠ›ä¿ç•™æ›´å¤šçš„RAMç©ºé—´ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å†…å®¹æ¥æŸ¥çœ‹å½“å‰çš„swappinesså€¼ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &#x2F;proc&#x2F;sys&#x2F;vm&#x2F;swappiness</span><br><span class="line">60</span><br></pre></td></tr></table></figure><p>å¯¹äºæœåŠ¡å™¨æœ¬èº«æ¥è¯´ï¼Œæ‚¨å¯èƒ½å¸Œæœ›è¿™ä¸ªæ•°å€¼æ›´æ¥è¿‘äº0ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>sysctl</code>å‘½ä»¤å°†swappinessè®¾ç½®ä¸ºä¸åŒçš„å€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œè¦å°†swappinessè®¾ç½®ä¸º10ï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo sysctl vm.swappiness&#x3D;10</span><br><span class="line">vm.swappiness &#x3D; 10</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨<code>/etc/sysctl.conf</code>æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹è¡Œæ¥è‡ªåŠ¨è®¾ç½®æ­¤å€¼ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo nano &#x2F;etc&#x2F;sysctl.conf</span><br></pre></td></tr></table></figure><p>åœ¨åº•éƒ¨ï¼Œæ‚¨å¯ä»¥æ·»åŠ ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vm.swappiness&#x3D;10</span><br></pre></td></tr></table></figure><p>å®Œæˆåä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚</p><p>è°ƒæ•´ç¼“å­˜å‹åŠ›è®¾ç½®<br>æ‚¨å¯èƒ½æƒ³è¦ä¿®æ”¹çš„å¦ä¸€ä¸ªç›¸å…³å€¼æ˜¯<code>vfs_cache_pressure</code>ã€‚è¿™å°†å…³ç³»åˆ°ç³»ç»Ÿé€‰æ‹©å¤šå°‘ç¼“å­˜inodeå’Œdentryä¿¡æ¯ã€‚</p><p>æ‚¨å¯ä»¥é€šè¿‡procå‘½ä»¤æ¥æŸ¥çœ‹å½“å‰å€¼ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &#x2F;proc&#x2F;sys&#x2F;vm&#x2F;vfs_cache_pressure</span><br><span class="line">100</span><br></pre></td></tr></table></figure><p>æˆ‘çš„è®¾ç½®ç³»ç»Ÿä¼šå¾ˆå¿«åœ°ä»ç¼“å­˜ä¸­åˆ é™¤inodeä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å†…å®¹å°†å…¶è®¾ç½®ä¸ºæ›´ä¿å®ˆçš„å€¼ï¼ˆå¦‚50ï¼‰æ›´å¿«å°±200ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo sysctl vm.vfs_cache_pressure&#x3D;50</span><br><span class="line">vm.vfs_cache_pressure &#x3D; 50</span><br></pre></td></tr></table></figure><p>åŒæ ·ï¼Œè¿™ä»…é€‚ç”¨äºæˆ‘ä»¬å½“å‰çš„ä¼šè¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å…¶æ·»åŠ åˆ°é…ç½®æ–‡ä»¶æ¥æ”¹å˜å®ƒï¼Œå°±åƒæˆ‘ä»¬ä½¿ç”¨swappinessè®¾ç½®ä¸€æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo nano &#x2F;etc&#x2F;sysctl.conf</span><br></pre></td></tr></table></figure><p>åœ¨åº•éƒ¨ï¼Œæ·»åŠ æŒ‡å®šæ–°å€¼çš„è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vm.vfs_cache_pressure&#x3D;50</span><br></pre></td></tr></table></figure><p>å®Œæˆåä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚</p><p>ç»“è®º<br>æœ¬æ•™ç¨‹å°†ä¸ºæ‚¨æä¾›ä¸€äº›é¢å¤–çš„ç©ºé—´æ¥é¿å…å†…å­˜ä¸è¶³çš„å¼‚å¸¸ã€‚swapç©ºé—´å¯ä»¥é¿å…ä¸€äº›å¸¸è§é—®é¢˜ã€‚å¦‚æœé‡åˆ°å†…å­˜ä¸è¶³é”™è¯¯ï¼Œæˆ–è€…å‘ç°ç³»ç»Ÿæ— æ³•ä½¿ç”¨æ‰€éœ€çš„åº”ç”¨ç¨‹åºï¼Œæ‚¨çš„æœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯ä¼˜åŒ–åº”ç”¨ç¨‹åºé…ç½®æˆ–å‡çº§æœåŠ¡å™¨ã€‚</p><p>è½¬è‡ªï¼š<a href="https://cloud.tencent.com/developer/article/1165387ä¿®æ”¹äº†éƒ¨åˆ†" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1165387ä¿®æ”¹äº†éƒ¨åˆ†</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°å†…å­˜ </tag>
            
            <tag> Swap </tag>
            
            <tag> è™šæ‹Ÿå†…å­˜ </tag>
            
            <tag> ä¼˜åŒ–å‚æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¬ä¹‰å­—ç¬¦å«ä¹‰ï¼Œæ–¹ä¾¿è®°å¿†</title>
      <link href="/2019/08/08/conversion-character-meaning-convenient-memory.html"/>
      <url>/2019/08/08/conversion-character-meaning-convenient-memory.html</url>
      
        <content type="html"><![CDATA[<p>\næ˜¯newline<br>\tæ˜¯tabulatorï¼ˆä¹Ÿå°±æ˜¯é”®ç›˜ä¸Šçš„tabï¼‰<br>\væ˜¯vertical tab<br>\bæ˜¯backspaceï¼ˆä¹Ÿå°±æ˜¯é”®ç›˜ä¸Šçš„é€€æ ¼é”®ï¼‰<br>\ræ˜¯return ï¼ˆä¹Ÿå°±æ˜¯é”®ç›˜ä¸Šçš„å›è½¦ï¼Œåªä¸è¿‡é”®ç›˜ä¸Šå†™çš„æ˜¯enterï¼Œæ„ä¸ºè¿›å…¥ï¼‰<br>\fæ˜¯form feedï¼ˆæˆ–feedï¼‰<br>\aæ˜¯alarm</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬ä¹‰å­—ç¬¦ </tag>
            
            <tag> è½¬ä¹‰ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•åœ¨CloudFlareä¸­ä½¿ç”¨é80ã€443ç«¯å£é€šä¿¡</title>
      <link href="/2019/08/05/how-to-use-non80-and-443-ports-to-communicate-in-cloudflare.html"/>
      <url>/2019/08/05/how-to-use-non80-and-443-ports-to-communicate-in-cloudflare.html</url>
      
        <content type="html"><![CDATA[<p>ç½‘é¡µä½¿ç”¨80ï¼Œ443ç«¯å£<br>Cloudflareå‡ ä¹å¯ä»¥ä»£ç†æ‰€æœ‰TCPç«¯å£ã€‚æ”¯æŒä¸¤ç§ä»£ç†ï¼š<br>åº”ç”¨ç¨‹åºçº§åˆ«ï¼ˆç¬¬7å±‚ï¼‰HTTPä»£ç†ï¼Œé¢‘è°±ï¼Œä¼ è¾“çº§åˆ«ï¼ˆç¬¬4å±‚ï¼‰TCPä»£ç†<br>HTTPä»£ç†<br>Cloudflareå¯ä»¥ä»£ç†é€šè¿‡ä¸‹é¢åˆ—å‡ºçš„HTTP / HTTPSç«¯å£çš„æµé‡ã€‚</p><p>å¦‚æœæ‚¨çš„æµé‡ä½äºä¸åŒçš„ç«¯å£ï¼Œåˆ™å¯ä»¥å°†å…¶ä½œä¸ºæˆ‘ä»¬ä¸ä»£ç†çš„å†…å®¹æ·»åŠ ä¸ºCloudflare DNSåŒºåŸŸæ–‡ä»¶ä¸­çš„è®°å½•ï¼ˆç°è‰²äº‘=æ²¡æœ‰Cloudflareä»£ç†æˆ–è®°å½•ç¼“å­˜ï¼‰ã€‚</p><p>Cloudflareæ”¯æŒçš„HTTPç«¯å£æ˜¯ï¼š<br>80<br>8080<br>8880<br>2052<br>2082<br>2086<br>2095</p><p>Cloudflareæ”¯æŒçš„HTTPsç«¯å£æ˜¯ï¼š<br>443<br>2053<br>2083<br>2087<br>2096<br>8443</p><p>å¯¹äºProè®¡åˆ’åŠæ›´é«˜ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨WAFè§„åˆ™ID 100015é˜»æ­¢80å’Œ443ä»¥å¤–çš„ç«¯å£ä¸Šçš„æµé‡ï¼šâ€œé˜»æ­¢å¯¹é™¤80å’Œ443ä¹‹å¤–çš„æ‰€æœ‰ç«¯å£çš„è¯·æ±‚â€ã€‚</p><p>ç«¯å£80å’Œ443æ˜¯å”¯ä¸€çš„ç«¯å£ï¼š</p><p>å¯¹äºå¯ç”¨äº†ä¸­å›½ç½‘ç»œçš„åŒºåŸŸå†…çš„ä¸­å›½å¢ƒå†…çš„HTTP / HTTPSæµé‡<br>å¯¹äºCloudflareåº”ç”¨ç¨‹åºèƒ½å¤Ÿä»£ç†<br>å½“CloudFlareçš„ç¼“å­˜å¯ç”¨</p><p>å½“ç„¶å¦‚æœä½ æœ‰é’±ï¼Œå¯ä»¥è‡ªå®šä¹‰ç«¯å£ï¼ŒåŸºæœ¬æ‰€æœ‰TCPç«¯å£éƒ½å¯ä»¥<br><img src= "/img/loading.gif" data-src="/2019/08/05/how-to-use-non80-and-443-ports-to-communicate-in-cloudflare/port.png" width="100%" alt="ç«¯å£"></p><p>å®˜ç½‘è¯´æ˜ï¼š<a href="https://support.cloudflare.com/hc/en-us/articles/200169156-Which-ports-will-Cloudflare-work-with-" target="_blank" rel="noopener">https://support.cloudflare.com/hc/en-us/articles/200169156-Which-ports-will-Cloudflare-work-with-</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cloudflare </tag>
            
            <tag> é€šä¿¡ </tag>
            
            <tag> 80 </tag>
            
            <tag> 443 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éƒ¨åˆ†ç”µä¿¡å…‰çŒ«æŸ¥çœ‹è¶…çº§ç®¡ç†å‘˜å¯†ç </title>
      <link href="/2019/08/03/some-telecom-optical-cats-view-super-administrator-password.html"/>
      <url>/2019/08/03/some-telecom-optical-cats-view-super-administrator-password.html</url>
      
        <content type="html"><![CDATA[<p>æ‰“å¼€<a href="http://192.168.1.1/cgi-bin/baseinfoSet.cgi" target="_blank" rel="noopener">http://192.168.1.1/cgi-bin/baseinfoSet.cgi</a><br>éƒ¨åˆ†å¯ä»¥ï¼Œå…¶å®è¿˜æ˜¯é€šè¿‡æŸä¸ªâ€ç½‘é¡µâ€æ¥æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯<br>å¦‚å›¾<br><img src= "/img/loading.gif" data-src="/2019/08/03/some-telecom-optical-cats-view-super-administrator-password/telecom.png" width="100%" alt="ç½‘é¡µç•Œé¢"><br>ä½¿ç”¨ä¸‹é¢pythonè„šæœ¬è¿›è¡Œè§£å¯†ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">list&#x3D;[120,105,112,105,103,115,113,101,104,113,109,114,53,48,54,55,54,51,51,57]</span><br><span class="line">result&#x3D;[]</span><br><span class="line">for i in list:</span><br><span class="line">if i &gt; 57:</span><br><span class="line">i-&#x3D;4</span><br><span class="line">result.append(chr(i))</span><br><span class="line">print &#39;&#39;.join(result)</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰pythonç¯å¢ƒ<br>å¯ä»¥åœ¨çº¿è¿è¡Œ<br><a href="http://www.pythontip.com/coding/run" target="_blank" rel="noopener">http://www.pythontip.com/coding/run</a><br>list=æ›¿æ¢æˆè‡ªå·±è®¾å¤‡çš„åŠ å¯†å¯†ç å³å¯ã€‚<br><img src= "/img/loading.gif" data-src="/2019/08/03/some-telecom-optical-cats-view-super-administrator-password/telecom-python.png" width="100%" alt="Pythonç¼–è¯‘å™¨"></p><p>éƒ¨åˆ†æ¥è‡ªï¼š<a href="https://blog.51cto.com/jzking121/1750713" target="_blank" rel="noopener">https://blog.51cto.com/jzking121/1750713</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯†ç  </tag>
            
            <tag> ç”µä¿¡ </tag>
            
            <tag> è¶…çº§ç®¡ç†å‘˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Ubuntu17.04+ä¸­ä½¿ç”¨netplané…ç½®ipv6éš§é“</title>
      <link href="/2019/08/01/using-netplan-to-configure-ipv6-tunnel-in-ubuntu-1704.html"/>
      <url>/2019/08/01/using-netplan-to-configure-ipv6-tunnel-in-ubuntu-1704.html</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä»¬çŸ¥é“åœ¨Ubuntu17.04+ä¸­ä½¿ç”¨äº†<code>netplan</code>æ¥ä»£æ›¿<code>/etc/network/interfaces</code><br>é‚£ä¹ˆæœ‰ä¸¤ç§æ–¹æ³•<br>ä¸€ï¼š<br>å¸è½½netplané‡æ–°ä½¿ç”¨interfaces</p><figure class="highlight plain"><figcaption><span>remove netplan```</span></figcaption><table><tr><td class="code"><pre><span class="line">ç„¶åå‚ç…§&#x2F;etc&#x2F;network&#x2F;interfacesä¸­æ³¨é‡Šçš„éƒ¨åˆ†çš„æ¥åšï¼Œç”±äºæ²¡æœ‰Ubuntuçš„æœºå™¨ï¼Œç­‰æœ‰äº†å†åŠ </span><br><span class="line"></span><br><span class="line">äºŒï¼š</span><br><span class="line">ä»¥è¾ƒå‡ºåçš„he-ipv6ä¸ºä¾‹</span><br><span class="line">1.åˆ›å»º &#96;&#96;&#96;&#x2F;etc&#x2F;systemd&#x2F;network&#x2F;he-ipv6.network</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Match]</span><br><span class="line"></span><br><span class="line">[Network]</span><br><span class="line">Tunnel&#x3D;he-ipv6</span><br></pre></td></tr></table></figure><p>2.åˆ›å»º <code>/etc/systemd/network/he-ipv6-tunnel.netdev</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[Match]                                                                                                                                                                                                            </span><br><span class="line"></span><br><span class="line">[NetDev]                                                                                                                                                                                                           </span><br><span class="line">Name&#x3D;he-ipv6                                        </span><br><span class="line">Kind&#x3D;sit                                            </span><br><span class="line"></span><br><span class="line">[Tunnel]</span><br><span class="line">Independent&#x3D;true                                            </span><br><span class="line">Local&#x3D;192.168.0.x #Private IP if behind NAT or Public IP without NAT                                   </span><br><span class="line">Remote&#x3D;184.105.250.46 #Tunnel broker&#39;s IPv4 address                         </span><br><span class="line">TTL&#x3D;255</span><br></pre></td></tr></table></figure><p>3.é…ç½® <code>/etc/netplan/01-netcfg.yaml</code></p><figure class="highlight plain"><figcaption><span>/etc/netplan/01-netcfg.yaml```</span></figcaption><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨è‡ªå·±å–œæ¬¢çš„ç¼–è¾‘å™¨ï¼Œè¿™é‡Œä½¿ç”¨nano</span><br><span class="line">&lt;img src&#x3D;&quot;he-ipv6.png&quot; width&#x3D;&quot;100%&quot; alt&#x3D;&quot;he-ipv6&quot;&gt;</span><br></pre></td></tr></table></figure><h1 id="This-file-describes-the-network-interfaces-available-on-your-system"><a href="#This-file-describes-the-network-interfaces-available-on-your-system" class="headerlink" title="This file describes the network interfaces available on your system"></a>This file describes the network interfaces available on your system</h1><h1 id="For-more-information-see-netplan-5"><a href="#For-more-information-see-netplan-5" class="headerlink" title="For more information, see netplan(5)."></a>For more information, see netplan(5).</h1><p>network:<br>  version: 2<br>  renderer: networkd<br>  ethernets:<br>      he-ipv6:<br>          dhcp4: no<br>          dhcp6: no<br>          addresses: [â€˜2001:470:xxx:xxx::2/64â€™]<br>          gateway6: 2001:470:xxx:xxx::1<br>      enp0s3:<br>      â€¦</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">é¡ºåºä¼šæœ‰æ‰€å·®åˆ«ï¼Œä¸è¿‡ä¸€å®šè¦æ³¨æ„æ ¼å¼ï¼</span><br><span class="line">é‚£ä¸ªdhcpçš„å¯è¦å¯ä¸è¦</span><br><span class="line">4.é‡å¯ç½‘ç»œ</span><br><span class="line">&#96;&#96;&#96;systemctl restart systemd-networkd &amp;&amp; netplan apply</span><br></pre></td></tr></table></figure><p>éƒ¨åˆ†æ¥è‡ªï¼š<a href="https://askubuntu.com/questions/990195/ipv6-tunnel-in-ubuntu-17-10" target="_blank" rel="noopener">https://askubuntu.com/questions/990195/ipv6-tunnel-in-ubuntu-17-10</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å¸¸ç”¨é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Netplan </tag>
            
            <tag> Ipv6 </tag>
            
            <tag> éš§é“ </tag>
            
            <tag> Ipv6éš§é“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typechoä¸­å¦‚ä½•ä½¿ç”¨emoji</title>
      <link href="/2019/08/01/how-to-use-emoji-in-typecho.html"/>
      <url>/2019/08/01/how-to-use-emoji-in-typecho.html</url>
      
        <content type="html"><![CDATA[<p>Mysqlæ•°æ®åº“ä½¿ç”¨utf8mb4æ ¼å¼æˆ–è€…ä½¿ç”¨sqliteæ•°æ®åº“å³å¯ã€‚<br>æ•ˆæœï¼šğŸ˜˜ğŸ˜ğŸ˜ğŸ¤£ğŸ˜‚ğŸ˜ŠğŸ˜‰ğŸ˜ğŸ˜œ</p><p>åšå®¢æ¢äº†ï¼Œæ•ˆæœä½ ä¹Ÿçœ‹ä¸åˆ°ğŸ˜œ</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typecho </tag>
            
            <tag> Emoji </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•æŸ¥çœ‹typechoä¸­é¡µé¢çš„cidï¼Ÿ</title>
      <link href="/2019/08/01/how-to-view-cid-of-the-page-in-typecho.html"/>
      <url>/2019/08/01/how-to-view-cid-of-the-page-in-typecho.html</url>
      
        <content type="html"><![CDATA[<p>å¦‚ä½•æŸ¥çœ‹typechoä¸­é¡µé¢çš„cidï¼Ÿ<br>å¦‚æœå½“ä½ æŠŠé¡µé¢çš„é“¾æ¥è‡ªå®šä¹‰äº†çš„è¯ï¼Œé‚£ä¹ˆæ‰“å¼€é¡µé¢ï¼Œå¦‚å›¾æ‰€ç¤ºå°±æ˜¯é¡µé¢çš„cidäº†ï¼Œæ–‡ç« ä¹Ÿä¸€æ ·ã€‚</p><img src= "/img/loading.gif" data-src="/2019/08/01/how-to-view-cid-of-the-page-in-typecho/cid.png" width="100%" alt="æŸ¥çœ‹cid">]]></content>
      
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¸¸ç”¨é…ç½® </tag>
            
            <tag> Typecho </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ å¥½ï¼Œä¸–ç•Œï¼</title>
      <link href="/2019/08/01/start.html"/>
      <url>/2019/08/01/start.html</url>
      
        <content type="html"><![CDATA[<img src= "/img/loading.gif" data-src="/2019/08/01/start/hello-world.jpg" width="100%" alt="ä½ å¥½ï¼Œä¸–ç•Œï¼">ä½ å¥½ï¼Œä¸–ç•Œï¼]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
